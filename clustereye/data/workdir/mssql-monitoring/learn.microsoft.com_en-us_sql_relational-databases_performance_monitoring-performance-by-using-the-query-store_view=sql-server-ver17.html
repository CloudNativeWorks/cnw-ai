 <!DOCTYPE html>
		<html
			class="layout layout-holy-grail   show-table-of-contents conceptual show-breadcrumb default-focus"
			lang="en-us"
			dir="ltr"
			data-authenticated="false"
			data-auth-status-determined="false"
			data-target="docs"
			x-ms-format-detection="none"
		>
			
		<head>
			<title>Monitor Performance by Using the Query Store - SQL Server | Microsoft Learn</title>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1.0" />
			<meta name="color-scheme" content="light dark" />

			<meta name="description" content="Query Store provides insight on query plan choice and performance for SQL Server, Azure SQL Database, Azure SQL Managed Instance, and Azure Synapse Analytics. Query Store captures history of queries, plans, and runtime statistics." />
			<link rel="canonical" href="https://learn.microsoft.com/en-us/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?view=sql-server-ver17" /> 

			<!-- Non-customizable open graph and sharing-related metadata -->
			<meta name="twitter:card" content="summary_large_image" />
			<meta name="twitter:site" content="@MicrosoftLearn" />
			<meta property="og:type" content="website" />
			<meta property="og:image:alt" content="Microsoft Learn" />
			<meta property="og:image" content="https://learn.microsoft.com/en-us/media/open-graph-image.png" />
			<!-- Page specific open graph and sharing-related metadata -->
			<meta property="og:title" content="Monitor Performance by Using the Query Store - SQL Server" />
			<meta property="og:url" content="https://learn.microsoft.com/en-us/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?view=sql-server-ver17" />
			<meta property="og:description" content="Query Store provides insight on query plan choice and performance for SQL Server, Azure SQL Database, Azure SQL Managed Instance, and Azure Synapse Analytics. Query Store captures history of queries, plans, and runtime statistics." />
			<meta name="platform_id" content="61d86861-b0c0-546e-c4af-44b3aabe89e9" /> <meta name="scope" content="sql" />
			<meta name="locale" content="en-us" />
			 <meta name="adobe-target" content="true" /> 
			<meta name="uhfHeaderId" content="MSDocsHeader-DocsSQL" />

			<meta name="page_type" content="conceptual" />

			<!--page specific meta tags-->
			

			<!-- custom meta tags -->
			
		<meta name="toc_preview" content="true" />
	
		<meta name="feedback_system" content="Standard" />
	
		<meta name="feedback_product_url" content="https://feedback.azure.com/d365community/forum/04fe6ee0-3b25-ec11-b6e6-000d3a4f0da0" />
	
		<meta name="feedback_help_link_url" content="https://learn.microsoft.com/answers/tags/191/sql-server" />
	
		<meta name="feedback_help_link_type" content="get-help-at-qna" />
	
		<meta name="recommendations" content="true" />
	
		<meta name="manager" content="jroth" />
	
		<meta name="breadcrumb_path" content="../../breadcrumb/toc.json" />
	
		<meta name="monikerRange" content="=azuresqldb-current || &gt;=sql-server-2016 || &gt;=sql-server-linux-2017 || =azuresqldb-mi-current || =azure-sqldw-latest || =fabric-sqldb" />
	
		<meta name="ms.update-cycle" content="1825-days" />
	
		<meta name="author" content="MikeRayMSFT" />
	
		<meta name="ms.author" content="mikeray" />
	
		<meta name="ms.date" content="2025-08-21T00:00:00Z" />
	
		<meta name="ms.service" content="sql" />
	
		<meta name="ms.subservice" content="performance" />
	
		<meta name="ms.topic" content="concept-article" />
	
		<meta name="ms.custom" content="sfi-image-nochange" />
	
		<meta name="ms.custom" content="ignite-2025" />
	
		<meta name="document_id" content="49b587ab-50b8-eada-aa86-ba0c838c57ee" />
	
		<meta name="document_version_independent_id" content="f1fd2d52-b66f-4fbc-c54a-c688c4fd0f21" />
	
		<meta name="updated_at" content="2025-11-18T23:37:00Z" />
	
		<meta name="original_content_git_url" content="https://github.com/MicrosoftDocs/sql-docs-pr/blob/live/docs/relational-databases/performance/monitoring-performance-by-using-the-query-store.md" />
	
		<meta name="gitcommit" content="https://github.com/MicrosoftDocs/sql-docs-pr/blob/7eb5d412a5ae6b2d5a161b9ad64ee5320b1988d7/docs/relational-databases/performance/monitoring-performance-by-using-the-query-store.md" />
	
		<meta name="git_commit_id" content="7eb5d412a5ae6b2d5a161b9ad64ee5320b1988d7" />
	
		<meta name="monikers" content="azure-sqldw-latest" />
	
		<meta name="monikers" content="azuresqldb-current" />
	
		<meta name="monikers" content="azuresqldb-mi-current" />
	
		<meta name="monikers" content="fabric-sqldb" />
	
		<meta name="monikers" content="sql-server-linux-2017" />
	
		<meta name="monikers" content="sql-server-linux-ver15" />
	
		<meta name="monikers" content="sql-server-linux-ver16" />
	
		<meta name="monikers" content="sql-server-linux-ver17" />
	
		<meta name="monikers" content="sql-server-2016" />
	
		<meta name="monikers" content="sql-server-2017" />
	
		<meta name="monikers" content="sql-server-ver15" />
	
		<meta name="monikers" content="sql-server-ver16" />
	
		<meta name="monikers" content="sql-server-ver17" />
	
		<meta name="default_moniker" content="sql-server-ver17" />
	
		<meta name="site_name" content="Docs" />
	
		<meta name="depot_name" content="SQL.sql-content" />
	
		<meta name="schema" content="Conceptual" />
	
		<meta name="toc_rel" content="../../toc.json" />
	
		<meta name="pdf_url_template" content="https://learn.microsoft.com/pdfstore/en-us/SQL.sql-content/{branchName}{pdfName}" />
	
		<meta name="word_count" content="2242" />
	
		<meta name="config_moniker_range" content="=azuresqldb-current || =azuresqldb-mi-current || =azure-sqldw-latest || &gt;=aps-pdw-2016 || &gt;=sql-server-2016 || &gt;=sql-server-linux-2017 || =fabric || =fabric-sqldb" />
	
		<meta name="asset_id" content="relational-databases/performance/monitoring-performance-by-using-the-query-store" />
	
		<meta name="moniker_range_name" content="c873855553fc0aaa7d1c6d29f7f237e6" />
	
		<meta name="item_type" content="Content" />
	
		<meta name="source_path" content="docs/relational-databases/performance/monitoring-performance-by-using-the-query-store.md" />
	
		<meta name="previous_tlsh_hash" content="4ED0D362531CCA54EE870E822A7989F015E0ED48F6B2AE94542AB1A1FA8B5D771FAC1CB69F12B304533217B31082E12CDDFA7765E5DD333179192C3E811C2162165F37F6AE" />
	
		<meta name="github_feedback_content_git_url" content="https://github.com/MicrosoftDocs/sql-docs/blob/live/docs/relational-databases/performance/monitoring-performance-by-using-the-query-store.md" />
	
		<meta name="markdown_url" content="https://learn.microsoft.com/en-us/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?view=sql-server-ver17&amp;accept=text/markdown" />
	 
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/cbe4ca68-43ac-4375-aba5-5945a6394c20" data-source="generated" />
	
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/6ab7faaf-d791-4a26-96a2-3b11738538e7" data-source="generated" />
	
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/bad69977-db6a-44f3-b752-d2bee7de49ca" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/ced846cc-6a3c-4c8f-9dfb-3de0e90e2742" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/302e28b0-1f09-4811-9a9b-2a72e0770581" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/b31d7aff-61be-45e2-a324-a578cf0c3360" data-source="generated" />
	

			<!-- assets and js globals -->
			
			<link rel="stylesheet" href="/static/assets/0.4.03336.7510-899cc417/styles/site-ltr.css" />
			
			<link rel="preconnect" href="//mscom.demdex.net" crossorigin />
						<link rel="dns-prefetch" href="//target.microsoft.com" />
						<link rel="dns-prefetch" href="//microsoftmscompoc.tt.omtrdc.net" />
						<link
							rel="preload"
							as="script"
							href="/static/third-party/adobe-target/at-js/2.9.0/at.js"
							integrity="sha384-l4AKhsU8cUWSht4SaJU5JWcHEWh1m4UTqL08s6b/hqBLAeIDxTNl+AMSxTLx6YMI"
							crossorigin="anonymous"
							id="adobe-target-script"
							type="application/javascript"
						/>
			<script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
			<script src="https://js.monitor.azure.com/scripts/c/ms.jsll-4.min.js"></script>
			<script src="/_themes/docs.theme/master/en-us/_themes/global/deprecation.js"></script>

			<!-- msdocs global object -->
			<script id="msdocs-script">
		var msDocs = {
  "environment": {
    "accessLevel": "online",
    "azurePortalHostname": "portal.azure.com",
    "reviewFeatures": false,
    "supportLevel": "production",
    "systemContent": true,
    "siteName": "learn",
    "legacyHosting": false
  },
  "data": {
    "contentLocale": "en-us",
    "contentDir": "ltr",
    "userLocale": "en-us",
    "userDir": "ltr",
    "pageTemplate": "Conceptual",
    "brand": "",
    "context": {},
    "standardFeedback": true,
    "showFeedbackReport": false,
    "feedbackHelpLinkType": "get-help-at-qna",
    "feedbackHelpLinkUrl": "https://learn.microsoft.com/answers/tags/191/sql-server",
    "feedbackSystem": "Standard",
    "feedbackGitHubRepo": "MicrosoftDocs/sql-docs",
    "feedbackProductUrl": "https://feedback.azure.com/d365community/forum/04fe6ee0-3b25-ec11-b6e6-000d3a4f0da0",
    "extendBreadcrumb": false,
    "isEditDisplayable": true,
    "isPrivateUnauthorized": false,
    "hideViewSource": false,
    "isPermissioned": false,
    "hasRecommendations": true,
    "contributors": [
      {
        "name": "MikeRayMSFT",
        "url": "https://github.com/MikeRayMSFT"
      },
      {
        "name": "WilliamDAssafMSFT",
        "url": "https://github.com/WilliamDAssafMSFT"
      },
      {
        "name": "rmca14",
        "url": "https://github.com/rmca14"
      },
      {
        "name": "Dickson-Mwendia",
        "url": "https://github.com/Dickson-Mwendia"
      },
      {
        "name": "Saisang",
        "url": "https://github.com/Saisang"
      },
      {
        "name": "meganbradley",
        "url": "https://github.com/meganbradley"
      },
      {
        "name": "MashaMSFT",
        "url": "https://github.com/MashaMSFT"
      },
      {
        "name": "rwestMSFT",
        "url": "https://github.com/rwestMSFT"
      },
      {
        "name": "PiJoCoder",
        "url": "https://github.com/PiJoCoder"
      },
      {
        "name": "markingmyname",
        "url": "https://github.com/markingmyname"
      },
      {
        "name": "prmerger-automator[bot]",
        "url": "https://github.com/prmerger-automator[bot]"
      },
      {
        "name": "cmcclister",
        "url": "https://github.com/cmcclister"
      },
      {
        "name": "miobrado",
        "url": "https://github.com/miobrado"
      },
      {
        "name": "rothja",
        "url": "https://github.com/rothja"
      },
      {
        "name": "mariyaali",
        "url": "https://github.com/mariyaali"
      },
      {
        "name": "rrg92",
        "url": "https://github.com/rrg92"
      },
      {
        "name": "alexbuckgit",
        "url": "https://github.com/alexbuckgit"
      },
      {
        "name": "LitKnd",
        "url": "https://github.com/LitKnd"
      },
      {
        "name": "charithcaldera",
        "url": "https://github.com/charithcaldera"
      },
      {
        "name": "blakhani-msft",
        "url": "https://github.com/blakhani-msft"
      },
      {
        "name": "ShannonLeavitt",
        "url": "https://github.com/ShannonLeavitt"
      },
      {
        "name": "julieMSFT",
        "url": "https://github.com/julieMSFT"
      },
      {
        "name": "MrJoeSack",
        "url": "https://github.com/MrJoeSack"
      },
      {
        "name": "JKirsch1",
        "url": "https://github.com/JKirsch1"
      },
      {
        "name": "TimShererWithAquent",
        "url": "https://github.com/TimShererWithAquent"
      },
      {
        "name": "pmasl",
        "url": "https://github.com/pmasl"
      },
      {
        "name": "dimitri-furman",
        "url": "https://github.com/dimitri-furman"
      },
      {
        "name": "PRMerger17",
        "url": "https://github.com/PRMerger17"
      },
      {
        "name": "PRMerger16",
        "url": "https://github.com/PRMerger16"
      },
      {
        "name": "CarlRabeler",
        "url": "https://github.com/CarlRabeler"
      },
      {
        "name": "WilliamAntonRohm",
        "url": "https://github.com/WilliamAntonRohm"
      },
      {
        "name": "roberts-andy",
        "url": "https://github.com/roberts-andy"
      },
      {
        "name": "PRMerger6",
        "url": "https://github.com/PRMerger6"
      },
      {
        "name": "baleng",
        "url": "https://github.com/baleng"
      },
      {
        "name": "huypub",
        "url": "https://github.com/huypub"
      },
      {
        "name": "GitHubber17",
        "url": "https://github.com/GitHubber17"
      },
      {
        "name": "tgrohser",
        "url": "https://github.com/tgrohser"
      },
      {
        "name": "craigg-msft",
        "url": "https://github.com/craigg-msft"
      },
      {
        "name": "PRMerger19",
        "url": "https://github.com/PRMerger19"
      },
      {
        "name": "AndreyMSFT",
        "url": "https://github.com/AndreyMSFT"
      }
    ]
  },
  "functions": {}
};;
	</script>

			<!-- base scripts, msdocs global should be before this -->
			<script src="/static/assets/0.4.03336.7510-899cc417/scripts/en-us/index-docs.js"></script>
			

			<!-- json-ld -->
			
		</head>
	
			<body
				id="body"
				data-bi-name="body"
				class="layout-body "
				lang="en-us"
				dir="ltr"
			>
				<header class="layout-body-header">
		<div class="header-holder has-default-focus">
			
		<a
			href="#main"
			
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			
		>
			Skip to main content
		</a>
	
		<a
			href="#"
			data-skip-to-ask-learn
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			hidden
		>
			Skip to Ask Learn chat experience
		</a>
	

			<div hidden id="cookie-consent-holder" data-test-id="cookie-consent-container"></div>
			<!-- Unsupported browser warning -->
			<div
				id="unsupported-browser"
				style="background-color: white; color: black; padding: 16px; border-bottom: 1px solid grey;"
				hidden
			>
				<div style="max-width: 800px; margin: 0 auto;">
					<p style="font-size: 24px">This browser is no longer supported.</p>
					<p style="font-size: 16px; margin-top: 16px;">
						Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.
					</p>
					<div style="margin-top: 12px;">
						<a
							href="https://go.microsoft.com/fwlink/p/?LinkID=2092881 "
							style="background-color: #0078d4; border: 1px solid #0078d4; color: white; padding: 6px 12px; border-radius: 2px; display: inline-block;"
						>
							Download Microsoft Edge
						</a>
						<a
							href="https://learn.microsoft.com/en-us/lifecycle/faq/internet-explorer-microsoft-edge"
							style="background-color: white; padding: 6px 12px; border: 1px solid #505050; color: #171717; border-radius: 2px; display: inline-block;"
						>
							More info about Internet Explorer and Microsoft Edge
						</a>
					</div>
				</div>
			</div>
			<!-- site header -->
			<header
				id="ms--site-header"
				data-test-id="site-header-wrapper"
				role="banner"
				itemscope="itemscope"
				itemtype="http://schema.org/Organization"
			>
				<div
					id="ms--mobile-nav"
					class="site-header display-none-tablet padding-inline-none gap-none"
					data-bi-name="mobile-header"
					data-test-id="mobile-header"
				></div>
				<div
					id="ms--primary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L1-header"
					data-test-id="primary-header"
				></div>
				<div
					id="ms--secondary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L2-header"
					data-test-id="secondary-header"
					
				></div>
			</header>
			
		<!-- banner -->
		<div data-banner>
			<div id="disclaimer-holder"></div>
			
		</div>
		<!-- banner end -->
	
		</div>
	</header>
				 <section
					id="layout-body-menu"
					class="layout-body-menu display-flex"
					data-bi-name="menu"
			  >
					
		<div
			id="left-container"
			class="left-container display-none display-block-tablet padding-inline-sm padding-bottom-sm width-full"
			data-toc-container="true"
		>
			<!-- Regular TOC content (default) -->
			<div id="ms--toc-content" class="height-full">
				<nav
					id="affixed-left-container"
					class="margin-top-sm-tablet position-sticky display-flex flex-direction-column"
					aria-label="Primary"
					data-bi-name="left-toc"
					role="navigation"
				></nav>
			</div>
			<!-- Collapsible TOC content (hidden by default) -->
			<div id="ms--toc-content-collapsible" class="height-full" hidden>
				<nav
					id="affixed-left-container"
					class="margin-top-sm-tablet position-sticky display-flex flex-direction-column"
					aria-label="Primary"
					data-bi-name="left-toc"
					role="navigation"
				>
					<div
						id="ms--collapsible-toc-header"
						class="display-flex flex-direction-row-reverse justify-content-space-between align-items-center margin-bottom-xxs"
					>
						<button
							type="button"
							class="button button-clear inner-focus"
							data-collapsible-toc-toggle
							aria-expanded="true"
							aria-controls="ms--collapsible-toc-content"
							aria-label="Table of contents"
						>
							<span class="icon font-size-h4" aria-hidden="true">
								<span class="docon docon-panel-left-contract"></span>
							</span>
						</button>
						<div id="ms--collapsible-toc-moniker-slot" class="flex-grow-1"></div>
					</div>
				</nav>
			</div>
		</div>
	
			  </section>

				<main
					id="main"
					role="main"
					class="layout-body-main "
					data-bi-name="content"
					lang="en-us"
					dir="ltr"
				>
					
			<div
		id="ms--content-header"
		class="content-header default-focus border-bottom-none"
		data-bi-name="content-header"
	>
		<div class="content-header-controls margin-xxs margin-inline-sm-tablet">
			<button
				type="button"
				class="contents-button button button-sm margin-right-xxs"
				data-bi-name="contents-expand"
				aria-haspopup="true"
				data-contents-button
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-menu"></span></span>
				<span class="contents-expand-title"> Table of contents </span>
			</button>
			<button
				type="button"
				class="ap-collapse-behavior ap-expanded button button-sm"
				data-bi-name="ap-collapse"
				aria-controls="action-panel"
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-exit-mode"></span></span>
				<span>Exit editor mode</span>
			</button>
		</div>
	</div>
			<div data-main-column class="padding-sm padding-top-none padding-top-sm-tablet">
				<div>
					
		<div id="article-header" class="background-color-body margin-bottom-xs display-none-print">
			<div class="display-flex align-items-center justify-content-space-between">
				
		<details
			id="article-header-breadcrumbs-overflow-popover"
			class="popover"
			data-for="article-header-breadcrumbs"
		>
			<summary
				class="button button-clear button-primary button-sm inner-focus"
				aria-label="All breadcrumbs"
			>
				<span class="icon">
					<span class="docon docon-more"></span>
				</span>
			</summary>
			<div id="article-header-breadcrumbs-overflow" class="popover-content padding-none"></div>
		</details>

		<bread-crumbs
			id="article-header-breadcrumbs"
			role="group"
			aria-label="Breadcrumbs"
			data-test-id="article-header-breadcrumbs"
			class="overflow-hidden flex-grow-1 margin-right-sm margin-right-md-tablet margin-right-lg-desktop margin-left-negative-xxs padding-left-xxs"
		></bread-crumbs>
	 
		<div
			id="article-header-page-actions"
			class="opacity-none margin-left-auto display-flex flex-wrap-no-wrap align-items-stretch"
		>
			
		<button
			class="button button-sm border-none inner-focus display-none-tablet flex-shrink-0 "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-modal-entry-mobile"
			data-ask-learn-modal-entry
			
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-none display-inline-flex-tablet display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			
			data-test-id="ask-learn-assistant-modal-entry-tablet"
			data-ask-learn-modal-entry
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			
			data-test-id="ask-learn-assistant-flyout-entry"
			data-ask-learn-flyout-entry
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	 
		<button
			type="button"
			id="ms--focus-mode-button"
			data-focus-mode
			data-bi-name="focus-mode-entry"
			class="button button-sm flex-shrink-0 margin-right-xxs display-none display-inline-flex-desktop"
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-glasses"></span>
			</span>
			<span>Focus mode</span>
		</button>
	 

			<details class="popover popover-right" id="article-header-page-actions-overflow">
				<summary
					class="justify-content-flex-start button button-clear button-sm button-primary inner-focus"
					aria-label="More actions"
					title="More actions"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-more-vertical"></span>
					</span>
				</summary>
				<div class="popover-content">
					
		<button
			data-page-action-item="overflow-mobile"
			type="button"
			class="button-block button-sm inner-focus button button-clear display-none-tablet justify-content-flex-start text-align-left"
			data-bi-name="contents-expand"
			data-contents-button
			data-popover-close
		>
			<span class="icon">
				<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
			</span>
			<span class="contents-expand-title">Table of contents</span>
		</button>
	 
		<a
			id="lang-link-overflow"
			class="button-sm inner-focus button button-clear button-block justify-content-flex-start text-align-left"
			data-bi-name="language-toggle"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-read-in-link
			href="#"
			hidden
		>
			<span class="icon" aria-hidden="true" data-read-in-link-icon>
				<span class="docon docon-locale-globe"></span>
			</span>
			<span data-read-in-link-text>Read in English</span>
		</a>
	 
		<button
			type="button"
			class="collection button button-clear button-sm button-block justify-content-flex-start text-align-left inner-focus"
			data-list-type="collection"
			data-bi-name="collection"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="collection-status">Add</span>
		</button>
	
					
		<button
			type="button"
			class="collection button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
			data-list-type="plan"
			data-bi-name="plan"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="plan-status">Add to plan</span>
		</button>
	  
		<a
			data-contenteditbtn
			class="button button-clear button-block button-sm inner-focus justify-content-flex-start text-align-left text-decoration-none"
			data-bi-name="edit"
			
			href="https://github.com/MicrosoftDocs/sql-docs/blob/live/docs/relational-databases/performance/monitoring-performance-by-using-the-query-store.md"
			data-original_content_git_url="https://github.com/MicrosoftDocs/sql-docs-pr/blob/live/docs/relational-databases/performance/monitoring-performance-by-using-the-query-store.md"
			data-original_content_git_url_template="{repo}/blob/{branch}/docs/relational-databases/performance/monitoring-performance-by-using-the-query-store.md"
			data-pr_repo=""
			data-pr_branch=""
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-edit-outline"></span>
			</span>
			<span>Edit</span>
		</a>
	
					
		<hr class="margin-block-xxs" />
		<h4 class="font-size-sm padding-left-xxs">Share via</h4>
		
					<a
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-facebook"
						data-bi-name="facebook"
						data-page-action-item="overflow-all"
						href="#"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-facebook-share"></span>
						</span>
						<span>Facebook</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-twitter"
						data-bi-name="twitter"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-text" aria-hidden="true">
							<span class="docon docon-xlogo-share"></span>
						</span>
						<span>x.com</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-linkedin"
						data-bi-name="linkedin"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-linked-in-logo"></span>
						</span>
						<span>LinkedIn</span>
					</a>
					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-email"
						data-bi-name="email"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-mail-message"></span>
						</span>
						<span>Email</span>
					</a>
			  
	 
		<hr class="margin-block-xxs" />
		
				<button
					class="button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
					type="button"
					data-bi-name="copy-markdown"
					data-page-action-item="overflow-all"
					data-copy-markdown
					data-copy-state="idle"
					data-check-hidden="true"
				>
					<span class="icon color-primary" aria-hidden="true">
						<span data-show-when="idle" class="docon docon-code-lang"></span>
						<span data-show-when="loading" class="loader" hidden></span>
						<span data-show-when="success" class="docon docon-check-mark" hidden></span>
					</span>
					<span>Copy Markdown</span>
				</button>
		   
				<button
					class="button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
					type="button"
					data-bi-name="print"
					data-page-action-item="overflow-all"
					data-popover-close
					data-print-page
					data-check-hidden="true"
				>
					<span class="icon color-primary" aria-hidden="true">
						<span class="docon docon-print"></span>
					</span>
					<span>Print</span>
				</button>
		  
	
				</div>
			</details>
		</div>
	
			</div>
		</div>
	  
		<!-- privateUnauthorizedTemplate is hidden by default -->
		<div unauthorized-private-section data-bi-name="permission-content-unauthorized-private" hidden>
			<hr class="hr margin-top-xs margin-bottom-sm" />
			<div class="notification notification-info">
				<div class="notification-content">
					<p class="margin-top-none notification-title">
						<span class="icon">
							<span class="docon docon-exclamation-circle-solid" aria-hidden="true"></span>
						</span>
						<span>Note</span>
					</p>
					<p class="margin-top-none authentication-determined not-authenticated">
						Access to this page requires authorization. You can try <a class="docs-sign-in" href="#" data-bi-name="permission-content-sign-in">signing in</a> or <a  class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
					<p class="margin-top-none authentication-determined authenticated">
						Access to this page requires authorization. You can try <a class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
				</div>
			</div>
		</div>
	
					<div class="content"><h1 id="monitor-performance-by-using-the-query-store">Monitor performance by using the Query Store</h1></div>
					
		<div
			id="article-metadata"
			data-bi-name="article-metadata"
			data-test-id="article-metadata"
			class="page-metadata-container display-flex gap-xxs justify-content-space-between align-items-center flex-wrap-wrap"
		>
			 
				<div
					id="user-feedback"
					class="margin-block-xxs display-none display-none-print"
					hidden
					data-hide-on-archived
				>
					
		<button
			id="user-feedback-button"
			data-test-id="conceptual-feedback-button"
			class="button button-sm button-clear button-primary display-none"
			type="button"
			data-bi-name="user-feedback-button"
			data-user-feedback-button
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-like"></span>
			</span>
			<span>Feedback</span>
		</button>
	
				</div>
		  
		</div>
	 
		<div data-id="ai-summary" hidden>
			<div id="ms--ai-summary-cta" class="margin-top-xs display-flex align-items-center">
				<span class="icon" aria-hidden="true">
					<span class="docon docon-sparkle-fill gradient-text-vivid"></span>
				</span>
				<button
					id="ms--ai-summary"
					type="button"
					class="tag tag-sm tag-suggestion margin-left-xxs"
					data-test-id="ai-summary-cta"
					data-bi-name="ai-summary-cta"
					data-an="ai-summary"
				>
					<span class="ai-summary-cta-text">
						Summarize this article for me
					</span>
				</button>
			</div>
			<!-- Slot where the client will render the summary card after the user clicks the CTA -->
			<div id="ms--ai-summary-header" class="margin-top-xs"></div>
		</div>
	 
		<nav
			id="center-doc-outline"
			class="doc-outline is-hidden-desktop display-none-print margin-bottom-sm"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h2 id="ms--in-this-article" class="title is-6 margin-block-xs">
				In this article
			</h2>
		</nav>
	
					<div class="content"><p><strong>Applies to:</strong> <img src="../../includes/media/yes-icon.svg?view=sql-server-ver17" role="presentation" data-linktype="relative-path">
 SQL Server 2016 (13.x) and later versions <img src="../../includes/media/yes-icon.svg?view=sql-server-ver17" role="presentation" data-linktype="relative-path">
 <a href="../../sql-server/sql-docs-navigation-guide?view=sql-server-ver17#applies-to" data-linktype="relative-path">Azure SQL Database</a> <img src="../../includes/media/yes-icon.svg?view=sql-server-ver17" role="presentation" data-linktype="relative-path">
 <a href="../../sql-server/sql-docs-navigation-guide?view=sql-server-ver17#applies-to" data-linktype="relative-path">Azure SQL Managed Instance</a> <img src="../../includes/media/yes-icon.svg?view=sql-server-ver17" role="presentation" data-linktype="relative-path">
 <a href="../../sql-server/sql-docs-navigation-guide?view=sql-server-ver17#applies-to" data-linktype="relative-path">Azure Synapse Analytics (dedicated SQL pool only)</a> <img src="../../includes/media/yes-icon.svg?view=sql-server-ver17" role="presentation" data-linktype="relative-path">
 <a href="../../sql-server/sql-docs-navigation-guide?view=sql-server-ver17#applies-to" data-linktype="relative-path">SQL database in Microsoft Fabric</a></p>
<p>The Query Store feature provides you with insight on query plan choice and performance for SQL Server, Azure SQL Database, Fabric SQL database, Azure SQL Managed Instance, and Azure Synapse Analytics. The Query Store simplifies performance troubleshooting by helping you quickly find performance differences caused by query plan changes. Query Store automatically captures a history of queries, plans, and runtime statistics, and retains these for your review. It separates data by time windows so you can see database usage patterns and understand when query plan changes happened on the server.</p>
<p>You can configure Query Store using the <a href="../../t-sql/statements/alter-database-transact-sql-set-options?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SET options</a> option.</p>
<ul>
<li>For information about operating the Query Store in Azure SQL Database, see <a href="best-practice-with-the-query-store?view=sql-server-ver17#Insight" data-linktype="relative-path">Operating the Query Store in Azure SQL Database</a>.</li>
<li>For information on discovering actionable information and tune performance with the Query Store, see <a href="tune-performance-with-the-query-store?view=sql-server-ver17" data-linktype="relative-path">Tune performance with the Query Store</a>.</li>
<li>For information on shaping query plans without changing application code, see <a href="query-store-hints?view=sql-server-ver17" data-linktype="relative-path">Query Store hints</a>.</li>
</ul>
<div class="IMPORTANT">
<p>Important</p>
<p>If you're using Query Store for just in time workload insights in SQL Server 2016 (13.x), plan to install the performance scalability fixes in <a href="https://support.microsoft.com/help/4340759" data-linktype="external">KB 4340759</a> as soon as possible.</p>
</div>
<p><a id="Enabling"></a></p>
<h2 id="enable-the-query-store">Enable the Query Store</h2>
<ul>
<li>Query Store is enabled by default for new Azure SQL Database and Azure SQL Managed Instance databases.</li>
<li>Query Store isn't enabled by default for SQL Server 2016 (13.x), SQL Server 2017 (14.x), SQL Server 2019 (15.x). It's enabled by default in the <code>READ_WRITE</code> mode for new databases starting with SQL Server 2022 (16.x). To enable features to better track performance history, troubleshoot query plan related issues, and enable new capabilities in SQL Server 2022 (16.x), we recommend enabling Query Store on all databases.</li>
<li>Query Store isn't enabled by default for new Azure Synapse Analytics databases.</li>
</ul>
<h3 id="use-the-query-store-page-in-sql-server-management-studio">Use the Query Store page in SQL Server Management Studio</h3>
<ol>
<li><p>In Object Explorer, right-click a database, and then select <strong>Properties</strong>.</p>
<div class="NOTE">
<p>Note</p>
<p>Requires at least version 16 of Management Studio.</p>
</div>
</li>
<li><p>In the <strong>Database Properties</strong> dialog box, select the <strong>Query Store</strong> page.</p>
</li>
<li><p>In the <strong>Operation Mode (Requested)</strong> box, select <strong>Read Write</strong>.</p>
</li>
</ol>
<h3 id="use-transact-sql-statements">Use Transact-SQL statements</h3>
<p>Use the <code>ALTER DATABASE</code> statement to enable the Query Store for a given database. For example:</p>
<pre><code class="lang-sql">ALTER DATABASE &lt;database_name&gt;
SET QUERY_STORE = ON (OPERATION_MODE = READ_WRITE);
</code></pre>
<p>Options to configure the Query Store in Fabric SQL database with <code>ALTER DATABASE</code> are currently limited.</p>
<p>In Azure Synapse Analytics, enable the Query Store without additional options, for example:</p>
<pre><code class="lang-sql">ALTER DATABASE &lt;database_name&gt;
SET QUERY_STORE = ON;
</code></pre>
<p>For more syntax options related to the Query Store, see <a href="../../t-sql/statements/alter-database-transact-sql-set-options?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SET options</a>.</p>
<div class="NOTE">
<p>Note</p>
<p>Query Store can't be enabled for the <code>master</code> or <code>tempdb</code> databases.</p>
</div>
<div class="IMPORTANT">
<p>Important</p>
<p>For information on enabling Query Store and keeping it adjusted to your workload, refer to <a href="best-practice-with-the-query-store?view=sql-server-ver17#Configure" data-linktype="relative-path">Best Practice with the Query Store</a>.</p>
</div>
<p><a id="About"></a></p>
<h2 id="information-in-the-query-store">Information in the Query Store</h2>
<p>Execution plans for any specific query in SQL Server typically evolve over time due to a number of different reasons such as statistics changes, schema changes, creation/deletion of indexes, etc. The procedure cache (where cached query plans are stored) only stores the latest execution plan. Plans also get evicted from the plan cache due to memory pressure. As a result, query performance regressions caused by execution plan changes can be non-trivial and time consuming to resolve.</p>
<p>Since the Query Store retains multiple execution plans per query, it can enforce policies to direct the Query Processor to use a specific execution plan for a query. This is referred to as plan forcing. Plan forcing in Query Store is provided by using a mechanism similar to the <a href="../../t-sql/queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">Query hints</a> query hint, but it doesn't require any change in user applications. Plan forcing can resolve a query performance regression caused by a plan change in a very short period of time.</p>
<div class="NOTE">
<p>Note</p>
<p>Query Store collects plans for DML Statements such as <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>MERGE</code>, and <code>BULK INSERT</code>.</p>
<p>By design, Query Store doesn't collect plans for DDL statements such as <code>CREATE INDEX</code>, etc. Query Store captures cumulative resource consumption by collecting plans for the underlying DML statements. For example, Query Store might display the <code>SELECT</code> and <code>INSERT</code> statements executed internally to populate a new index.</p>
<p>Query Store doesn't collect data for natively compiled stored procedures by default. Use <a href="../system-stored-procedures/sys-sp-xtp-control-query-exec-stats-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.sp_xtp_control_query_exec_stats</a> to enable data collection for natively compiled stored procedures.</p>
</div>
<p><strong>Wait stats</strong> are another source of information that helps to troubleshoot performance in the Database Engine. For a long time, wait statistics were available only on instance level, which made it hard to backtrack waits to a specific query. Starting with SQL Server 2017 (14.x) and Azure SQL Database, Query Store includes a dimension that tracks wait stats. The following example enables the Query Store to collect wait stats.</p>
<pre><code class="lang-sql">ALTER DATABASE &lt;database_name&gt;
SET QUERY_STORE = ON ( WAIT_STATS_CAPTURE_MODE = ON );
</code></pre>
<p>Common scenarios for using the Query Store feature are:</p>
<ul>
<li>Quickly find and fix a plan performance regression by forcing the previous query plan. Fix queries that have recently regressed in performance due to execution plan changes.</li>
<li>Determine the number of times a query was executed in a given time window, assisting a DBA in troubleshooting performance resource problems.</li>
<li>Identify top <em>n</em> queries (by execution time, memory consumption, etc.) in the past <em>x</em> hours.</li>
<li>Audit the history of query plans for a given query.</li>
<li>Analyze the resource (CPU, I/O, and Memory) usage patterns for a particular database.</li>
<li>Identify top n queries that are waiting on resources.</li>
<li>Understand wait nature for a particular query or plan.</li>
</ul>
<p>The Query Store contains three stores:</p>
<ul>
<li>a <strong>plan store</strong> for persisting the execution plan information.</li>
<li>a <strong>runtime stats store</strong> for persisting the execution statistics information.</li>
<li>a <strong>wait stats store</strong> for persisting wait statistics information.</li>
</ul>
<p>The number of unique plans that can be stored for a query in the plan store is limited by the <strong>max_plans_per_query</strong> configuration option. To enhance performance, the information is written to the stores asynchronously. To minimize space usage, the runtime execution statistics in the runtime stats store are aggregated over a fixed time window. The information in these stores is visible by querying the Query Store catalog views.</p>
<p>The following query returns information about queries, their plans, compile time and run-time statistics from the Query Store.</p>
<pre><code class="lang-sql">SELECT Txt.query_text_id, Txt.query_sql_text, Pln.plan_id, Qry.*, RtSt.*
FROM sys.query_store_plan AS Pln
INNER JOIN sys.query_store_query AS Qry
    ON Pln.query_id = Qry.query_id
INNER JOIN sys.query_store_query_text AS Txt
    ON Qry.query_text_id = Txt.query_text_id
INNER JOIN sys.query_store_runtime_stats RtSt
ON Pln.plan_id = RtSt.plan_id;
</code></pre>
<h2 id="query-store-for-secondary-replicas">Query Store for secondary replicas</h2>
<p><strong>Applies to:</strong> SQL Server 2025 (17.x), Azure SQL Database</p>
<p>The Query Store for secondary replicas feature enables the same Query Store functionality on secondary replica workloads that is available for primary replicas. When Query Store for secondary replicas is enabled, replicas send the query execution information that would normally be stored in the Query Store back to the primary replica. The primary replica then persists the data to disk within its own Query Store. In essence, there's one Query Store shared between the primary and all secondary replicas. The Query Store exists on the primary replica and stores data for all replicas together.</p>
<p>For more information, see <a href="query-store-for-secondary-replicas?view=sql-server-ver17" data-linktype="relative-path">Query Store for secondary replicas</a>.</p>
<p><a id="Regressed"></a></p>
<h2 id="use-the-regressed-queries-feature">Use the Regressed Queries feature</h2>
<p>After enabling the Query Store, refresh the database portion of the Object Explorer pane to add the <strong>Query Store</strong> section.</p>
<p><span class="mx-imgBorder">
<img src="media/monitoring-performance-by-using-the-query-store/object-explorer-query-store.png?view=sql-server-ver17" alt="Screenshot of the Query Store reporting tree in SSMS Object Explorer." data-linktype="relative-path">
</span>
</p>
<div class="NOTE">
<p>Note</p>
<p>For Azure Synapse Analytics, Query Store views are available under <strong>System Views</strong> in the database portion of the Object Explorer pane.</p>
</div>
<p>Select <strong>Regressed Queries</strong> to open the <strong>Regressed Queries</strong> pane in SQL Server Management Studio. The Regressed Queries pane shows you the queries and plans in the Query Store. Use the dropdown list boxes at the top to filter queries based on various criteria: Duration (ms) (Default), CPU Time (ms), Logical Reads (KB), Logical Writes (KB), Physical Reads (KB), CLR Time (ms), DOP, Memory Consumption (KB), Row Count, Log Memory Used (KB), Temp DB Memory Used (KB), and Wait Time (ms).</p>
<p>Select a plan to see the graphical query plan. Buttons are available to view the source query, force and unforce a query plan, toggle between grid and chart formats, compare selected plans (if more than one is selected), and refresh the display.</p>
<p><span class="mx-imgBorder">
<img src="media/monitoring-performance-by-using-the-query-store/object-explorer-regressed-queries.png?view=sql-server-ver17" alt="Screenshot of the SQL Server Regressed Queries report in SSMS Object Explorer." data-linktype="relative-path">
</span>
</p>
<p>To force a plan, select a query and plan, then select <strong>Force Plan</strong>. You can only force plans that were saved by the query plan feature and are still retained in the query plan cache.</p>
<p><a id="Waiting"></a></p>
<h2 id="find-waiting-queries">Find waiting queries</h2>
<p>Starting with SQL Server 2017 (14.x) and Azure SQL Database, wait statistics per query over time are available in Query Store.</p>
<p>In Query Store, wait types are combined into <strong>wait categories</strong>. The mapping of wait categories to wait types is available in <a href="../system-catalog-views/sys-query-store-wait-stats-transact-sql?view=sql-server-ver17#wait-categories-mapping-table" data-linktype="relative-path">sys.query_store_wait_stats (Transact-SQL)</a>.</p>
<p>Select <strong>Query Wait Statistics</strong> to open the <strong>Query Wait Statistics</strong> pane in SQL Server Management Studio 18.0 or higher versions. The Query Wait Statistics pane shows you a bar chart containing the top wait categories in the Query Store. Use the dropdown list at the top to select an aggregate criteria for the wait time: avg, max, min, std dev, and <strong>total</strong> (default).</p>
<p><span class="mx-imgBorder">
<img src="media/monitoring-performance-by-using-the-query-store/query-store-waits.png?view=sql-server-ver17" alt="Screenshot of the SQL Server Query Wait Statistics report in SSMS Object Explorer." data-linktype="relative-path">
</span>
</p>
<p>Select a wait category by selecting on the bar and a detail view on the selected wait category displays. This new bar chart contains the queries that contributed to that wait category.</p>
<p><span class="mx-imgBorder">
<a href="media/monitoring-performance-by-using-the-query-store/query-store-waits-detail.png?view=sql-server-ver17#lightbox" data-linktype="relative-path">
<img src="media/monitoring-performance-by-using-the-query-store/query-store-waits-detail.png?view=sql-server-ver17" alt="Screenshot of the SQL Server Query Wait Statistics detail view in SSMS Object Explorer." data-linktype="relative-path">
</a>
</span>
</p>
<p>Use the dropdown list box at the top to filter queries based on various wait time criteria for the selected wait category: avg, max, min, std dev, and <strong>total</strong> (default). Select a plan to see the graphical query plan. Buttons are available to view the source query, force, and unforce a query plan, and refresh the display.</p>
<p><strong>Wait categories</strong> are combining different wait types into buckets similar by nature. Different wait categories require a different follow-up analysis to resolve the issue, but wait types from the same category lead to very similar troubleshooting experiences, and providing the affected query on top of waits would be the missing piece to complete most such investigations successfully.</p>
<p>Here are some examples how you can get more insights into your workload before and after introducing wait categories in Query Store:</p>
<table>
<thead>
<tr>
<th>Previous experience</th>
<th>New experience</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>High RESOURCE_SEMAPHORE waits per database</td>
<td>High Memory waits in Query Store for specific queries</td>
<td>Find the top memory consuming queries in Query Store. These queries are probably delaying further progress of the affected queries. Consider using MAX_GRANT_PERCENT query hint for these queries, or for the affected queries.</td>
</tr>
<tr>
<td>High LCK_M_X waits per database</td>
<td>High Lock waits in Query Store for specific queries</td>
<td>Check the query texts for the affected queries and identify the target entities. Look in Query Store for other queries modifying the same entity, which are executed frequently and/or have high duration. After identifying these queries, consider changing the application logic to improve concurrency, or use a less restrictive isolation level.</td>
</tr>
<tr>
<td>High PAGEIOLATCH_SH waits per database</td>
<td>High Buffer <code>IO</code> waits in Query Store for specific queries</td>
<td>Find the queries with a high number of physical reads in Query Store. If they match the queries with high <code>IO</code> waits, consider introducing an index on the underlying entity, in order to do seeks instead of scans, and thus minimize the <code>IO</code> overhead of the queries.</td>
</tr>
<tr>
<td>High SOS_SCHEDULER_YIELD waits per database</td>
<td>High CPU waits in Query Store for specific queries</td>
<td>Find the top CPU consuming queries in Query Store. Among them, identify the queries for which high CPU trend correlates with high CPU waits for the affected queries. Focus on optimizing those queries - there could be a plan regression, or perhaps a missing index.</td>
</tr>
</tbody>
</table>
<p><a id="Options"></a></p>
<h2 id="configuration-options">Configuration options</h2>
<p>For the available options to configure Query Store parameters, see <a href="../../t-sql/statements/alter-database-transact-sql-set-options?view=sql-server-ver17#query-store" data-linktype="relative-path">ALTER DATABASE SET options (Transact-SQL)</a>.</p>
<p>Query the <code>sys.database_query_store_options</code> view to determine the current options of the Query Store. For more information about the values, see <a href="../system-catalog-views/sys-database-query-store-options-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.database_query_store_options</a>.</p>
<p>For examples about setting configuration options using Transact-SQL statements, see <a href="#OptionMgmt" data-linktype="self-bookmark">Option Management</a>.</p>
<div class="NOTE">
<p>Note</p>
<p>For Azure Synapse Analytics, the Query Store can be enabled as on other platforms but additional configuration options aren't supported.</p>
</div>
<p><a id="Related"></a></p>
<h2 id="related-views-functions-and-procedures">Related views, functions, and procedures</h2>
<p>View and manage Query Store through Management Studio or by using the following views and procedures.</p>
<h3 id="query-store-functions">Query Store functions</h3>
<p>Functions help operations with the Query Store.</p>
<section class="row">
<div class="column">
<p><a href="../system-functions/sys-fn-stmt-sql-handle-from-sql-stmt-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.fn_stmt_sql_handle_from_sql_stmt</a></p>
</div>
</section>
<h3 id="query-store-catalog-views">Query Store catalog views</h3>
<p>Catalog views present information about the Query Store.</p>
<section class="row">
<div class="column">
<p><a href="../system-catalog-views/sys-database-query-store-options-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.database_query_store_options</a></p>
</div>
<div class="column">
<p><a href="../system-catalog-views/sys-query-context-settings-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.query_context_settings</a></p>
</div>
</section>
<section class="row">
<div class="column">
<p><a href="../system-catalog-views/sys-query-store-plan-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.query_store_plan</a></p>
</div>
<div class="column">
<p><a href="../system-catalog-views/sys-query-store-query-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.query_store_query</a></p>
</div>
</section>
<section class="row">
<div class="column">
<p><a href="../system-catalog-views/sys-query-store-query-text-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.query_store_query_text</a></p>
</div>
<div class="column">
<p><a href="../system-catalog-views/sys-query-store-runtime-stats-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.query_store_runtime_stats</a></p>
</div>
</section>
<section class="row">
<div class="column">
<p><a href="../system-catalog-views/sys-query-store-wait-stats-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.query_store_wait_stats</a></p>
</div>
<div class="column">
<p><a href="../system-catalog-views/sys-query-store-runtime-stats-interval-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.query_store_runtime_stats_interval</a></p>
</div>
</section>
<section class="row">
<div class="column">
<p><a href="../system-catalog-views/sys-database-query-store-internal-state-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.database_query_store_internal_state</a></p>
</div>
<div class="column">
</div>
</section>
<h3 id="query-store-stored-procedures">Query Store stored procedures</h3>
<p>Stored procedures configure the Query Store.</p>
<section class="row">
<div class="column">
<p><a href="../system-stored-procedures/sp-query-store-flush-db-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sp_query_store_flush_db</a></p>
</div>
<div class="column">
<p><a href="../system-stored-procedures/sp-query-store-reset-exec-stats-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sp_query_store_reset_exec_stats</a></p>
</div>
</section>
<section class="row">
<div class="column">
<p><a href="../system-stored-procedures/sp-query-store-force-plan-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sp_query_store_force_plan</a></p>
</div>
<div class="column">
<p><a href="../system-stored-procedures/sp-query-store-unforce-plan-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sp_query_store_unforce_plan</a></p>
</div>
</section>
<section class="row">
<div class="column">
<p><a href="../system-stored-procedures/sp-query-store-remove-plan-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sp_query_store_remove_plan</a></p>
</div>
<div class="column">
<p><a href="../system-stored-procedures/sp-query-store-remove-query-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sp_query_store_remove_query</a></p>
</div>
</section>
<section class="row">
<div class="column">
<p><a href="../system-stored-procedures/sp-query-store-clear-message-queues-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sp_query_store_clear_message_queues</a></p>
</div>
<div class="column">
<p><code>sp_query_store_consistency_check</code> (Transact-SQL)<sup>1</sup></p>
</div>
</section>
<p><sup>1</sup> In extreme scenarios Query Store can enter an ERROR state because of internal errors. Starting with SQL Server 2017 (14.x), if this happens, Query Store can be recovered by executing the <code>sp_query_store_consistency_check</code> stored procedure in the affected database. See <a href="../system-catalog-views/sys-database-query-store-options-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.database_query_store_options</a> for more details described in the <code>actual_state_desc</code> column description.</p>
<p><a id="Scenarios"></a>
<a id="OptionMgmt"></a></p>
<h2 id="query-store-maintenance">Query Store maintenance</h2>
<p>Best practices and recommendations for maintenance and management of the Query Store have been expanded in this article: <a href="manage-the-query-store?view=sql-server-ver17" data-linktype="relative-path">Best practices for managing the Query Store</a>.</p>
<p><a id="Performance"></a></p>
<h2 id="performance-auditing-and-troubleshooting">Performance auditing and troubleshooting</h2>
<p>For more information about diving into performance tuning with Query Store, see <a href="tune-performance-with-the-query-store?view=sql-server-ver17" data-linktype="relative-path">Tune performance with the Query Store</a>.</p>
<p>Other performance topics:</p>
<ul>
<li><a href="query-store-usage-scenarios?view=sql-server-ver17" data-linktype="relative-path">Query Store Usage Scenarios</a></li>
</ul>
<h2 id="related-content">Related content</h2>
<ul>
<li><a href="../system-stored-procedures/query-store-stored-procedures-transact-sql?view=sql-server-ver17" data-linktype="relative-path">Query Store stored procedures (Transact-SQL)</a></li>
<li><a href="../system-catalog-views/query-store-catalog-views-transact-sql?view=sql-server-ver17" data-linktype="relative-path">Query Store catalog views (Transact-SQL)</a></li>
<li><a href="../system-catalog-views/sys-database-query-store-options-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.database_query_store_options (Transact-SQL)</a></li>
<li><a href="live-query-statistics?view=sql-server-ver17" data-linktype="relative-path">Live Query Statistics</a></li>
<li><a href="../performance-monitor/activity-monitor?view=sql-server-ver17" data-linktype="relative-path">Activity Monitor</a></li>
<li><a href="how-query-store-collects-data?view=sql-server-ver17" data-linktype="relative-path">How Query Store collects data</a></li>
<li><a href="monitor-and-tune-for-performance?view=sql-server-ver17" data-linktype="relative-path">Monitor and Tune for Performance</a></li>
<li><a href="performance-monitoring-and-tuning-tools?view=sql-server-ver17" data-linktype="relative-path">Performance monitoring and tuning tools</a></li>
<li><a href="using-the-query-store-with-in-memory-oltp?view=sql-server-ver17" data-linktype="relative-path">Use the Query Store with In-Memory OLTP</a></li>
<li><a href="best-practice-with-the-query-store?view=sql-server-ver17" data-linktype="relative-path">Best practices for monitoring workloads with Query Store</a></li>
<li><a href="manage-the-query-store?view=sql-server-ver17" data-linktype="relative-path">Best practices for managing the Query Store</a></li>
<li><a href="tune-performance-with-the-query-store?view=sql-server-ver17" data-linktype="relative-path">Tune performance with the Query Store</a></li>
<li><a href="query-store-hints?view=sql-server-ver17" data-linktype="relative-path">Query Store hints</a></li>
<li><a href="query-store-usage-scenarios?view=sql-server-ver17" data-linktype="relative-path">Query Store Usage Scenarios</a></li>
<li><a href="../performance-monitor/open-activity-monitor-sql-server-management-studio?view=sql-server-ver17" data-linktype="relative-path">Open Activity Monitor in SQL Server Management Studio (SSMS)</a></li>
</ul>
</div>
					
		<div
			id="ms--inline-notifications"
			class="margin-block-xs"
			data-bi-name="inline-notification"
		></div>
	 
		<div
			id="assertive-live-region"
			role="alert"
			aria-live="assertive"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
		<div
			id="polite-live-region"
			role="status"
			aria-live="polite"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
	
					
		<!-- feedback section -->
		<section
			id="site-user-feedback-footer"
			class="font-size-sm margin-top-md display-none-print display-none-desktop"
			data-test-id="site-user-feedback-footer"
			data-bi-name="site-feedback-section"
		>
			<hr class="hr" />
			<h2 id="ms--feedback" class="title is-3">Feedback</h2>
			<div class="display-flex flex-wrap-wrap align-items-center">
				<p class="font-weight-semibold margin-xxs margin-left-none">
					Was this page helpful?
				</p>
				<div class="buttons">
					<button
						class="thumb-rating-button like button button-primary button-sm"
						data-test-id="footer-rating-yes"
						data-binary-rating-response="rating-yes"
						type="button"
						title="This article is helpful"
						data-bi-name="button-rating-yes"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-like"></span>
						</span>
						<span>Yes</span>
					</button>
					<button
						class="thumb-rating-button dislike button button-primary button-sm"
						id="standard-rating-no-button"
						hidden
						data-test-id="footer-rating-no"
						data-binary-rating-response="rating-no"
						type="button"
						title="This article is not helpful"
						data-bi-name="button-rating-no"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-dislike"></span>
						</span>
						<span>No</span>
					</button>
					<details
						class="popover popover-top"
						id="mobile-help-popover"
						data-test-id="footer-feedback-popover"
					>
						<summary
							class="thumb-rating-button dislike button button-primary button-sm"
							data-test-id="details-footer-rating-no"
							data-binary-rating-response="rating-no"
							title="This article is not helpful"
							data-bi-name="button-rating-no"
							aria-pressed="false"
							data-bi-an="feedback-unhelpful-popover"
						>
							<span class="icon" aria-hidden="true">
								<span class="docon docon-dislike"></span>
							</span>
							<span>No</span>
						</summary>
						<div
							class="popover-content width-200 width-300-tablet"
							role="dialog"
							aria-labelledby="popover-heading"
							aria-describedby="popover-description"
						>
							<p id="popover-heading" class="font-size-lg margin-bottom-xxs font-weight-semibold">
								Need help with this topic?
							</p>
							<p id="popover-description" class="font-size-sm margin-bottom-xs">
								Want to try using Ask Learn to clarify or guide you through this topic?
							</p>
							
		<div class="buttons flex-direction-row flex-wrap justify-content-center gap-xxs">
			<div>
		<button
			class="button button-sm border inner-focus display-none margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-test-id="ask-learn-assistant-modal-entry-mobile-feedback"
			data-ask-learn-modal-entry-feedback
			data-bi-an=feedback-unhelpful-popover
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-inline-flex display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-modal-entry-tablet-feedback"
			data-ask-learn-modal-entry-feedback
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-flyout-entry-feedback"
			data-ask-learn-flyout-entry-show-only
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	</div>
			<button
				type="button"
				class="button button-sm margin-right-xxs"
				data-help-option="suggest-fix"
				data-bi-name="feedback-suggest"
				data-bi-an="feedback-unhelpful-popover"
				data-test-id="suggest-fix"
			>
				<span class="icon" aria-hidden="true">
					<span class="docon docon-feedback"></span>
				</span>
				<span> Suggest a fix? </span>
			</button>
		</div>
	
						</div>
					</details>
				</div>
			</div>
		</section>
		<!-- end feedback section -->
	
				</div>
				
		<div id="ms--additional-resources-mobile" class="display-none-print">
			<hr class="hr" hidden />
			<h2 id="ms--additional-resources-mobile-heading" class="title is-3" hidden>
				Additional resources
			</h2>
			
		<section
			id="right-rail-recommendations-mobile"
			class=""
			data-bi-name="recommendations"
			hidden
		></section>
	 
		<section
			id="right-rail-training-mobile"
			class=""
			data-bi-name="learning-resource-card"
			hidden
		></section>
	 
		<section
			id="right-rail-events-mobile"
			class=""
			data-bi-name="events-card"
			hidden
		></section>
	 
		<section
			id="right-rail-qna-mobile"
			class="margin-top-xxs"
			data-bi-name="qna-link-card"
			hidden
		></section>
	
		</div>
	 
		<div
			id="article-metadata-footer"
			data-bi-name="article-metadata-footer"
			data-test-id="article-metadata-footer"
			class="page-metadata-container"
		>
			<hr class="hr" />
			<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
				<li class="visibility-hidden-visual-diff">
			<span class="badge badge-sm text-wrap-pretty">
				<span>Last updated on <local-time format="twoDigitNumeric"
		datetime="2025-11-18T15:49:00.000Z"
		data-article-date-source="calculated"
		class="is-invisible"
	>
		2025-11-18
	</local-time></span>
			</span>
		</li>
			</ul>
		</div>
	
			</div>
			
		<div
			id="action-panel"
			role="region"
			aria-label="Action Panel"
			class="action-panel"
			tabindex="-1"
		></div>
	
		
				</main>
				<aside
					id="layout-body-aside"
					class="layout-body-aside "
					data-bi-name="aside"
			  >
					
		<div
			id="ms--additional-resources"
			class="right-container padding-sm display-none display-block-desktop height-full"
			data-bi-name="pageactions"
			role="complementary"
			aria-label="Additional resources"
		>
			<div id="affixed-right-container" data-bi-name="right-column">
				
		<nav
			id="side-doc-outline"
			class="doc-outline border-bottom padding-bottom-xs margin-bottom-xs"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h3>In this article</h3>
		</nav>
	
				<!-- Feedback -->
				
		<section
			id="ms--site-user-feedback-right-rail"
			class="font-size-sm display-none-print"
			data-test-id="site-user-feedback-right-rail"
			data-bi-name="site-feedback-right-rail"
		>
			<p class="font-weight-semibold margin-bottom-xs">Was this page helpful?</p>
			<div class="buttons">
				<button
					class="thumb-rating-button like button button-primary button-sm"
					data-test-id="right-rail-rating-yes"
					data-binary-rating-response="rating-yes"
					type="button"
					title="This article is helpful"
					data-bi-name="button-rating-yes"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-like"></span>
					</span>
					<span>Yes</span>
				</button>
				<button
					class="thumb-rating-button dislike button button-primary button-sm"
					id="right-rail-no-button"
					hidden
					data-test-id="right-rail-rating-no"
					data-binary-rating-response="rating-no"
					type="button"
					title="This article is not helpful"
					data-bi-name="button-rating-no"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-dislike"></span>
					</span>
					<span>No</span>
				</button>
				<details class="popover popover-right" id="help-popover" data-test-id="feedback-popover">
					<summary
						tabindex="0"
						class="thumb-rating-button dislike button button-primary button-sm"
						data-test-id="details-right-rail-rating-no"
						data-binary-rating-response="rating-no"
						title="This article is not helpful"
						data-bi-name="button-rating-no"
						aria-pressed="false"
						data-bi-an="feedback-unhelpful-popover"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-dislike"></span>
						</span>
						<span>No</span>
					</summary>
					<div
						class="popover-content width-200 width-300-tablet"
						role="dialog"
						aria-labelledby="popover-heading"
						aria-describedby="popover-description"
					>
						<p
							id="popover-heading-right-rail"
							class="font-size-lg margin-bottom-xxs font-weight-semibold"
						>
							Need help with this topic?
						</p>
						<p id="popover-description-right-rail" class="font-size-sm margin-bottom-xs">
							Want to try using Ask Learn to clarify or guide you through this topic?
						</p>
						
		<div class="buttons flex-direction-row flex-wrap justify-content-center gap-xxs">
			<div>
		<button
			class="button button-sm border inner-focus display-none margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-test-id="ask-learn-assistant-modal-entry-mobile-feedback"
			data-ask-learn-modal-entry-feedback
			data-bi-an=feedback-unhelpful-popover
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-inline-flex display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-modal-entry-tablet-feedback"
			data-ask-learn-modal-entry-feedback
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-flyout-entry-feedback"
			data-ask-learn-flyout-entry-show-only
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	</div>
			<button
				type="button"
				class="button button-sm margin-right-xxs"
				data-help-option="suggest-fix"
				data-bi-name="feedback-suggest"
				data-bi-an="feedback-unhelpful-popover"
				data-test-id="suggest-fix"
			>
				<span class="icon" aria-hidden="true">
					<span class="docon docon-feedback"></span>
				</span>
				<span> Suggest a fix? </span>
			</button>
		</div>
	
					</div>
				</details>
			</div>
		</section>
	
			</div>
		</div>
	
			  </aside> <section
					id="layout-body-flyout"
					class="layout-body-flyout "
					data-bi-name="flyout"
			  >
					 <div
	class="height-full border-left background-color-body-medium"
	id="ask-learn-flyout"
></div>
			  </section> <div class="layout-body-footer " data-bi-name="layout-footer">
		<footer
			id="footer"
			data-test-id="footer"
			data-bi-name="footer"
			class="footer-layout has-padding has-default-focus border-top  uhf-container"
			role="contentinfo"
		>
			<div class="display-flex gap-xs flex-wrap-wrap is-full-height padding-right-lg-desktop">
				
		<a
			data-mscc-ic="false"
			href="#"
			data-bi-name="select-locale"
			class="locale-selector-link flex-shrink-0 button button-sm button-clear external-link-indicator"
			id=""
			title=""
			><span class="icon" aria-hidden="true"
				><span class="docon docon-world"></span></span
			><span class="local-selector-link-text">en-us</span></a
		>
	 <div class="ccpa-privacy-link" data-ccpa-privacy-link hidden>
		
		<a
			data-mscc-ic="false"
			href="https://aka.ms/yourcaliforniaprivacychoices"
			data-bi-name="your-privacy-choices"
			class="button button-sm button-clear flex-shrink-0 external-link-indicator"
			id=""
			title=""
			>
		<svg
			xmlns="http://www.w3.org/2000/svg"
			viewBox="0 0 30 14"
			xml:space="preserve"
			height="16"
			width="43"
			aria-hidden="true"
			focusable="false"
		>
			<path
				d="M7.4 12.8h6.8l3.1-11.6H7.4C4.2 1.2 1.6 3.8 1.6 7s2.6 5.8 5.8 5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#fff"
			></path>
			<path
				d="M22.6 0H7.4c-3.9 0-7 3.1-7 7s3.1 7 7 7h15.2c3.9 0 7-3.1 7-7s-3.2-7-7-7zm-21 7c0-3.2 2.6-5.8 5.8-5.8h9.9l-3.1 11.6H7.4c-3.2 0-5.8-2.6-5.8-5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#06f"
			></path>
			<path
				d="M24.6 4c.2.2.2.6 0 .8L22.5 7l2.2 2.2c.2.2.2.6 0 .8-.2.2-.6.2-.8 0l-2.2-2.2-2.2 2.2c-.2.2-.6.2-.8 0-.2-.2-.2-.6 0-.8L20.8 7l-2.2-2.2c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0l2.2 2.2L23.8 4c.2-.2.6-.2.8 0z"
				style="fill:#fff"
			></path>
			<path
				d="M12.7 4.1c.2.2.3.6.1.8L8.6 9.8c-.1.1-.2.2-.3.2-.2.1-.5.1-.7-.1L5.4 7.7c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0L8 8.6l3.8-4.5c.2-.2.6-.2.9 0z"
				style="fill:#06f"
			></path>
		</svg>
	
			<span>Your Privacy Choices</span></a
		>
	
	</div>
				<div class="flex-shrink-0">
		<div class="dropdown has-caret-up">
			<button
				data-test-id="theme-selector-button"
				class="dropdown-trigger button button-clear button-sm inner-focus theme-dropdown-trigger"
				aria-controls="{{ themeMenuId }}"
				aria-expanded="false"
				title="Theme"
				data-bi-name="theme"
			>
				<span class="icon">
					<span class="docon docon-sun" aria-hidden="true"></span>
				</span>
				<span>Theme</span>
				<span class="icon expanded-indicator" aria-hidden="true">
					<span class="docon docon-chevron-down-light"></span>
				</span>
			</button>
			<div class="dropdown-menu" id="{{ themeMenuId }}" role="menu">
				<ul class="theme-selector padding-xxs" data-test-id="theme-dropdown-menu">
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="light"
						>
							<span class="theme-light margin-right-xxs">
								<span
									class="theme-selector-icon border display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Light </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="dark"
						>
							<span class="theme-dark margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Dark </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="high-contrast"
						>
							<span class="theme-high-contrast margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> High contrast </span>
						</button>
					</li>
				</ul>
			</div>
		</div>
	</div>
			</div>
			<ul class="links" data-bi-name="footerlinks">
				<li class="manage-cookies-holder" hidden=""></li>
				<li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/principles-for-ai-generated-content"
			data-bi-name="aiDisclaimer"
			class=" external-link-indicator"
			id=""
			title=""
			>AI Disclaimer</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/previous-versions/"
			data-bi-name="archivelink"
			class=" external-link-indicator"
			id=""
			title=""
			>Previous Versions</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://techcommunity.microsoft.com/t5/microsoft-learn-blog/bg-p/MicrosoftLearnBlog"
			data-bi-name="bloglink"
			class=" external-link-indicator"
			id=""
			title=""
			>Blog</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/contribute"
			data-bi-name="contributorGuide"
			class=" external-link-indicator"
			id=""
			title=""
			>Contribute</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://go.microsoft.com/fwlink/?LinkId=521839"
			data-bi-name="privacy"
			class=" external-link-indicator"
			id=""
			title=""
			>Privacy</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/legal/termsofuse"
			data-bi-name="termsofuse"
			class=" external-link-indicator"
			id=""
			title=""
			>Terms of Use</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://www.microsoft.com/legal/intellectualproperty/Trademarks/"
			data-bi-name="trademarks"
			class=" external-link-indicator"
			id=""
			title=""
			>Trademarks</a
		>
	
	</li>
				<li>&copy; Microsoft 2026</li>
			</ul>
		</footer>
	</footer>
			</body>
		</html>