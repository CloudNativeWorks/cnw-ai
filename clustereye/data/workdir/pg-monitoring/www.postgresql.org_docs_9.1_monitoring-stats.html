<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 9.1: The Statistics Collector</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/9.1/monitoring-stats.html" />
  <meta property="og:type" content="article" />

  <meta property="article:published_time" content="2016-10-27T13:32:07" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="The Statistics Collector" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />
  <link href="/media/css/fontawesome.css?77152761" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?77152761">

  <script src="/media/js/theme.js?77152761"></script>

  
  <meta name="robots" content="nofollow" />

  <link rel="canonical" href="https://www.postgresql.org/docs/current/monitoring-stats.html" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <input type="checkbox" id="navbar-toggler" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <label for="navbar-toggler" id="navbar-toggler-label" class="navbar-toggler" tabindex="0"><span class="navbar-toggler-icon"></span></label>
            <div class="navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 16, 2026: <a href="/about/news/out-of-cycle-release-scheduled-for-february-26-2026-3241/">
  Out-of-cycle release scheduled for February 26, 2026
</a>
</div>
      </div>
    </div>
    
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/9.1/index.html">PostgreSQL 9.1</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/monitoring-stats.html" title="PostgreSQL 18 - The Statistics Collector" >Current</a>
                          (<a href="/docs/18/monitoring-stats.html" title="PostgreSQL 18 - The Statistics Collector" >18</a>)
                        
                      
                         / 
                        
                          <a href="/docs/17/monitoring-stats.html" title="PostgreSQL 17 - The Statistics Collector" >17</a>
                        
                      
                         / 
                        
                          <a href="/docs/16/monitoring-stats.html" title="PostgreSQL 16 - The Statistics Collector" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/monitoring-stats.html" title="PostgreSQL 15 - The Statistics Collector" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/monitoring-stats.html" title="PostgreSQL 14 - The Statistics Collector" >14</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/monitoring-stats.html" title="PostgreSQL devel - The Statistics Collector"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/13/monitoring-stats.html" title="PostgreSQL 13 - The Statistics Collector"  rel="nofollow">13</a>
                    
                       / 
                      <a href="/docs/12/monitoring-stats.html" title="PostgreSQL 12 - The Statistics Collector"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/monitoring-stats.html" title="PostgreSQL 11 - The Statistics Collector"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/monitoring-stats.html" title="PostgreSQL 10 - The Statistics Collector"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/monitoring-stats.html" title="PostgreSQL 9.6 - The Statistics Collector"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/monitoring-stats.html" title="PostgreSQL 9.5 - The Statistics Collector"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/monitoring-stats.html" title="PostgreSQL 9.4 - The Statistics Collector"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/monitoring-stats.html" title="PostgreSQL 9.3 - The Statistics Collector"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/monitoring-stats.html" title="PostgreSQL 9.2 - The Statistics Collector"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/monitoring-stats.html" title="PostgreSQL 9.1 - The Statistics Collector" class="docs-version-selected" rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/monitoring-stats.html" title="PostgreSQL 9.0 - The Statistics Collector"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/monitoring-stats.html" title="PostgreSQL 8.4 - The Statistics Collector"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/monitoring-stats.html" title="PostgreSQL 8.3 - The Statistics Collector"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/monitoring-stats.html" title="PostgreSQL 8.2 - The Statistics Collector"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/monitoring-stats.html" title="PostgreSQL 8.1 - The Statistics Collector"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/monitoring-stats.html" title="PostgreSQL 8.0 - The Statistics Collector"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/monitoring-stats.html" title="PostgreSQL 7.4 - The Statistics Collector"  rel="nofollow">7.4</a>
                    
                       / 
                      <a href="/docs/7.3/monitoring-stats.html" title="PostgreSQL 7.3 - The Statistics Collector"  rel="nofollow">7.3</a>
                    
                       / 
                      <a href="/docs/7.2/monitoring-stats.html" title="PostgreSQL 7.2 - The Statistics Collector"  rel="nofollow">7.2</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/9.1/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
            </div>
          </div>

	  <div class="text-center alert-warning">
	    This documentation is for an unsupported version of PostgreSQL.<br/>
	    You may want to view the same page for the
	    <a href="/docs/current/monitoring-stats.html" title="PostgreSQL  - The Statistics Collector">current</a>
	    version, or one of the other supported versions listed above instead.
	  </div>

          <div id="docContent">
            <div class="NAVHEADER">
  <table summary="Header navigation table" width="100%" border="0"
  cellpadding="0" cellspacing="0">
    <tr>
      <th colspan="5" align="center" valign="bottom"><a href=
      "index.html">PostgreSQL 9.1.24 Documentation</a></th>
    </tr>

    <tr>
      <td width="10%" align="left" valign="top"><a title=
      "Standard Unix Tools" href="monitoring-ps.html" accesskey=
      "P">Prev</a></td>

      <td width="10%" align="left" valign="top"><a href=
      "monitoring.html" accesskey="U">Up</a></td>

      <td width="60%" align="center" valign="bottom">Chapter 27.
      Monitoring Database Activity</td>

      <td width="20%" align="right" valign="top"><a title=
      "Viewing Locks" href="monitoring-locks.html" accesskey=
      "N">Next</a></td>
    </tr>
  </table>
  <hr class="c1" width="100%" />
</div>

<div class="SECT1">
  <h1 class="SECT1"><a name="MONITORING-STATS" id=
  "MONITORING-STATS">27.2. The Statistics Collector</a></h1>

  <p><span class="PRODUCTNAME">PostgreSQL</span>'s <i class=
  "FIRSTTERM">statistics collector</i> is a subsystem that supports
  collection and reporting of information about server activity.
  Presently, the collector can count accesses to tables and indexes
  in both disk-block and individual-row terms. It also tracks the
  total number of rows in each table, and information about vacuum
  and analyze actions for each table. It can also count calls to
  user-defined functions and the total time spent in each one.</p>

  <p><span class="PRODUCTNAME">PostgreSQL</span> also supports
  reporting of the exact command currently being executed by other
  server processes. This facility is independent of the collector
  process.</p>

  <div class="SECT2">
    <h2 class="SECT2"><a name="MONITORING-STATS-SETUP" id=
    "MONITORING-STATS-SETUP">27.2.1. Statistics Collection
    Configuration</a></h2>

    <p>Since collection of statistics adds some overhead to query
    execution, the system can be configured to collect or not
    collect information. This is controlled by configuration
    parameters that are normally set in <tt class=
    "FILENAME">postgresql.conf</tt>. (See <a href=
    "runtime-config.html">Chapter 18</a> for details about setting
    configuration parameters.)</p>

    <p>The parameter <a href=
    "runtime-config-statistics.html#GUC-TRACK-COUNTS">track_counts</a>
    controls whether statistics are collected about table and index
    accesses.</p>

    <p>The parameter <a href=
    "runtime-config-statistics.html#GUC-TRACK-FUNCTIONS">track_functions</a>
    enables tracking of usage of user-defined functions.</p>

    <p>The parameter <a href=
    "runtime-config-statistics.html#GUC-TRACK-ACTIVITIES">track_activities</a>
    enables monitoring of the current command being executed by any
    server process.</p>

    <p>Normally these parameters are set in <tt class=
    "FILENAME">postgresql.conf</tt> so that they apply to all
    server processes, but it is possible to turn them on or off in
    individual sessions using the <a href="sql-set.html">SET</a>
    command. (To prevent ordinary users from hiding their activity
    from the administrator, only superusers are allowed to change
    these parameters with <tt class="COMMAND">SET</tt>.)</p>

    <p>The statistics collector transmits the collected information
    to backends (including autovacuum) through temporary files.
    These files are stored in the <tt class=
    "FILENAME">pg_stat_tmp</tt> subdirectory. When the postmaster
    shuts down, a permanent copy of the statistics data is stored
    in the <tt class="FILENAME">global</tt> subdirectory. For
    increased performance, the parameter <a href=
    "runtime-config-statistics.html#GUC-STATS-TEMP-DIRECTORY">stats_temp_directory</a>
    can be pointed at a RAM-based file system, decreasing physical
    I/O requirements.</p>
  </div>

  <div class="SECT2">
    <h2 class="SECT2"><a name="MONITORING-STATS-VIEWS" id=
    "MONITORING-STATS-VIEWS">27.2.2. Viewing Collected
    Statistics</a></h2>

    <p>Several predefined views, listed in <a href=
    "monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE">Table
    27-1</a>, are available to show the results of statistics
    collection. Alternatively, one can build custom views using the
    underlying statistics functions.</p>

    <p>When using the statistics to monitor current activity, it is
    important to realize that the information does not update
    instantaneously. Each individual server process transmits new
    statistical counts to the collector just before going idle; so
    a query or transaction still in progress does not affect the
    displayed totals. Also, the collector itself emits a new report
    at most once per <tt class="VARNAME">PGSTAT_STAT_INTERVAL</tt>
    milliseconds (500 unless altered while building the server). So
    the displayed information lags behind actual activity. However,
    current-query information collected by <tt class=
    "VARNAME">track_activities</tt> is always up-to-date.</p>

    <p>Another important point is that when a server process is
    asked to display any of these statistics, it first fetches the
    most recent report emitted by the collector process and then
    continues to use this snapshot for all statistical views and
    functions until the end of its current transaction. So the
    statistics will show static information as long as you continue
    the current transaction. Similarly, information about the
    current queries of all sessions is collected when any such
    information is first requested within a transaction, and the
    same information will be displayed throughout the transaction.
    This is a feature, not a bug, because it allows you to perform
    several queries on the statistics and correlate the results
    without worrying that the numbers are changing underneath you.
    But if you want to see new results with each query, be sure to
    do the queries outside any transaction block. Alternatively,
    you can invoke <code class=
    "FUNCTION">pg_stat_clear_snapshot</code>(), which will discard
    the current transaction's statistics snapshot (if any). The
    next use of statistical information will cause a new snapshot
    to be fetched.</p>

    <p>A transaction can also see its own statistics (as yet
    untransmitted to the collector) in the views <tt class=
    "STRUCTNAME">pg_stat_xact_all_tables</tt>, <tt class=
    "STRUCTNAME">pg_stat_xact_sys_tables</tt>, <tt class=
    "STRUCTNAME">pg_stat_xact_user_tables</tt>, and <tt class=
    "STRUCTNAME">pg_stat_xact_user_functions</tt>, or via these
    views' underlying functions. These numbers do not act as stated
    above; instead they update continuously throughout the
    transaction.</p>

    <div class="TABLE">
      <a name="MONITORING-STATS-VIEWS-TABLE" id=
      "MONITORING-STATS-VIEWS-TABLE"></a>

      <p class="c2">Table 27-1. Standard Statistics Views</p>

      <table border="1" class="CALSTABLE">
        <col />
        <col />

        <thead>
          <tr>
            <th>View Name</th>

            <th>Description</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td><tt class="STRUCTNAME">pg_stat_activity</tt></td>

            <td>One row per server process, showing database OID,
            database name, process <acronym class=
            "ACRONYM">ID</acronym>, user OID, user name,
            application name, client's address, host name (if
            available), and port number, times at which the server
            process, current transaction, and current query began
            execution, process's waiting status, and text of the
            current query. The columns that report data on the
            current query are available unless the parameter
            <tt class="VARNAME">track_activities</tt> has been
            turned off. Furthermore, these columns are only visible
            if the user examining the view is a superuser or the
            same as the user owning the process being reported on.
            The client's host name will be available only if
            <a href=
            "runtime-config-logging.html#GUC-LOG-HOSTNAME">log_hostname</a>
            is set or if the user's host name needed to be looked
            up during <tt class="FILENAME">pg_hba.conf</tt>
            processing.</td>
          </tr>

          <tr>
            <td><tt class="STRUCTNAME">pg_stat_bgwriter</tt></td>

            <td>One row only, showing cluster-wide statistics from
            the background writer: number of scheduled checkpoints,
            requested checkpoints, buffers written by checkpoints
            and cleaning scans, and the number of times the
            background writer stopped a cleaning scan because it
            had written too many buffers. Also includes statistics
            about the shared buffer pool, including buffers written
            by backends (that is, not by the background writer),
            how many times those backends had to execute their own
            fsync calls (normally the background writer handles
            those even when the backend does its own write), total
            buffers allocated, and time of last statistics
            reset.</td>
          </tr>

          <tr>
            <td><tt class="STRUCTNAME">pg_stat_database</tt></td>

            <td>One row per database, showing database OID,
            database name, number of active server processes
            connected to that database, number of transactions
            committed and rolled back in that database, total disk
            blocks read, total buffer hits (i.e., block read
            requests avoided by finding the block already in buffer
            cache), number of rows returned, fetched, inserted,
            updated and deleted, the total number of queries
            canceled due to conflict with recovery (on standby
            servers), and time of last statistics reset.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_database_conflicts</tt></td>

            <td>One row per database, showing database OID,
            database name and the number of queries that have been
            canceled in this database due to dropped tablespaces,
            lock timeouts, old snapshots, pinned buffers and
            deadlocks. Will only contain information on standby
            servers, since conflicts do not occur on master
            servers.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_replication</tt></td>

            <td>One row per WAL sender process, showing process
            <acronym class="ACRONYM">ID</acronym>, user OID, user
            name, application name, client's address, host name (if
            available) and port number, time at which the server
            process began execution, and the current WAL sender
            state and transaction log location. In addition, the
            standby reports the last transaction log position it
            received and wrote, the last position it flushed to
            disk, and the last position it replayed, and this
            information is also displayed here. If the standby's
            application names matches one of the settings in
            <tt class="VARNAME">synchronous_standby_names</tt> then
            the sync_priority is shown here also, that is the order
            in which standbys will become the synchronous standby.
            The columns detailing what exactly the connection is
            doing are only visible if the user examining the view
            is a superuser. The client's host name will be
            available only if <a href=
            "runtime-config-logging.html#GUC-LOG-HOSTNAME">log_hostname</a>
            is set or if the user's host name needed to be looked
            up during <tt class="FILENAME">pg_hba.conf</tt>
            processing.</td>
          </tr>

          <tr>
            <td><tt class="STRUCTNAME">pg_stat_all_tables</tt></td>

            <td>For each table in the current database (including
            TOAST tables), the table OID, schema and table name,
            number of sequential scans initiated, number of live
            rows fetched by sequential scans, number of index scans
            initiated (over all indexes belonging to the table),
            number of live rows fetched by index scans, numbers of
            row insertions, updates, and deletions, number of row
            updates that were HOT (i.e., no separate index update),
            numbers of live and dead rows, the last time the table
            was non-<tt class="OPTION">FULL</tt> vacuumed manually,
            the last time it was vacuumed by the autovacuum daemon,
            the last time it was analyzed manually, the last time
            it was analyzed by the autovacuum daemon, number of
            times it has been non-<tt class="OPTION">FULL</tt>
            vacuumed manually, number of times it has been vacuumed
            by the autovacuum daemon, number of times it has been
            analyzed manually, and the number of times it has been
            analyzed by the autovacuum daemon.</td>
          </tr>

          <tr>
            <td><tt class="STRUCTNAME">pg_stat_sys_tables</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_stat_all_tables</tt>, except that only
            system tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_user_tables</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_stat_all_tables</tt>, except that only
            user tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_xact_all_tables</tt></td>

            <td>Similar to <tt class=
            "STRUCTNAME">pg_stat_all_tables</tt>, but counts
            actions taken so far within the current transaction
            (which are <span class=
            "emphasis EMPHASIS c3">not</span> yet included in
            <tt class="STRUCTNAME">pg_stat_all_tables</tt> and
            related views). The columns for numbers of live and
            dead rows and vacuum and analyze actions are not
            present in this view.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_xact_sys_tables</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_stat_xact_all_tables</tt>, except that
            only system tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_xact_user_tables</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_stat_xact_all_tables</tt>, except that
            only user tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_all_indexes</tt></td>

            <td>For each index in the current database, the table
            and index OID, schema, table and index name, number of
            index scans initiated on that index, number of index
            entries returned by index scans, and number of live
            table rows fetched by simple index scans using that
            index.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_sys_indexes</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_stat_all_indexes</tt>, except that only
            indexes on system tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_user_indexes</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_stat_all_indexes</tt>, except that only
            indexes on user tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_all_tables</tt></td>

            <td>For each table in the current database (including
            TOAST tables), the table OID, schema and table name,
            number of disk blocks read from that table, number of
            buffer hits, numbers of disk blocks read and buffer
            hits in all indexes of that table, numbers of disk
            blocks read and buffer hits from that table's auxiliary
            TOAST table (if any), and numbers of disk blocks read
            and buffer hits for the TOAST table's index.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_sys_tables</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_statio_all_tables</tt>, except that
            only system tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_user_tables</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_statio_all_tables</tt>, except that
            only user tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_all_indexes</tt></td>

            <td>For each index in the current database, the table
            and index OID, schema, table and index name, numbers of
            disk blocks read and buffer hits in that index.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_sys_indexes</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_statio_all_indexes</tt>, except that
            only indexes on system tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_user_indexes</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_statio_all_indexes</tt>, except that
            only indexes on user tables are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_all_sequences</tt></td>

            <td>For each sequence object in the current database,
            the sequence OID, schema and sequence name, numbers of
            disk blocks read and buffer hits in that sequence.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_sys_sequences</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_statio_all_sequences</tt>, except that
            only system sequences are shown. (Presently, no system
            sequences are defined, so this view is always
            empty.)</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_statio_user_sequences</tt></td>

            <td>Same as <tt class=
            "STRUCTNAME">pg_statio_all_sequences</tt>, except that
            only user sequences are shown.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_user_functions</tt></td>

            <td>For all tracked functions, function OID, schema,
            name, number of calls, total time, and self time. Self
            time is the amount of time spent in the function
            itself, total time includes the time spent in functions
            it called. Time values are in milliseconds.</td>
          </tr>

          <tr>
            <td><tt class=
            "STRUCTNAME">pg_stat_xact_user_functions</tt></td>

            <td>Similar to <tt class=
            "STRUCTNAME">pg_stat_user_functions</tt>, but counts
            only calls during the current transaction (which are
            <span class="emphasis EMPHASIS c3">not</span> yet
            included in <tt class=
            "STRUCTNAME">pg_stat_user_functions</tt>).</td>
          </tr>
        </tbody>
      </table>
    </div>

    <p>The per-index statistics are particularly useful to
    determine which indexes are being used and how effective they
    are.</p>

    <p>Indexes can be used either directly or via <span class=
    "QUOTE">"bitmap scans"</span>. In a bitmap scan the output of
    several indexes can be combined via AND or OR rules; so it is
    difficult to associate individual heap row fetches with
    specific indexes when a bitmap scan is used. Therefore, a
    bitmap scan increments the <tt class=
    "STRUCTNAME">pg_stat_all_indexes</tt>.<tt class=
    "STRUCTFIELD">idx_tup_read</tt> count(s) for the index(es) it
    uses, and it increments the <tt class=
    "STRUCTNAME">pg_stat_all_tables</tt>.<tt class=
    "STRUCTFIELD">idx_tup_fetch</tt> count for the table, but it
    does not affect <tt class=
    "STRUCTNAME">pg_stat_all_indexes</tt>.<tt class=
    "STRUCTFIELD">idx_tup_fetch</tt>.</p>

    <div class="NOTE">
      <blockquote class="NOTE">
        <p><b>Note:</b> Before <span class=
        "PRODUCTNAME">PostgreSQL</span> 8.1, the <tt class=
        "STRUCTFIELD">idx_tup_read</tt> and <tt class=
        "STRUCTFIELD">idx_tup_fetch</tt> counts were essentially
        always equal. Now they can be different even without
        considering bitmap scans, because <tt class=
        "STRUCTFIELD">idx_tup_read</tt> counts index entries
        retrieved from the index while <tt class=
        "STRUCTFIELD">idx_tup_fetch</tt> counts live rows fetched
        from the table; the latter will be less if any dead or
        not-yet-committed rows are fetched using the index.</p>
      </blockquote>
    </div>

    <p>The <tt class="STRUCTNAME">pg_statio_</tt> views are
    primarily useful to determine the effectiveness of the buffer
    cache. When the number of actual disk reads is much smaller
    than the number of buffer hits, then the cache is satisfying
    most read requests without invoking a kernel call. However,
    these statistics do not give the entire story: due to the way
    in which <span class="PRODUCTNAME">PostgreSQL</span> handles
    disk I/O, data that is not in the <span class=
    "PRODUCTNAME">PostgreSQL</span> buffer cache might still reside
    in the kernel's I/O cache, and might therefore still be fetched
    without requiring a physical read. Users interested in
    obtaining more detailed information on <span class=
    "PRODUCTNAME">PostgreSQL</span> I/O behavior are advised to use
    the <span class="PRODUCTNAME">PostgreSQL</span> statistics
    collector in combination with operating system utilities that
    allow insight into the kernel's handling of I/O.</p>

    <p>Other ways of looking at the statistics can be set up by
    writing queries that use the same underlying statistics access
    functions as these standard views do. These functions are
    listed in <a href=
    "monitoring-stats.html#MONITORING-STATS-FUNCS-TABLE">Table
    27-2</a>. The per-database access functions take a database OID
    as argument to identify which database to report on. The
    per-table and per-index functions take a table or index OID.
    The functions for function-call statistics take a function OID.
    (Note that only tables, indexes, and functions in the current
    database can be seen with these functions.) The
    per-server-process access functions take a server process
    number, which ranges from one to the number of currently active
    server processes.</p>

    <div class="TABLE">
      <a name="MONITORING-STATS-FUNCS-TABLE" id=
      "MONITORING-STATS-FUNCS-TABLE"></a>

      <p class="c2">Table 27-2. Statistics Access Functions</p>

      <table border="1" class="CALSTABLE">
        <col />
        <col />
        <col />

        <thead>
          <tr>
            <th>Function</th>

            <th>Return Type</th>

            <th>Description</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_numbackends</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">integer</tt></td>

            <td>Number of active server processes for database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_xact_commit</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of transactions committed in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_xact_rollback</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of transactions rolled back in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_blocks_fetched</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of disk block fetch requests for
            database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_blocks_hit</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of disk block fetch requests found in cache
            for database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_tuples_returned</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of tuples returned for database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_tuples_fetched</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of tuples fetched for database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_tuples_inserted</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of tuples inserted in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_tuples_updated</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of tuples updated in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_tuples_deleted</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of tuples deleted in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_conflict_tablespace</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of queries canceled because of recovery
            conflict with dropped tablespaces in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_conflict_lock</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of queries canceled because of recovery
            conflict with locks in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_conflict_snapshot</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of queries canceled because of recovery
            conflict with old snapshots in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_conflict_bufferpin</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of queries canceled because of recovery
            conflict with pinned buffers in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_conflict_startup_deadlock</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of queries canceled because of recovery
            conflict with deadlocks in database</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_db_stat_reset_time</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">timestamptz</tt></td>

            <td>Time of the last statistics reset for the database.
            Initialized to the system time during the first
            connection to each database. The reset time is updated
            when you call <code class=
            "FUNCTION">pg_stat_reset</code> on the database, as
            well as upon execution of <code class=
            "FUNCTION">pg_stat_reset_single_table_counters</code>
            against any table or index in it.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_numscans</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of sequential scans done when argument is a
            table, or number of index scans done when argument is
            an index</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_tuples_returned</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows read by sequential scans when
            argument is a table, or number of index entries
            returned when argument is an index</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_tuples_fetched</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of table rows fetched by bitmap scans when
            argument is a table, or table rows fetched by simple
            index scans using the index when argument is an
            index</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_tuples_inserted</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows inserted into table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_tuples_updated</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows updated in table (includes HOT
            updates)</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_tuples_deleted</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows deleted from table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_tuples_hot_updated</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows HOT-updated in table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_live_tuples</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of live rows in table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_dead_tuples</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of dead rows in table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_blocks_fetched</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of disk block fetch requests for table or
            index</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_blocks_hit</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of disk block requests found in cache for
            table or index</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_last_vacuum_time</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">timestamptz</tt></td>

            <td>Time of the last non-<tt class="OPTION">FULL</tt>
            vacuum initiated by the user on this table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_last_autovacuum_time</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">timestamptz</tt></td>

            <td>Time of the last vacuum initiated by the autovacuum
            daemon on this table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_last_analyze_time</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">timestamptz</tt></td>

            <td>Time of the last analyze initiated by the user on
            this table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_last_autoanalyze_time</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">timestamptz</tt></td>

            <td>Time of the last analyze initiated by the
            autovacuum daemon on this table</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_vacuum_count</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>The number of times this table has been
            non-<tt class="OPTION">FULL</tt> vacuumed manually</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_autovacuum_count</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>The number of times this table has been vacuumed by
            the autovacuum daemon</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_analyze_count</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>The number of times this table has been analyzed
            manually</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_autoanalyze_count</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>The number of times this table has been analyzed by
            the autovacuum daemon</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_numscans</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of sequential scans done when argument is a
            table, or number of index scans done when argument is
            an index, in the current transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_tuples_returned</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows read by sequential scans when
            argument is a table, or number of index entries
            returned when argument is an index, in the current
            transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_tuples_fetched</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of table rows fetched by bitmap scans when
            argument is a table, or table rows fetched by simple
            index scans using the index when argument is an index,
            in the current transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_tuples_inserted</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows inserted into table, in the current
            transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_tuples_updated</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows updated in table (includes HOT
            updates), in the current transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_tuples_deleted</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows deleted from table, in the current
            transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_tuples_hot_updated</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of rows HOT-updated in table, in the current
            transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_blocks_fetched</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of disk block fetch requests for table or
            index, in the current transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_blocks_hit</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of disk block requests found in cache for
            table or index, in the current transaction</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_backend_pid()</code></tt></td>

            <td><tt class="TYPE">integer</tt></td>

            <td>Process ID of the server process attached to the
            current session</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_activity</code>(<tt class=
            "TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">setof record</tt></td>

            <td>Returns a record of information about the backend
            with the specified PID, or one record for each active
            backend in the system if <tt class="SYMBOL">NULL</tt>
            is specified. The fields returned are a subset of those
            in the <tt class="STRUCTNAME">pg_stat_activity</tt>
            view.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_function_calls</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of times the function has been called</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_function_time</code>(<tt class=
            "TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Total wall clock time spent in the function, in
            microseconds. Includes the time spent in functions
            called by this one.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_function_self_time</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Time spent in only this function. Time spent in
            called functions is excluded.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_function_calls</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of times the function has been called, in
            the current transaction.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_function_time</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Total wall clock time spent in the function, in
            microseconds, in the current transaction. Includes the
            time spent in functions called by this one.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_xact_function_self_time</code>(<tt class="TYPE">oid</tt>)</tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Time spent in only this function, in the current
            transaction. Time spent in called functions is
            excluded.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_idset()</code></tt></td>

            <td><tt class="TYPE">setof integer</tt></td>

            <td>Set of currently active server process numbers
            (from 1 to the number of active server processes). See
            usage example in the text.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_pid</code>(<tt class=
            "TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">integer</tt></td>

            <td>Process ID of the given server process</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_dbid</code>(<tt class=
            "TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">oid</tt></td>

            <td>Database ID of the given server process</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_userid</code>(<tt class=
            "TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">oid</tt></td>

            <td>User ID of the given server process</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_activity</code>(<tt class="TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">text</tt></td>

            <td>Active command of the given server process, but
            only if the current user is a superuser or the same
            user as that of the session being queried (and
            <tt class="VARNAME">track_activities</tt> is on)</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_waiting</code>(<tt class="TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">boolean</tt></td>

            <td>True if the given server process is waiting for a
            lock, but only if the current user is a superuser or
            the same user as that of the session being queried (and
            <tt class="VARNAME">track_activities</tt> is on)</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_activity_start</code>(<tt class="TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">timestamp with time zone</tt></td>

            <td>The time at which the given server process'
            currently executing query was started, but only if the
            current user is a superuser or the same user as that of
            the session being queried (and <tt class=
            "VARNAME">track_activities</tt> is on)</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_xact_start</code>(<tt class="TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">timestamp with time zone</tt></td>

            <td>The time at which the given server process'
            currently executing transaction was started, but only
            if the current user is a superuser or the same user as
            that of the session being queried (and <tt class=
            "VARNAME">track_activities</tt> is on)</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_start</code>(<tt class=
            "TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">timestamp with time zone</tt></td>

            <td>The time at which the given server process was
            started, or null if the current user is not a superuser
            nor the same user as that of the session being
            queried</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_client_addr</code>(<tt class="TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">inet</tt></td>

            <td>The IP address of the client connected to the given
            server process; null if the connection is over a Unix
            domain socket, also null if the current user is not a
            superuser nor the same user as that of the session
            being queried</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_backend_client_port</code>(<tt class="TYPE">integer</tt>)</tt></td>

            <td><tt class="TYPE">integer</tt></td>

            <td>The TCP port number of the client connected to the
            given server process; -1 if the connection is over a
            Unix domain socket, null if the current user is not a
            superuser nor the same user as that of the session
            being queried</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_bgwriter_timed_checkpoints()</code></tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of times the background writer has started
            timed checkpoints (because the <tt class=
            "VARNAME">checkpoint_timeout</tt> time has
            expired)</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_bgwriter_requested_checkpoints()</code></tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of times the background writer has started
            checkpoints based on requests from backends because the
            <tt class="VARNAME">checkpoint_segments</tt> has been
            exceeded or because the <tt class=
            "COMMAND">CHECKPOINT</tt> command has been issued</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_bgwriter_buf_written_checkpoints()</code></tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of buffers written by the background writer
            during checkpoints</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_bgwriter_buf_written_clean()</code></tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of buffers written by the background writer
            for routine cleaning of dirty pages</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_bgwriter_maxwritten_clean()</code></tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of times the background writer has stopped
            its cleaning scan because it has written more buffers
            than specified in the <tt class=
            "VARNAME">bgwriter_lru_maxpages</tt> parameter</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_bgwriter_stat_reset_time()</code></tt></td>

            <td><tt class="TYPE">timestamptz</tt></td>

            <td>Time of the last statistics reset for the
            background writer, updated when executing <code class=
            "FUNCTION">pg_stat_reset_shared('bgwriter')</code> on
            the database cluster.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_buf_written_backend()</code></tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Number of buffers written by backends because they
            needed to allocate a new buffer</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_buf_alloc()</code></tt></td>

            <td><tt class="TYPE">bigint</tt></td>

            <td>Total number of buffer allocations</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_get_wal_senders()</code></tt></td>

            <td><tt class="TYPE">setof record</tt></td>

            <td>One record for each active wal sender. The fields
            returned are a subset of those in the <tt class=
            "STRUCTNAME">pg_stat_replication</tt> view.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_clear_snapshot()</code></tt></td>

            <td><tt class="TYPE">void</tt></td>

            <td>Discard the current statistics snapshot</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_reset()</code></tt></td>

            <td><tt class="TYPE">void</tt></td>

            <td>Reset all statistics counters for the current
            database to zero (requires superuser privileges)</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_reset_shared</code>(text)</tt></td>

            <td><tt class="TYPE">void</tt></td>

            <td>Reset some of the shared statistics counters for
            the database cluster to zero (requires superuser
            privileges). Calling <tt class=
            "LITERAL">pg_stat_reset_shared('bgwriter')</tt> will
            zero all the values shown by <tt class=
            "STRUCTNAME">pg_stat_bgwriter</tt>.</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_reset_single_table_counters</code>(oid)</tt></td>

            <td><tt class="TYPE">void</tt></td>

            <td>Reset statistics for a single table or index in the
            current database to zero (requires superuser
            privileges)</td>
          </tr>

          <tr>
            <td><tt class="LITERAL"><code class=
            "FUNCTION">pg_stat_reset_single_function_counters</code>(oid)</tt></td>

            <td><tt class="TYPE">void</tt></td>

            <td>Reset statistics for a single function in the
            current database to zero (requires superuser
            privileges)</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="NOTE">
      <blockquote class="NOTE">
        <p><b>Note:</b> <code class=
        "FUNCTION">pg_stat_get_blocks_fetched</code> minus
        <code class="FUNCTION">pg_stat_get_blocks_hit</code> gives
        the number of kernel <code class="FUNCTION">read()</code>
        calls issued for the table, index, or database; the number
        of actual physical reads is usually lower due to
        kernel-level buffering. The <tt class=
        "LITERAL">*_blks_read</tt> statistics columns use this
        subtraction, i.e., fetched minus hit.</p>
      </blockquote>
    </div>

    <p>All functions to access information about backends are
    indexed by backend id number, except <code class=
    "FUNCTION">pg_stat_get_activity</code> which is indexed by PID.
    The function <code class=
    "FUNCTION">pg_stat_get_backend_idset</code> provides a
    convenient way to generate one row for each active server
    process. For example, to show the <acronym class=
    "ACRONYM">PID</acronym>s and current queries of all server
    processes:</p>
    <pre class="PROGRAMLISTING">
SELECT pg_stat_get_backend_pid(s.backendid) AS procpid,
       pg_stat_get_backend_activity(s.backendid) AS current_query
    FROM (SELECT pg_stat_get_backend_idset() AS backendid) AS s;
</pre>
  </div>
</div>

<div class="NAVFOOTER">
  <hr class="c1" width="100%" />

  <table summary="Footer navigation table" width="100%" border="0"
  cellpadding="0" cellspacing="0">
    <tr>
      <td width="33%" align="left" valign="top"><a href=
      "monitoring-ps.html" accesskey="P">Prev</a></td>

      <td width="34%" align="center" valign="top"><a href=
      "index.html" accesskey="H">Home</a></td>

      <td width="33%" align="right" valign="top"><a href=
      "monitoring-locks.html" accesskey="N">Next</a></td>
    </tr>

    <tr>
      <td width="33%" align="left" valign="top">Standard Unix
      Tools</td>

      <td width="34%" align="center" valign="top"><a href=
      "monitoring.html" accesskey="U">Up</a></td>

      <td width="33%" align="right" valign="top">Viewing Locks</td>
    </tr>
  </table>
</div>

          </div>
          
        </div> <!-- pgContentWrap -->
      </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2026 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/main.js?77152761"></script>

  </body>
</html>
