<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 18: 28.1. Reliability</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/18/wal-reliability.html" />
  <meta property="og:type" content="article" />

  <meta property="article:published_time" content="2026-02-12T14:31:41" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="28.1. Reliability" />
  <meta property="og:description" content="28.1.&amp;nbsp;Reliability # Reliability is an important property of any serious database system, and PostgreSQL does everything possible to guarantee reliable …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />
  <link href="/media/css/fontawesome.css?77152761" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?77152761">

  <script src="/media/js/theme.js?77152761"></script>

  


  <link rel="canonical" href="https://www.postgresql.org/docs/current/wal-reliability.html" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <input type="checkbox" id="navbar-toggler" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <label for="navbar-toggler" id="navbar-toggler-label" class="navbar-toggler" tabindex="0"><span class="navbar-toggler-icon"></span></label>
            <div class="navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 16, 2026: <a href="/about/news/out-of-cycle-release-scheduled-for-february-26-2026-3241/">
  Out-of-cycle release scheduled for February 26, 2026
</a>
</div>
      </div>
    </div>
    
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/18/index.html">PostgreSQL 18</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/wal-reliability.html" title="PostgreSQL 18 - 28.1. Reliability" class="docs-version-selected">Current</a>
                          (<a href="/docs/18/wal-reliability.html" title="PostgreSQL 18 - 28.1. Reliability" class="docs-version-selected">18</a>)
                        
                      
                         / 
                        
                          <a href="/docs/17/wal-reliability.html" title="PostgreSQL 17 - 28.1. Reliability" >17</a>
                        
                      
                         / 
                        
                          <a href="/docs/16/wal-reliability.html" title="PostgreSQL 16 - 28.1. Reliability" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/wal-reliability.html" title="PostgreSQL 15 - 28.1. Reliability" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/wal-reliability.html" title="PostgreSQL 14 - 28.1. Reliability" >14</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/wal-reliability.html" title="PostgreSQL devel - 28.1. Reliability"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/13/wal-reliability.html" title="PostgreSQL 13 - 28.1. Reliability"  rel="nofollow">13</a>
                    
                       / 
                      <a href="/docs/12/wal-reliability.html" title="PostgreSQL 12 - 28.1. Reliability"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/wal-reliability.html" title="PostgreSQL 11 - 28.1. Reliability"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/wal-reliability.html" title="PostgreSQL 10 - 28.1. Reliability"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/wal-reliability.html" title="PostgreSQL 9.6 - 28.1. Reliability"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/wal-reliability.html" title="PostgreSQL 9.5 - 28.1. Reliability"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/wal-reliability.html" title="PostgreSQL 9.4 - 28.1. Reliability"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/wal-reliability.html" title="PostgreSQL 9.3 - 28.1. Reliability"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/wal-reliability.html" title="PostgreSQL 9.2 - 28.1. Reliability"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/wal-reliability.html" title="PostgreSQL 9.1 - 28.1. Reliability"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/wal-reliability.html" title="PostgreSQL 9.0 - 28.1. Reliability"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/wal-reliability.html" title="PostgreSQL 8.4 - 28.1. Reliability"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/wal-reliability.html" title="PostgreSQL 8.3 - 28.1. Reliability"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/wal-reliability.html" title="PostgreSQL 8.2 - 28.1. Reliability"  rel="nofollow">8.2</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/18/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
            </div>
          </div>

          <div id="docContent">
            <div class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">28.1.&nbsp;Reliability</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="wal.html" title="Chapter&nbsp;28.&nbsp;Reliability and the Write-Ahead Log">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="wal.html" title="Chapter&nbsp;28.&nbsp;Reliability and the Write-Ahead Log">Up</a></td>
      <th width="60%" align="center">Chapter&nbsp;28.&nbsp;Reliability and the Write-Ahead Log</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 18.2 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="checksums.html" title="28.2.&nbsp;Data Checksums">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="WAL-RELIABILITY">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">28.1.&nbsp;Reliability <a href="#WAL-RELIABILITY" class="id_link">#</a></h2>
      </div>
    </div>
  </div>
  <p>Reliability is an important property of any serious database system, and <span class="productname">PostgreSQL</span> does everything possible to guarantee reliable operation. One aspect of reliable operation is that all data recorded by a committed transaction should be stored in a nonvolatile area that is safe from power loss, operating system failure, and hardware failure (except failure of the nonvolatile area itself, of course). Successfully writing the data to the computer's permanent storage (disk drive or equivalent) ordinarily meets this requirement. In fact, even if a computer is fatally damaged, if the disk drives survive they can be moved to another computer with similar hardware and all committed transactions will remain intact.</p>
  <p>While forcing data to the disk platters periodically might seem like a simple operation, it is not. Because disk drives are dramatically slower than main memory and CPUs, several layers of caching exist between the computer's main memory and the disk platters. First, there is the operating system's buffer cache, which caches frequently requested disk blocks and combines disk writes. Fortunately, all operating systems give applications a way to force writes from the buffer cache to disk, and <span class="productname">PostgreSQL</span> uses those features. (See the <a class="xref" href="runtime-config-wal.html#GUC-WAL-SYNC-METHOD">wal_sync_method</a> parameter to adjust how this is done.)</p>
  <p>Next, there might be a cache in the disk drive controller; this is particularly common on <acronym class="acronym">RAID</acronym> controller cards. Some of these caches are <em class="firstterm">write-through</em>, meaning writes are sent to the drive as soon as they arrive. Others are <em class="firstterm">write-back</em>, meaning data is sent to the drive at some later time. Such caches can be a reliability hazard because the memory in the disk controller cache is volatile, and will lose its contents in a power failure. Better controller cards have <em class="firstterm">battery-backup units</em> (<acronym class="acronym">BBU</acronym>s), meaning the card has a battery that maintains power to the cache in case of system power loss. After power is restored the data will be written to the disk drives.</p>
  <p>And finally, most disk drives have caches. Some are write-through while some are write-back, and the same concerns about data loss exist for write-back drive caches as for disk controller caches. Consumer-grade IDE and SATA drives are particularly likely to have write-back caches that will not survive a power failure. Many solid-state drives (SSD) also have volatile write-back caches.</p>
  <p>These caches can typically be disabled; however, the method for doing this varies by operating system and drive type:</p>
  <div class="itemizedlist">
    <ul class="itemizedlist" style="list-style-type: disc;">
      <li class="listitem">
        <p>On <span class="productname">Linux</span>, IDE and SATA drives can be queried using <code class="command">hdparm -I</code>; write caching is enabled if there is a <code class="literal">*</code> next to <code class="literal">Write cache</code>. <code class="command">hdparm -W 0</code> can be used to turn off write caching. SCSI drives can be queried using <a class="ulink" href="http://sg.danny.cz/sg/sdparm.html" target="_top"><span class="application">sdparm</span></a>. Use <code class="command">sdparm --get=WCE</code> to check whether the write cache is enabled and <code class="command">sdparm --clear=WCE</code> to disable it.</p>
      </li>
      <li class="listitem">
        <p>On <span class="productname">FreeBSD</span>, IDE drives can be queried using <code class="command">camcontrol identify</code> and write caching turned off using <code class="literal">hw.ata.wc=0</code> in <code class="filename">/boot/loader.conf</code>; SCSI drives can be queried using <code class="command">camcontrol identify</code>, and the write cache both queried and changed using <code class="command">sdparm</code> when available.</p>
      </li>
      <li class="listitem">
        <p>On <span class="productname">Solaris</span>, the disk write cache is controlled by <code class="command">format -e</code>. (The Solaris <acronym class="acronym">ZFS</acronym> file system is safe with disk write-cache enabled because it issues its own disk cache flush commands.)</p>
      </li>
      <li class="listitem">
        <p>On <span class="productname">Windows</span>, if <code class="varname">wal_sync_method</code> is <code class="literal">open_datasync</code> (the default), write caching can be disabled by unchecking <code class="literal">My Computer\Open\<em class="replaceable"><code>disk drive</code></em>\Properties\Hardware\Properties\Policies\Enable write caching on the disk</code>. Alternatively, set <code class="varname">wal_sync_method</code> to <code class="literal">fdatasync</code> (NTFS only) or <code class="literal">fsync</code>, which prevent write caching.</p>
      </li>
      <li class="listitem">
        <p>On <span class="productname">macOS</span>, write caching can be prevented by setting <code class="varname">wal_sync_method</code> to <code class="literal">fsync_writethrough</code>.</p>
      </li>
    </ul>
  </div>
  <p>Recent SATA drives (those following <acronym class="acronym">ATAPI-6</acronym> or later) offer a drive cache flush command (<code class="command">FLUSH CACHE EXT</code>), while SCSI drives have long supported a similar command <code class="command">SYNCHRONIZE CACHE</code>. These commands are not directly accessible to <span class="productname">PostgreSQL</span>, but some file systems (e.g., <acronym class="acronym">ZFS</acronym>, <acronym class="acronym">ext4</acronym>) can use them to flush data to the platters on write-back-enabled drives. Unfortunately, such file systems behave suboptimally when combined with battery-backup unit (<acronym class="acronym">BBU</acronym>) disk controllers. In such setups, the synchronize command forces all data from the controller cache to the disks, eliminating much of the benefit of the BBU. You can run the <a class="xref" href="pgtestfsync.html" title="pg_test_fsync"><span class="refentrytitle"><span class="application">pg_test_fsync</span></span></a> program to see if you are affected. If you are affected, the performance benefits of the BBU can be regained by turning off write barriers in the file system or reconfiguring the disk controller, if that is an option. If write barriers are turned off, make sure the battery remains functional; a faulty battery can potentially lead to data loss. Hopefully file system and disk controller designers will eventually address this suboptimal behavior.</p>
  <p>When the operating system sends a write request to the storage hardware, there is little it can do to make sure the data has arrived at a truly non-volatile storage area. Rather, it is the administrator's responsibility to make certain that all storage components ensure integrity for both data and file-system metadata. Avoid disk controllers that have non-battery-backed write caches. At the drive level, disable write-back caching if the drive cannot guarantee the data will be written before shutdown. If you use SSDs, be aware that many of these do not honor cache flush commands by default. You can test for reliable I/O subsystem behavior using <a class="ulink" href="https://brad.livejournal.com/2116715.html" target="_top"><code class="filename">diskchecker.pl</code></a>.</p>
  <p>Another risk of data loss is posed by the disk platter write operations themselves. Disk platters are divided into sectors, commonly 512 bytes each. Every physical read or write operation processes a whole sector. When a write request arrives at the drive, it might be for some multiple of 512 bytes (<span class="productname">PostgreSQL</span> typically writes 8192 bytes, or 16 sectors, at a time), and the process of writing could fail due to power loss at any time, meaning some of the 512-byte sectors were written while others were not. To guard against such failures, <span class="productname">PostgreSQL</span> periodically writes full page images to permanent WAL storage <span class="emphasis"><em>before</em></span> modifying the actual page on disk. By doing this, during crash recovery <span class="productname">PostgreSQL</span> can restore partially-written pages from WAL. If you have file-system software that prevents partial page writes (e.g., ZFS), you can turn off this page imaging by turning off the <a class="xref" href="runtime-config-wal.html#GUC-FULL-PAGE-WRITES">full_page_writes</a> parameter. Battery-Backed Unit (BBU) disk controllers do not prevent partial page writes unless they guarantee that data is written to the BBU as full (8kB) pages.</p>
  <p><span class="productname">PostgreSQL</span> also protects against some kinds of data corruption on storage devices that may occur because of hardware errors or media failure over time, such as reading/writing garbage data.</p>
  <div class="itemizedlist">
    <ul class="itemizedlist" style="list-style-type: disc;">
      <li class="listitem">
        <p>Each individual record in a WAL file is protected by a CRC-32C (32-bit) check that allows us to tell if record contents are correct. The CRC value is set when we write each WAL record and checked during crash recovery, archive recovery and replication.</p>
      </li>
      <li class="listitem">
        <p>Data pages are checksummed by default, and full page images recorded in WAL records are always checksum protected.</p>
      </li>
      <li class="listitem">
        <p>Internal data structures such as <code class="filename">pg_xact</code>, <code class="filename">pg_subtrans</code>, <code class="filename">pg_multixact</code>, <code class="filename">pg_serial</code>, <code class="filename">pg_notify</code>, <code class="filename">pg_stat</code>, <code class="filename">pg_snapshots</code> are not directly checksummed, nor are pages protected by full page writes. However, where such data structures are persistent, WAL records are written that allow recent changes to be accurately rebuilt at crash recovery and those WAL records are protected as discussed above.</p>
      </li>
      <li class="listitem">
        <p>Individual state files in <code class="filename">pg_twophase</code> are protected by CRC-32C.</p>
      </li>
      <li class="listitem">
        <p>Temporary data files used in larger SQL queries for sorts, materializations and intermediate results are not currently checksummed, nor will WAL records be written for changes to those files.</p>
      </li>
    </ul>
  </div>
  <p><span class="productname">PostgreSQL</span> does not protect against correctable memory errors and it is assumed you will operate using RAM that uses industry standard Error Correcting Codes (ECC) or better protection.</p>
</div>
<div class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="wal.html" title="Chapter&nbsp;28.&nbsp;Reliability and the Write-Ahead Log">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="wal.html" title="Chapter&nbsp;28.&nbsp;Reliability and the Write-Ahead Log">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="checksums.html" title="28.2.&nbsp;Data Checksums">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">Chapter&nbsp;28.&nbsp;Reliability and the Write-Ahead Log&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 18.2 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;28.2.&nbsp;Data Checksums</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/18/wal-reliability.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> <!-- pgContentWrap -->
      </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2026 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/main.js?77152761"></script>

  </body>
</html>
