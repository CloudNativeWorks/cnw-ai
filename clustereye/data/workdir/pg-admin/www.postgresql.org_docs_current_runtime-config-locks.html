<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 18: 19.12. Lock Management</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/18/runtime-config-locks.html" />
  <meta property="og:type" content="article" />

  <meta property="article:published_time" content="2026-02-12T14:31:41" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="19.12. Lock Management" />
  <meta property="og:description" content="19.12.&amp;nbsp;Lock Management # deadlock_timeout (integer) # This is the amount of time to wait on a lock before checking to …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />
  <link href="/media/css/fontawesome.css?77152761" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?77152761">

  <script src="/media/js/theme.js?77152761"></script>

  


  <link rel="canonical" href="https://www.postgresql.org/docs/current/runtime-config-locks.html" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <input type="checkbox" id="navbar-toggler" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <label for="navbar-toggler" id="navbar-toggler-label" class="navbar-toggler" tabindex="0"><span class="navbar-toggler-icon"></span></label>
            <div class="navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 16, 2026: <a href="/about/news/out-of-cycle-release-scheduled-for-february-26-2026-3241/">
  Out-of-cycle release scheduled for February 26, 2026
</a>
</div>
      </div>
    </div>
    
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/18/index.html">PostgreSQL 18</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/runtime-config-locks.html" title="PostgreSQL 18 - 19.12. Lock Management" class="docs-version-selected">Current</a>
                          (<a href="/docs/18/runtime-config-locks.html" title="PostgreSQL 18 - 19.12. Lock Management" class="docs-version-selected">18</a>)
                        
                      
                         / 
                        
                          <a href="/docs/17/runtime-config-locks.html" title="PostgreSQL 17 - 19.12. Lock Management" >17</a>
                        
                      
                         / 
                        
                          <a href="/docs/16/runtime-config-locks.html" title="PostgreSQL 16 - 19.12. Lock Management" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/runtime-config-locks.html" title="PostgreSQL 15 - 19.12. Lock Management" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/runtime-config-locks.html" title="PostgreSQL 14 - 19.12. Lock Management" >14</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/runtime-config-locks.html" title="PostgreSQL devel - 19.12. Lock Management"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/13/runtime-config-locks.html" title="PostgreSQL 13 - 19.12. Lock Management"  rel="nofollow">13</a>
                    
                       / 
                      <a href="/docs/12/runtime-config-locks.html" title="PostgreSQL 12 - 19.12. Lock Management"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/runtime-config-locks.html" title="PostgreSQL 11 - 19.12. Lock Management"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/runtime-config-locks.html" title="PostgreSQL 10 - 19.12. Lock Management"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/runtime-config-locks.html" title="PostgreSQL 9.6 - 19.12. Lock Management"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/runtime-config-locks.html" title="PostgreSQL 9.5 - 19.12. Lock Management"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/runtime-config-locks.html" title="PostgreSQL 9.4 - 19.12. Lock Management"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/runtime-config-locks.html" title="PostgreSQL 9.3 - 19.12. Lock Management"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/runtime-config-locks.html" title="PostgreSQL 9.2 - 19.12. Lock Management"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/runtime-config-locks.html" title="PostgreSQL 9.1 - 19.12. Lock Management"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/runtime-config-locks.html" title="PostgreSQL 9.0 - 19.12. Lock Management"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/runtime-config-locks.html" title="PostgreSQL 8.4 - 19.12. Lock Management"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/runtime-config-locks.html" title="PostgreSQL 8.3 - 19.12. Lock Management"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/runtime-config-locks.html" title="PostgreSQL 8.2 - 19.12. Lock Management"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/runtime-config-locks.html" title="PostgreSQL 8.1 - 19.12. Lock Management"  rel="nofollow">8.1</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/18/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
            </div>
          </div>

          <div id="docContent">
            <div class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">19.12.&nbsp;Lock Management</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="runtime-config-client.html" title="19.11.&nbsp;Client Connection Defaults">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="runtime-config.html" title="Chapter&nbsp;19.&nbsp;Server Configuration">Up</a></td>
      <th width="60%" align="center">Chapter&nbsp;19.&nbsp;Server Configuration</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 18.2 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="runtime-config-compatible.html" title="19.13.&nbsp;Version and Platform Compatibility">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="RUNTIME-CONFIG-LOCKS">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">19.12.&nbsp;Lock Management <a href="#RUNTIME-CONFIG-LOCKS" class="id_link">#</a></h2>
      </div>
    </div>
  </div>
  <div class="variablelist">
    <dl class="variablelist">
      <dt id="GUC-DEADLOCK-TIMEOUT"><span class="term"><code class="varname">deadlock_timeout</code> (<code class="type">integer</code>) <a id="id-1.6.6.15.2.1.1.3" class="indexterm" name="id-1.6.6.15.2.1.1.3"></a> <a id="id-1.6.6.15.2.1.1.4" class="indexterm" name="id-1.6.6.15.2.1.1.4"></a> <a id="id-1.6.6.15.2.1.1.5" class="indexterm" name="id-1.6.6.15.2.1.1.5"></a></span> <a href="#GUC-DEADLOCK-TIMEOUT" class="id_link">#</a></dt>
      <dd>
        <p>This is the amount of time to wait on a lock before checking to see if there is a deadlock condition. The check for deadlock is relatively expensive, so the server doesn't run it every time it waits for a lock. We optimistically assume that deadlocks are not common in production applications and just wait on the lock for a while before checking for a deadlock. Increasing this value reduces the amount of time wasted in needless deadlock checks, but slows down reporting of real deadlock errors. If this value is specified without units, it is taken as milliseconds. The default is one second (<code class="literal">1s</code>), which is probably about the smallest value you would want in practice. On a heavily loaded server you might want to raise it. Ideally the setting should exceed your typical transaction time, so as to improve the odds that a lock will be released before the waiter decides to check for deadlock. Only superusers and users with the appropriate <code class="literal">SET</code> privilege can change this setting.</p>
        <p>When <a class="xref" href="runtime-config-logging.html#GUC-LOG-LOCK-WAITS">log_lock_waits</a> is set, this parameter also determines the amount of time to wait before a log message is issued about the lock wait. If you are trying to investigate locking delays you might want to set a shorter than normal <code class="varname">deadlock_timeout</code>.</p>
      </dd>
      <dt id="GUC-MAX-LOCKS-PER-TRANSACTION"><span class="term"><code class="varname">max_locks_per_transaction</code> (<code class="type">integer</code>) <a id="id-1.6.6.15.2.2.1.3" class="indexterm" name="id-1.6.6.15.2.2.1.3"></a></span> <a href="#GUC-MAX-LOCKS-PER-TRANSACTION" class="id_link">#</a></dt>
      <dd>
        <p>The shared lock table has space for <code class="varname">max_locks_per_transaction</code> objects (e.g., tables) per server process or prepared transaction; hence, no more than this many distinct objects can be locked at any one time. This parameter limits the average number of object locks used by each transaction; individual transactions can lock more objects as long as the locks of all transactions fit in the lock table. This is <span class="emphasis"><em>not</em></span> the number of rows that can be locked; that value is unlimited. The default, 64, has historically proven sufficient, but you might need to raise this value if you have queries that touch many different tables in a single transaction, e.g., query of a parent table with many children. This parameter can only be set at server start.</p>
        <p>When running a standby server, you must set this parameter to have the same or higher value as on the primary server. Otherwise, queries will not be allowed in the standby server.</p>
      </dd>
      <dt id="GUC-MAX-PRED-LOCKS-PER-TRANSACTION"><span class="term"><code class="varname">max_pred_locks_per_transaction</code> (<code class="type">integer</code>) <a id="id-1.6.6.15.2.3.1.3" class="indexterm" name="id-1.6.6.15.2.3.1.3"></a></span> <a href="#GUC-MAX-PRED-LOCKS-PER-TRANSACTION" class="id_link">#</a></dt>
      <dd>
        <p>The shared predicate lock table has space for <code class="varname">max_pred_locks_per_transaction</code> objects (e.g., tables) per server process or prepared transaction; hence, no more than this many distinct objects can be locked at any one time. This parameter limits the average number of object locks used by each transaction; individual transactions can lock more objects as long as the locks of all transactions fit in the lock table. This is <span class="emphasis"><em>not</em></span> the number of rows that can be locked; that value is unlimited. The default, 64, has historically proven sufficient, but you might need to raise this value if you have clients that touch many different tables in a single serializable transaction. This parameter can only be set at server start.</p>
      </dd>
      <dt id="GUC-MAX-PRED-LOCKS-PER-RELATION"><span class="term"><code class="varname">max_pred_locks_per_relation</code> (<code class="type">integer</code>) <a id="id-1.6.6.15.2.4.1.3" class="indexterm" name="id-1.6.6.15.2.4.1.3"></a></span> <a href="#GUC-MAX-PRED-LOCKS-PER-RELATION" class="id_link">#</a></dt>
      <dd>
        <p>This controls how many pages or tuples of a single relation can be predicate-locked before the lock is promoted to covering the whole relation. Values greater than or equal to zero mean an absolute limit, while negative values mean <a class="xref" href="runtime-config-locks.html#GUC-MAX-PRED-LOCKS-PER-TRANSACTION">max_pred_locks_per_transaction</a> divided by the absolute value of this setting. The default is -2, which keeps the behavior from previous versions of <span class="productname">PostgreSQL</span>. This parameter can only be set in the <code class="filename">postgresql.conf</code> file or on the server command line.</p>
      </dd>
      <dt id="GUC-MAX-PRED-LOCKS-PER-PAGE"><span class="term"><code class="varname">max_pred_locks_per_page</code> (<code class="type">integer</code>) <a id="id-1.6.6.15.2.5.1.3" class="indexterm" name="id-1.6.6.15.2.5.1.3"></a></span> <a href="#GUC-MAX-PRED-LOCKS-PER-PAGE" class="id_link">#</a></dt>
      <dd>
        <p>This controls how many rows on a single page can be predicate-locked before the lock is promoted to covering the whole page. The default is 2. This parameter can only be set in the <code class="filename">postgresql.conf</code> file or on the server command line.</p>
      </dd>
    </dl>
  </div>
</div>
<div class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="runtime-config-client.html" title="19.11.&nbsp;Client Connection Defaults">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="runtime-config.html" title="Chapter&nbsp;19.&nbsp;Server Configuration">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="runtime-config-compatible.html" title="19.13.&nbsp;Version and Platform Compatibility">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">19.11.&nbsp;Client Connection Defaults&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 18.2 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;19.13.&nbsp;Version and Platform Compatibility</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/18/runtime-config-locks.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> <!-- pgContentWrap -->
      </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2026 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/main.js?77152761"></script>

  </body>
</html>
