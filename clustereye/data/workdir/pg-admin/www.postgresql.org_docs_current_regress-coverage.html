<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 18: 31.5. Test Coverage Examination</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/18/regress-coverage.html" />
  <meta property="og:type" content="article" />

  <meta property="article:published_time" content="2026-02-12T14:31:41" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="31.5. Test Coverage Examination" />
  <meta property="og:description" content="31.5.&amp;nbsp;Test Coverage Examination # 31.5.1. Coverage with Autoconf and Make 31.5.2. Coverage with Meson The PostgreSQL source code can be …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />
  <link href="/media/css/fontawesome.css?77152761" rel="stylesheet">
  <link rel="stylesheet" href="/media/css/bootstrap-4.4.1.min.css">
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" type="text/css" href="/dyncss/base.css?77152761">

  <script src="/media/js/theme.js?77152761"></script>

  


  <link rel="canonical" href="https://www.postgresql.org/docs/current/regress-coverage.html" />


  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="/">
              <img class="logo" src="/media/img/about/press/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <input type="checkbox" id="navbar-toggler" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <label for="navbar-toggler" id="navbar-toggler-label" class="navbar-toggler" tabindex="0"><span class="navbar-toggler-icon"></span></label>
            <div class="navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="/account/" title="Your account">Your account</a></li>
              </ul>
              <form role="search" method="get" action="/search/">
                <div class="input-group">
                  <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s"  class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
              <form id="form-theme" class="form-inline d-none">
                <button id="btn-theme" class="btn btn-default ml-1" type="button"></button>
              </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 16, 2026: <a href="/about/news/out-of-cycle-release-scheduled-for-february-26-2026-3241/">
  Out-of-cycle release scheduled for February 26, 2026
</a>
</div>
      </div>
    </div>
    
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/18/index.html">PostgreSQL 18</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/regress-coverage.html" title="PostgreSQL 18 - 31.5. Test Coverage Examination" class="docs-version-selected">Current</a>
                          (<a href="/docs/18/regress-coverage.html" title="PostgreSQL 18 - 31.5. Test Coverage Examination" class="docs-version-selected">18</a>)
                        
                      
                         / 
                        
                          <a href="/docs/17/regress-coverage.html" title="PostgreSQL 17 - 31.5. Test Coverage Examination" >17</a>
                        
                      
                         / 
                        
                          <a href="/docs/16/regress-coverage.html" title="PostgreSQL 16 - 31.5. Test Coverage Examination" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/regress-coverage.html" title="PostgreSQL 15 - 31.5. Test Coverage Examination" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/regress-coverage.html" title="PostgreSQL 14 - 31.5. Test Coverage Examination" >14</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/regress-coverage.html" title="PostgreSQL devel - 31.5. Test Coverage Examination"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/13/regress-coverage.html" title="PostgreSQL 13 - 31.5. Test Coverage Examination"  rel="nofollow">13</a>
                    
                       / 
                      <a href="/docs/12/regress-coverage.html" title="PostgreSQL 12 - 31.5. Test Coverage Examination"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/regress-coverage.html" title="PostgreSQL 11 - 31.5. Test Coverage Examination"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/regress-coverage.html" title="PostgreSQL 10 - 31.5. Test Coverage Examination"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/regress-coverage.html" title="PostgreSQL 9.6 - 31.5. Test Coverage Examination"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/regress-coverage.html" title="PostgreSQL 9.5 - 31.5. Test Coverage Examination"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/regress-coverage.html" title="PostgreSQL 9.4 - 31.5. Test Coverage Examination"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/regress-coverage.html" title="PostgreSQL 9.3 - 31.5. Test Coverage Examination"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/regress-coverage.html" title="PostgreSQL 9.2 - 31.5. Test Coverage Examination"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/regress-coverage.html" title="PostgreSQL 9.1 - 31.5. Test Coverage Examination"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/regress-coverage.html" title="PostgreSQL 9.0 - 31.5. Test Coverage Examination"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/regress-coverage.html" title="PostgreSQL 8.4 - 31.5. Test Coverage Examination"  rel="nofollow">8.4</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/18/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
            </div>
          </div>

          <div id="docContent">
            <div class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">31.5.&nbsp;Test Coverage Examination</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="regress-tap.html" title="31.4.&nbsp;TAP Tests">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="regress.html" title="Chapter&nbsp;31.&nbsp;Regression Tests">Up</a></td>
      <th width="60%" align="center">Chapter&nbsp;31.&nbsp;Regression Tests</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 18.2 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="client-interfaces.html" title="Part&nbsp;IV.&nbsp;Client Interfaces">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="REGRESS-COVERAGE">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">31.5.&nbsp;Test Coverage Examination <a href="#REGRESS-COVERAGE" class="id_link">#</a></h2>
      </div>
    </div>
  </div>
  <div class="toc">
    <dl class="toc">
      <dt><span class="sect2"><a href="regress-coverage.html#REGRESS-COVERAGE-CONFIGURE">31.5.1. Coverage with Autoconf and Make</a></span></dt>
      <dt><span class="sect2"><a href="regress-coverage.html#REGRESS-COVERAGE-MESON">31.5.2. Coverage with Meson</a></span></dt>
    </dl>
  </div>
  <p>The PostgreSQL source code can be compiled with coverage testing instrumentation, so that it becomes possible to examine which parts of the code are covered by the regression tests or any other test suite that is run with the code. This is currently supported when compiling with GCC, and it requires the <code class="literal">gcov</code> and <code class="literal">lcov</code> packages.</p>
  <div class="sect2" id="REGRESS-COVERAGE-CONFIGURE">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">31.5.1.&nbsp;Coverage with Autoconf and Make <a href="#REGRESS-COVERAGE-CONFIGURE" class="id_link">#</a></h3>
        </div>
      </div>
    </div>
    <p>A typical workflow looks like this:</p>
    <pre class="screen">
./configure --enable-coverage ... OTHER OPTIONS ...
make
make check # or other test suite
make coverage-html
</pre>
    <p>Then point your HTML browser to <code class="filename">coverage/index.html</code>.</p>
    <p>If you don't have <code class="command">lcov</code> or prefer text output over an HTML report, you can run</p>
    <pre class="screen">
make coverage
</pre>
    <p>instead of <code class="literal">make coverage-html</code>, which will produce <code class="filename">.gcov</code> output files for each source file relevant to the test. (<code class="literal">make coverage</code> and <code class="literal">make coverage-html</code> will overwrite each other's files, so mixing them might be confusing.)</p>
    <p>You can run several different tests before making the coverage report; the execution counts will accumulate. If you want to reset the execution counts between test runs, run:</p>
    <pre class="screen">
make coverage-clean
</pre>
    <p>You can run the <code class="literal">make coverage-html</code> or <code class="literal">make coverage</code> command in a subdirectory if you want a coverage report for only a portion of the code tree.</p>
    <p>Use <code class="literal">make distclean</code> to clean up when done.</p>
  </div>
  <div class="sect2" id="REGRESS-COVERAGE-MESON">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">31.5.2.&nbsp;Coverage with Meson <a href="#REGRESS-COVERAGE-MESON" class="id_link">#</a></h3>
        </div>
      </div>
    </div>
    <p>A typical workflow looks like this:</p>
    <pre class="screen">
meson setup -Db_coverage=true ... OTHER OPTIONS ... builddir/
meson compile -C builddir/
meson test -C builddir/
cd builddir/
ninja coverage-html
</pre>
    <p>Then point your HTML browser to <code class="filename">./meson-logs/coveragereport/index.html</code>.</p>
    <p>You can run several different tests before making the coverage report; the execution counts will accumulate.</p>
  </div>
</div>
<div class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="regress-tap.html" title="31.4.&nbsp;TAP Tests">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="regress.html" title="Chapter&nbsp;31.&nbsp;Regression Tests">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="client-interfaces.html" title="Part&nbsp;IV.&nbsp;Client Interfaces">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">31.4.&nbsp;TAP Tests&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 18.2 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;Part&nbsp;IV.&nbsp;Client Interfaces</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/18/regress-coverage.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> <!-- pgContentWrap -->
      </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
      <!-- Copyright -->
      <div class="container">
        <a href="/about/policies/">Policies</a> |
        <a href="/about/policies/coc/">Code of Conduct</a> |
        <a href="/about/">About PostgreSQL</a> |
        <a href="/about/contact/">Contact</a><br/>
        <p>Copyright &copy; 1996-2026 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script src="/media/js/main.js?77152761"></script>

  </body>
</html>
