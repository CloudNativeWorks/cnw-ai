 <!DOCTYPE html>
		<html
			class="layout layout-holy-grail   show-table-of-contents conceptual show-breadcrumb default-focus"
			lang="en-us"
			dir="ltr"
			data-authenticated="false"
			data-auth-status-determined="false"
			data-target="docs"
			x-ms-format-detection="none"
		>
			
		<head>
			<title>Trace Flags (Transact-SQL) - SQL Server | Microsoft Learn</title>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1.0" />
			<meta name="color-scheme" content="light dark" />

			<meta name="description" content="Learn how to set specific server characteristics or to alter a particular behavior in SQL Server, using DBCC TRACEON." />
			<link rel="canonical" href="https://learn.microsoft.com/en-us/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql?view=sql-server-ver17" /> 

			<!-- Non-customizable open graph and sharing-related metadata -->
			<meta name="twitter:card" content="summary_large_image" />
			<meta name="twitter:site" content="@MicrosoftLearn" />
			<meta property="og:type" content="website" />
			<meta property="og:image:alt" content="Microsoft Learn" />
			<meta property="og:image" content="https://learn.microsoft.com/en-us/media/open-graph-image.png" />
			<!-- Page specific open graph and sharing-related metadata -->
			<meta property="og:title" content="Trace Flags (Transact-SQL) - SQL Server" />
			<meta property="og:url" content="https://learn.microsoft.com/en-us/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql?view=sql-server-ver17" />
			<meta property="og:description" content="Learn how to set specific server characteristics or to alter a particular behavior in SQL Server, using DBCC TRACEON." />
			<meta name="platform_id" content="deb235fb-a59b-9643-7ac8-8635d6471094" /> <meta name="scope" content="sql" />
			<meta name="locale" content="en-us" />
			 <meta name="adobe-target" content="true" /> 
			<meta name="uhfHeaderId" content="MSDocsHeader-DocsSQL" />

			<meta name="page_type" content="conceptual" />

			<!--page specific meta tags-->
			

			<!-- custom meta tags -->
			
		<meta name="toc_preview" content="true" />
	
		<meta name="feedback_system" content="Standard" />
	
		<meta name="feedback_product_url" content="https://feedback.azure.com/d365community/forum/04fe6ee0-3b25-ec11-b6e6-000d3a4f0da0" />
	
		<meta name="feedback_help_link_url" content="https://learn.microsoft.com/answers/tags/191/sql-server" />
	
		<meta name="feedback_help_link_type" content="get-help-at-qna" />
	
		<meta name="recommendations" content="true" />
	
		<meta name="manager" content="jroth" />
	
		<meta name="breadcrumb_path" content="../../breadcrumb/toc.json" />
	
		<meta name="monikerRange" content="=azuresqldb-current || =azuresqldb-mi-current || &gt;=sql-server-2016 || &gt;=sql-server-linux-2017 || =azuresqledge-current" />
	
		<meta name="ms.update-cycle" content="1825-days" />
	
		<meta name="author" content="rwestMSFT" />
	
		<meta name="ms.author" content="randolphwest" />
	
		<meta name="ms.reviewer" content="wiassaf" />
	
		<meta name="ms.date" content="2026-02-18T00:00:00Z" />
	
		<meta name="ms.service" content="sql" />
	
		<meta name="ms.subservice" content="t-sql" />
	
		<meta name="ms.topic" content="reference" />
	
		<meta name="ms.custom" content="ignite-2025" />
	
		<meta name="document_id" content="d0e35dc1-14be-0678-aeae-88de1c7601ac" />
	
		<meta name="document_version_independent_id" content="b3700e3e-acbf-9248-c333-ac9013827d84" />
	
		<meta name="updated_at" content="2026-02-19T18:36:00Z" />
	
		<meta name="original_content_git_url" content="https://github.com/MicrosoftDocs/sql-docs-pr/blob/live/docs/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql.md" />
	
		<meta name="gitcommit" content="https://github.com/MicrosoftDocs/sql-docs-pr/blob/e3bdc943e5f7772118b8db643b39cf8832342ded/docs/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql.md" />
	
		<meta name="git_commit_id" content="e3bdc943e5f7772118b8db643b39cf8832342ded" />
	
		<meta name="monikers" content="azuresqldb-current" />
	
		<meta name="monikers" content="azuresqldb-mi-current" />
	
		<meta name="monikers" content="sql-server-linux-2017" />
	
		<meta name="monikers" content="sql-server-linux-ver15" />
	
		<meta name="monikers" content="sql-server-linux-ver16" />
	
		<meta name="monikers" content="sql-server-linux-ver17" />
	
		<meta name="monikers" content="sql-server-2016" />
	
		<meta name="monikers" content="sql-server-2017" />
	
		<meta name="monikers" content="sql-server-ver15" />
	
		<meta name="monikers" content="sql-server-ver16" />
	
		<meta name="monikers" content="sql-server-ver17" />
	
		<meta name="default_moniker" content="sql-server-ver17" />
	
		<meta name="site_name" content="Docs" />
	
		<meta name="depot_name" content="SQL.sql-content" />
	
		<meta name="schema" content="Conceptual" />
	
		<meta name="toc_rel" content="../../toc.json" />
	
		<meta name="pdf_url_template" content="https://learn.microsoft.com/pdfstore/en-us/SQL.sql-content/{branchName}{pdfName}" />
	
		<meta name="search.mshattr.devlang" content="tsql" />
	
		<meta name="word_count" content="15874" />
	
		<meta name="config_moniker_range" content="=azuresqldb-current || =azuresqldb-mi-current || =azure-sqldw-latest || &gt;=aps-pdw-2016 || &gt;=sql-server-2016 || &gt;=sql-server-linux-2017 || =fabric || =fabric-sqldb" />
	
		<meta name="asset_id" content="t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql" />
	
		<meta name="moniker_range_name" content="680725c2e8ae7b21d73b75dfec67f04e" />
	
		<meta name="item_type" content="Content" />
	
		<meta name="source_path" content="docs/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql.md" />
	
		<meta name="previous_tlsh_hash" content="BD49E9A3D81C4730FFC2AF9B7A5A8E5509F4C98C6AF07E4C043E6182B90F2D774FEDA6ABA35B53845337111202C3906991C5FBBAE0A813755B356D2DC20822D4AF8537FEA9" />
	
		<meta name="github_feedback_content_git_url" content="https://github.com/MicrosoftDocs/sql-docs/blob/live/docs/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql.md" />
	
		<meta name="markdown_url" content="https://learn.microsoft.com/en-us/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql?view=sql-server-ver17&amp;accept=text/markdown" />
	 
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/cbe4ca68-43ac-4375-aba5-5945a6394c20" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/ced846cc-6a3c-4c8f-9dfb-3de0e90e2742" data-source="generated" />
	

			<!-- assets and js globals -->
			
			<link rel="stylesheet" href="/static/assets/0.4.03336.7510-899cc417/styles/site-ltr.css" />
			
			<link rel="preconnect" href="//mscom.demdex.net" crossorigin />
						<link rel="dns-prefetch" href="//target.microsoft.com" />
						<link rel="dns-prefetch" href="//microsoftmscompoc.tt.omtrdc.net" />
						<link
							rel="preload"
							as="script"
							href="/static/third-party/adobe-target/at-js/2.9.0/at.js"
							integrity="sha384-l4AKhsU8cUWSht4SaJU5JWcHEWh1m4UTqL08s6b/hqBLAeIDxTNl+AMSxTLx6YMI"
							crossorigin="anonymous"
							id="adobe-target-script"
							type="application/javascript"
						/>
			<script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
			<script src="https://js.monitor.azure.com/scripts/c/ms.jsll-4.min.js"></script>
			<script src="/_themes/docs.theme/master/en-us/_themes/global/deprecation.js"></script>

			<!-- msdocs global object -->
			<script id="msdocs-script">
		var msDocs = {
  "environment": {
    "accessLevel": "online",
    "azurePortalHostname": "portal.azure.com",
    "reviewFeatures": false,
    "supportLevel": "production",
    "systemContent": true,
    "siteName": "learn",
    "legacyHosting": false
  },
  "data": {
    "contentLocale": "en-us",
    "contentDir": "ltr",
    "userLocale": "en-us",
    "userDir": "ltr",
    "pageTemplate": "Conceptual",
    "brand": "",
    "context": {},
    "standardFeedback": true,
    "showFeedbackReport": false,
    "feedbackHelpLinkType": "get-help-at-qna",
    "feedbackHelpLinkUrl": "https://learn.microsoft.com/answers/tags/191/sql-server",
    "feedbackSystem": "Standard",
    "feedbackGitHubRepo": "MicrosoftDocs/sql-docs",
    "feedbackProductUrl": "https://feedback.azure.com/d365community/forum/04fe6ee0-3b25-ec11-b6e6-000d3a4f0da0",
    "extendBreadcrumb": false,
    "isEditDisplayable": true,
    "isPrivateUnauthorized": false,
    "hideViewSource": false,
    "isPermissioned": false,
    "hasRecommendations": false,
    "contributors": [
      {
        "name": "rwestMSFT",
        "url": "https://github.com/rwestMSFT"
      },
      {
        "name": "thesqlsith",
        "url": "https://github.com/thesqlsith"
      },
      {
        "name": "rmca14",
        "url": "https://github.com/rmca14"
      },
      {
        "name": "PiJoCoder",
        "url": "https://github.com/PiJoCoder"
      },
      {
        "name": "PhilB-MSFT",
        "url": "https://github.com/PhilB-MSFT"
      },
      {
        "name": "dimitri-furman",
        "url": "https://github.com/dimitri-furman"
      },
      {
        "name": "MikeRayMSFT",
        "url": "https://github.com/MikeRayMSFT"
      },
      {
        "name": "prmerger-automator[bot]",
        "url": "https://github.com/prmerger-automator[bot]"
      },
      {
        "name": "JamesFerebee",
        "url": "https://github.com/JamesFerebee"
      },
      {
        "name": "WilliamDAssafMSFT",
        "url": "https://github.com/WilliamDAssafMSFT"
      },
      {
        "name": "HugoMSFT",
        "url": "https://github.com/HugoMSFT"
      },
      {
        "name": "nathlaroche",
        "url": "https://github.com/nathlaroche"
      },
      {
        "name": "markingmyname",
        "url": "https://github.com/markingmyname"
      },
      {
        "name": "MashaMSFT",
        "url": "https://github.com/MashaMSFT"
      },
      {
        "name": "rothja",
        "url": "https://github.com/rothja"
      },
      {
        "name": "asavioliMSFT",
        "url": "https://github.com/asavioliMSFT"
      },
      {
        "name": "Albertyang0",
        "url": "https://github.com/Albertyang0"
      },
      {
        "name": "v-alje",
        "url": "https://github.com/v-alje"
      },
      {
        "name": "pmasl",
        "url": "https://github.com/pmasl"
      },
      {
        "name": "rl-msft",
        "url": "https://github.com/rl-msft"
      },
      {
        "name": "sidrathod412",
        "url": "https://github.com/sidrathod412"
      },
      {
        "name": "learn-build-service-prod[bot]",
        "url": "https://github.com/learn-build-service-prod[bot]"
      },
      {
        "name": "glenncarr",
        "url": "https://github.com/glenncarr"
      },
      {
        "name": "cbenkler",
        "url": "https://github.com/cbenkler"
      },
      {
        "name": "sevend2",
        "url": "https://github.com/sevend2"
      },
      {
        "name": "alexbuckgit",
        "url": "https://github.com/alexbuckgit"
      },
      {
        "name": "lucastanheta",
        "url": "https://github.com/lucastanheta"
      },
      {
        "name": "IainEvans",
        "url": "https://github.com/IainEvans"
      },
      {
        "name": "cabrower",
        "url": "https://github.com/cabrower"
      },
      {
        "name": "briancarrig",
        "url": "https://github.com/briancarrig"
      },
      {
        "name": "padmajayaraman",
        "url": "https://github.com/padmajayaraman"
      },
      {
        "name": "josh-simar",
        "url": "https://github.com/josh-simar"
      },
      {
        "name": "MladjoA",
        "url": "https://github.com/MladjoA"
      },
      {
        "name": "ramakoni1",
        "url": "https://github.com/ramakoni1"
      },
      {
        "name": "jborsecnik",
        "url": "https://github.com/jborsecnik"
      },
      {
        "name": "Court72",
        "url": "https://github.com/Court72"
      },
      {
        "name": "amvin87-zz",
        "url": "https://github.com/amvin87-zz"
      },
      {
        "name": "nachoalonsoportillo",
        "url": "https://github.com/nachoalonsoportillo"
      },
      {
        "name": "PRMerger13",
        "url": "https://github.com/PRMerger13"
      },
      {
        "name": "SeanGallardy",
        "url": "https://github.com/SeanGallardy"
      },
      {
        "name": "bluefooted",
        "url": "https://github.com/bluefooted"
      },
      {
        "name": "PRMerger16",
        "url": "https://github.com/PRMerger16"
      },
      {
        "name": "v-surgos",
        "url": "https://github.com/v-surgos"
      },
      {
        "name": "PRMerger7",
        "url": "https://github.com/PRMerger7"
      },
      {
        "name": "DCtheGeek",
        "url": "https://github.com/DCtheGeek"
      },
      {
        "name": "PRMerger17",
        "url": "https://github.com/PRMerger17"
      },
      {
        "name": "v-rajagt-zz",
        "url": "https://github.com/v-rajagt-zz"
      },
      {
        "name": "CarlRabeler",
        "url": "https://github.com/CarlRabeler"
      },
      {
        "name": "PRMerger14",
        "url": "https://github.com/PRMerger14"
      },
      {
        "name": "PRMerger18",
        "url": "https://github.com/PRMerger18"
      },
      {
        "name": "v-thepet",
        "url": "https://github.com/v-thepet"
      },
      {
        "name": "jovanpop-msft",
        "url": "https://github.com/jovanpop-msft"
      },
      {
        "name": "ShannonLeavitt",
        "url": "https://github.com/ShannonLeavitt"
      },
      {
        "name": "SQLSourabh",
        "url": "https://github.com/SQLSourabh"
      },
      {
        "name": "MightyPen",
        "url": "https://github.com/MightyPen"
      },
      {
        "name": "Saisang",
        "url": "https://github.com/Saisang"
      },
      {
        "name": "taiyebzakir",
        "url": "https://github.com/taiyebzakir"
      },
      {
        "name": "craigg-msft",
        "url": "https://github.com/craigg-msft"
      },
      {
        "name": "ktaranov",
        "url": "https://github.com/ktaranov"
      },
      {
        "name": "barbkess",
        "url": "https://github.com/barbkess"
      }
    ]
  },
  "functions": {}
};;
	</script>

			<!-- base scripts, msdocs global should be before this -->
			<script src="/static/assets/0.4.03336.7510-899cc417/scripts/en-us/index-docs.js"></script>
			

			<!-- json-ld -->
			
		</head>
	
			<body
				id="body"
				data-bi-name="body"
				class="layout-body "
				lang="en-us"
				dir="ltr"
			>
				<header class="layout-body-header">
		<div class="header-holder has-default-focus">
			
		<a
			href="#main"
			
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			
		>
			Skip to main content
		</a>
	
		<a
			href="#"
			data-skip-to-ask-learn
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			hidden
		>
			Skip to Ask Learn chat experience
		</a>
	

			<div hidden id="cookie-consent-holder" data-test-id="cookie-consent-container"></div>
			<!-- Unsupported browser warning -->
			<div
				id="unsupported-browser"
				style="background-color: white; color: black; padding: 16px; border-bottom: 1px solid grey;"
				hidden
			>
				<div style="max-width: 800px; margin: 0 auto;">
					<p style="font-size: 24px">This browser is no longer supported.</p>
					<p style="font-size: 16px; margin-top: 16px;">
						Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.
					</p>
					<div style="margin-top: 12px;">
						<a
							href="https://go.microsoft.com/fwlink/p/?LinkID=2092881 "
							style="background-color: #0078d4; border: 1px solid #0078d4; color: white; padding: 6px 12px; border-radius: 2px; display: inline-block;"
						>
							Download Microsoft Edge
						</a>
						<a
							href="https://learn.microsoft.com/en-us/lifecycle/faq/internet-explorer-microsoft-edge"
							style="background-color: white; padding: 6px 12px; border: 1px solid #505050; color: #171717; border-radius: 2px; display: inline-block;"
						>
							More info about Internet Explorer and Microsoft Edge
						</a>
					</div>
				</div>
			</div>
			<!-- site header -->
			<header
				id="ms--site-header"
				data-test-id="site-header-wrapper"
				role="banner"
				itemscope="itemscope"
				itemtype="http://schema.org/Organization"
			>
				<div
					id="ms--mobile-nav"
					class="site-header display-none-tablet padding-inline-none gap-none"
					data-bi-name="mobile-header"
					data-test-id="mobile-header"
				></div>
				<div
					id="ms--primary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L1-header"
					data-test-id="primary-header"
				></div>
				<div
					id="ms--secondary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L2-header"
					data-test-id="secondary-header"
					
				></div>
			</header>
			
		<!-- banner -->
		<div data-banner>
			<div id="disclaimer-holder"></div>
			
		</div>
		<!-- banner end -->
	
		</div>
	</header>
				 <section
					id="layout-body-menu"
					class="layout-body-menu display-flex"
					data-bi-name="menu"
			  >
					
		<div
			id="left-container"
			class="left-container display-none display-block-tablet padding-inline-sm padding-bottom-sm width-full"
			data-toc-container="true"
		>
			<!-- Regular TOC content (default) -->
			<div id="ms--toc-content" class="height-full">
				<nav
					id="affixed-left-container"
					class="margin-top-sm-tablet position-sticky display-flex flex-direction-column"
					aria-label="Primary"
					data-bi-name="left-toc"
					role="navigation"
				></nav>
			</div>
			<!-- Collapsible TOC content (hidden by default) -->
			<div id="ms--toc-content-collapsible" class="height-full" hidden>
				<nav
					id="affixed-left-container"
					class="margin-top-sm-tablet position-sticky display-flex flex-direction-column"
					aria-label="Primary"
					data-bi-name="left-toc"
					role="navigation"
				>
					<div
						id="ms--collapsible-toc-header"
						class="display-flex flex-direction-row-reverse justify-content-space-between align-items-center margin-bottom-xxs"
					>
						<button
							type="button"
							class="button button-clear inner-focus"
							data-collapsible-toc-toggle
							aria-expanded="true"
							aria-controls="ms--collapsible-toc-content"
							aria-label="Table of contents"
						>
							<span class="icon font-size-h4" aria-hidden="true">
								<span class="docon docon-panel-left-contract"></span>
							</span>
						</button>
						<div id="ms--collapsible-toc-moniker-slot" class="flex-grow-1"></div>
					</div>
				</nav>
			</div>
		</div>
	
			  </section>

				<main
					id="main"
					role="main"
					class="layout-body-main "
					data-bi-name="content"
					lang="en-us"
					dir="ltr"
				>
					
			<div
		id="ms--content-header"
		class="content-header default-focus border-bottom-none"
		data-bi-name="content-header"
	>
		<div class="content-header-controls margin-xxs margin-inline-sm-tablet">
			<button
				type="button"
				class="contents-button button button-sm margin-right-xxs"
				data-bi-name="contents-expand"
				aria-haspopup="true"
				data-contents-button
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-menu"></span></span>
				<span class="contents-expand-title"> Table of contents </span>
			</button>
			<button
				type="button"
				class="ap-collapse-behavior ap-expanded button button-sm"
				data-bi-name="ap-collapse"
				aria-controls="action-panel"
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-exit-mode"></span></span>
				<span>Exit editor mode</span>
			</button>
		</div>
	</div>
			<div data-main-column class="padding-sm padding-top-none padding-top-sm-tablet">
				<div>
					
		<div id="article-header" class="background-color-body margin-bottom-xs display-none-print">
			<div class="display-flex align-items-center justify-content-space-between">
				
		<details
			id="article-header-breadcrumbs-overflow-popover"
			class="popover"
			data-for="article-header-breadcrumbs"
		>
			<summary
				class="button button-clear button-primary button-sm inner-focus"
				aria-label="All breadcrumbs"
			>
				<span class="icon">
					<span class="docon docon-more"></span>
				</span>
			</summary>
			<div id="article-header-breadcrumbs-overflow" class="popover-content padding-none"></div>
		</details>

		<bread-crumbs
			id="article-header-breadcrumbs"
			role="group"
			aria-label="Breadcrumbs"
			data-test-id="article-header-breadcrumbs"
			class="overflow-hidden flex-grow-1 margin-right-sm margin-right-md-tablet margin-right-lg-desktop margin-left-negative-xxs padding-left-xxs"
		></bread-crumbs>
	 
		<div
			id="article-header-page-actions"
			class="opacity-none margin-left-auto display-flex flex-wrap-no-wrap align-items-stretch"
		>
			
		<button
			class="button button-sm border-none inner-focus display-none-tablet flex-shrink-0 "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-modal-entry-mobile"
			data-ask-learn-modal-entry
			
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-none display-inline-flex-tablet display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			
			data-test-id="ask-learn-assistant-modal-entry-tablet"
			data-ask-learn-modal-entry
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			
			data-test-id="ask-learn-assistant-flyout-entry"
			data-ask-learn-flyout-entry
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	 
		<button
			type="button"
			id="ms--focus-mode-button"
			data-focus-mode
			data-bi-name="focus-mode-entry"
			class="button button-sm flex-shrink-0 margin-right-xxs display-none display-inline-flex-desktop"
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-glasses"></span>
			</span>
			<span>Focus mode</span>
		</button>
	 

			<details class="popover popover-right" id="article-header-page-actions-overflow">
				<summary
					class="justify-content-flex-start button button-clear button-sm button-primary inner-focus"
					aria-label="More actions"
					title="More actions"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-more-vertical"></span>
					</span>
				</summary>
				<div class="popover-content">
					
		<button
			data-page-action-item="overflow-mobile"
			type="button"
			class="button-block button-sm inner-focus button button-clear display-none-tablet justify-content-flex-start text-align-left"
			data-bi-name="contents-expand"
			data-contents-button
			data-popover-close
		>
			<span class="icon">
				<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
			</span>
			<span class="contents-expand-title">Table of contents</span>
		</button>
	 
		<a
			id="lang-link-overflow"
			class="button-sm inner-focus button button-clear button-block justify-content-flex-start text-align-left"
			data-bi-name="language-toggle"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-read-in-link
			href="#"
			hidden
		>
			<span class="icon" aria-hidden="true" data-read-in-link-icon>
				<span class="docon docon-locale-globe"></span>
			</span>
			<span data-read-in-link-text>Read in English</span>
		</a>
	 
		<button
			type="button"
			class="collection button button-clear button-sm button-block justify-content-flex-start text-align-left inner-focus"
			data-list-type="collection"
			data-bi-name="collection"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="collection-status">Add</span>
		</button>
	
					
		<button
			type="button"
			class="collection button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
			data-list-type="plan"
			data-bi-name="plan"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="plan-status">Add to plan</span>
		</button>
	  
		<a
			data-contenteditbtn
			class="button button-clear button-block button-sm inner-focus justify-content-flex-start text-align-left text-decoration-none"
			data-bi-name="edit"
			
			href="https://github.com/MicrosoftDocs/sql-docs/blob/live/docs/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql.md"
			data-original_content_git_url="https://github.com/MicrosoftDocs/sql-docs-pr/blob/live/docs/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql.md"
			data-original_content_git_url_template="{repo}/blob/{branch}/docs/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql.md"
			data-pr_repo=""
			data-pr_branch=""
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-edit-outline"></span>
			</span>
			<span>Edit</span>
		</a>
	
					
		<hr class="margin-block-xxs" />
		<h4 class="font-size-sm padding-left-xxs">Share via</h4>
		
					<a
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-facebook"
						data-bi-name="facebook"
						data-page-action-item="overflow-all"
						href="#"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-facebook-share"></span>
						</span>
						<span>Facebook</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-twitter"
						data-bi-name="twitter"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-text" aria-hidden="true">
							<span class="docon docon-xlogo-share"></span>
						</span>
						<span>x.com</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-linkedin"
						data-bi-name="linkedin"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-linked-in-logo"></span>
						</span>
						<span>LinkedIn</span>
					</a>
					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-email"
						data-bi-name="email"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-mail-message"></span>
						</span>
						<span>Email</span>
					</a>
			  
	 
		<hr class="margin-block-xxs" />
		
				<button
					class="button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
					type="button"
					data-bi-name="copy-markdown"
					data-page-action-item="overflow-all"
					data-copy-markdown
					data-copy-state="idle"
					data-check-hidden="true"
				>
					<span class="icon color-primary" aria-hidden="true">
						<span data-show-when="idle" class="docon docon-code-lang"></span>
						<span data-show-when="loading" class="loader" hidden></span>
						<span data-show-when="success" class="docon docon-check-mark" hidden></span>
					</span>
					<span>Copy Markdown</span>
				</button>
		   
				<button
					class="button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
					type="button"
					data-bi-name="print"
					data-page-action-item="overflow-all"
					data-popover-close
					data-print-page
					data-check-hidden="true"
				>
					<span class="icon color-primary" aria-hidden="true">
						<span class="docon docon-print"></span>
					</span>
					<span>Print</span>
				</button>
		  
	
				</div>
			</details>
		</div>
	
			</div>
		</div>
	  
		<!-- privateUnauthorizedTemplate is hidden by default -->
		<div unauthorized-private-section data-bi-name="permission-content-unauthorized-private" hidden>
			<hr class="hr margin-top-xs margin-bottom-sm" />
			<div class="notification notification-info">
				<div class="notification-content">
					<p class="margin-top-none notification-title">
						<span class="icon">
							<span class="docon docon-exclamation-circle-solid" aria-hidden="true"></span>
						</span>
						<span>Note</span>
					</p>
					<p class="margin-top-none authentication-determined not-authenticated">
						Access to this page requires authorization. You can try <a class="docs-sign-in" href="#" data-bi-name="permission-content-sign-in">signing in</a> or <a  class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
					<p class="margin-top-none authentication-determined authenticated">
						Access to this page requires authorization. You can try <a class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
				</div>
			</div>
		</div>
	
					<div class="content"><h1 id="set-trace-flags-with-dbcc-traceon-transact-sql">Set trace flags with DBCC TRACEON (Transact-SQL)</h1></div>
					
		<div
			id="article-metadata"
			data-bi-name="article-metadata"
			data-test-id="article-metadata"
			class="page-metadata-container display-flex gap-xxs justify-content-space-between align-items-center flex-wrap-wrap"
		>
			 
				<div
					id="user-feedback"
					class="margin-block-xxs display-none display-none-print"
					hidden
					data-hide-on-archived
				>
					
		<button
			id="user-feedback-button"
			data-test-id="conceptual-feedback-button"
			class="button button-sm button-clear button-primary display-none"
			type="button"
			data-bi-name="user-feedback-button"
			data-user-feedback-button
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-like"></span>
			</span>
			<span>Feedback</span>
		</button>
	
				</div>
		  
		</div>
	 
		<div data-id="ai-summary" hidden>
			<div id="ms--ai-summary-cta" class="margin-top-xs display-flex align-items-center">
				<span class="icon" aria-hidden="true">
					<span class="docon docon-sparkle-fill gradient-text-vivid"></span>
				</span>
				<button
					id="ms--ai-summary"
					type="button"
					class="tag tag-sm tag-suggestion margin-left-xxs"
					data-test-id="ai-summary-cta"
					data-bi-name="ai-summary-cta"
					data-an="ai-summary"
				>
					<span class="ai-summary-cta-text">
						Summarize this article for me
					</span>
				</button>
			</div>
			<!-- Slot where the client will render the summary card after the user clicks the CTA -->
			<div id="ms--ai-summary-header" class="margin-top-xs"></div>
		</div>
	 
		<nav
			id="center-doc-outline"
			class="doc-outline is-hidden-desktop display-none-print margin-bottom-sm"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h2 id="ms--in-this-article" class="title is-6 margin-block-xs">
				In this article
			</h2>
		</nav>
	
					<div class="content"><p><strong>Applies to:</strong> <img src="../../includes/media/yes-icon.svg?view=sql-server-ver17" role="presentation" data-linktype="relative-path">
 <a href="../../sql-server/sql-docs-navigation-guide?view=sql-server-ver17#applies-to" data-linktype="relative-path">SQL Server</a> <img src="../../includes/media/yes-icon.svg?view=sql-server-ver17" role="presentation" data-linktype="relative-path">
 <a href="../../sql-server/sql-docs-navigation-guide?view=sql-server-ver17#applies-to" data-linktype="relative-path">Azure SQL Managed Instance</a></p>
<p>Use trace flags to set specific server characteristics or to change a particular behavior. For example, trace flag 3226 is a commonly used startup trace flag that suppresses successful backup messages in the error log. You can use trace flags to diagnose or mitigate performance problems. Microsoft might also recommend trace flags to address behavior that negatively affects a specific workload. Conversely, Microsoft might recommend that you remove a trace flag if it causes or contributes to a problem affecting your workload.</p>
<p>All documented trace flags and those recommended by Microsoft are fully supported in a production environment when used as directed. Trace flags in this list can have other considerations regarding their particular usage, so review all the recommendations given here and/or by your support engineer. As with any configuration change in SQL Server, test the flag in a non-production environment before deploying.</p>
<div class="NOTE">
<p>Note</p>
<p><a href="/en-us/entra/fundamentals/new-name" data-linktype="absolute-path">Microsoft Entra ID</a> was previously known as Azure Active Directory (Azure AD).</p>
</div>
<h2 id="remarks">Remarks</h2>
<p>In SQL Server, trace flags work at three scopes: query, session, and global. Query trace flags are active for the context of a specific query. Session trace flags are active for a connection and are visible only to that connection. Global trace flags are set at the server level and are visible to every connection on the server. Some flags are only available as global, and some flags are available at either global or session scope.</p>
<p>The following rules apply:</p>
<ul>
<li><p>You must enable a global trace flag globally. Otherwise, the trace flag has no effect. Enable global trace flags at startup, by using the <code>-T</code> command line option on Windows, or with <strong>mssql-conf</strong> <a href="../../linux/sql-server-linux-configure-mssql-conf?view=sql-server-ver17" data-linktype="relative-path">on Linux</a>. This method ensures the trace flag remains active after a server restart. Restart SQL Server for the trace flag to take effect.</p>
</li>
<li><p>If a trace flag has either global, session, or query scope, it can be enabled with the appropriate scope. A trace flag that is enabled at the session level never affects another session. The effect of the trace flag is lost when the session ID that opened the session signs out.</p>
</li>
</ul>
<p>Set trace flags <code>ON</code> or <code>OFF</code> using either of the following methods:</p>
<ul>
<li><p>Use the <code>DBCC TRACEON</code> and <code>DBCC TRACEOFF</code> commands.</p>
<p>For example, to enable the 2528 trace flag globally, use <a href="dbcc-traceon-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC TRACEON</a> with the <code>-1</code> argument: <code>DBCC TRACEON (2528, -1)</code>. The effect of enabling a global trace flag with <code>DBCC TRACEON</code> is lost on server restart. To turn off a global trace flag, use <a href="dbcc-traceoff-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC TRACEOFF</a> with the <code>-1</code> argument.</p>
</li>
<li><p>Use the <code>-T</code> startup option to specify that the trace flag is set on during startup.</p>
<p>The <code>-T</code> startup option enables a trace flag globally. You can't enable a session-level trace flag by using a startup option. This method ensures the trace flag remains active after a server restart. For more information about startup options, see <a href="../../database-engine/configure-windows/database-engine-service-startup-options?view=sql-server-ver17" data-linktype="relative-path">Database Engine Service startup options</a>.</p>
</li>
<li><p>At the query level, use the <code>QUERYTRACEON</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a>. The <code>QUERYTRACEON</code> option is only supported for Query Optimizer trace flags documented in the table that appears later in this article.</p>
</li>
</ul>
<p>Use the <code>DBCC TRACESTATUS</code> command to determine which trace flags are currently active.</p>
<h2 id="examples">Examples</h2>
<p>The following example sets trace flag 3205 on for all sessions at the server level by using <code>DBCC TRACEON</code>.</p>
<pre><code class="lang-sql">DBCC TRACEON (3205, -1);
</code></pre>
<p>You can enable all plan-affecting hotfixes that trace flags 4199 and 4137 control for a particular query.</p>
<pre><code class="lang-sql">SELECT x
FROM correlated
WHERE f1 = 0
      AND f2 = 1
OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137);
</code></pre>
<h2 id="trace-flags">Trace flags</h2>
<p>The following table lists and describes the trace flags that are available in SQL Server.</p>
<p>Azure SQL Managed Instance supports the following global Trace flags: 460, 2301, 2389, 2390, 2453, 2467, 7471, 8207, 9389, 10316, and 11024. Session trace-flags aren't yet supported in SQL Managed Instance.</p>
<p>Some trace flags were introduced in specific SQL Server versions. For more information on the applicable version, see the Microsoft Support article associated with a specific trace flag.</p>
<p>Trace flag behavior might not be supported in future releases of SQL Server.</p>
<p>Ð¢race flags can be referenced directly in the table via a bookmark that you can add to the end of the URL, using this format #tfNNNN. For example, to jump directly to trace flag 1118 in the table, use <code>dbcc-traceon-trace-flags-transact-sql#tf1118</code>.</p>
<table>
<thead>
<tr>
<th>Trace flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a id="tf101"></a><strong>101</strong></td>
<td>Increases the verboseness of the merge replication agent logging.<br><br><strong>Important</strong>: Trace flag 101 can only be enabled for the <a href="../../relational-databases/replication/agents/replication-merge-agent?view=sql-server-ver17" data-linktype="relative-path">Replication Merge Agent</a> using the <code>-T</code> option when executing <strong>replmerg.exe</strong> from the command prompt.<br><br><strong>Warning</strong>: Trace flag 101 isn't meant to be enabled continuously in a production environment, but only for time-limited troubleshooting purposes. For more information, see <a href="../../relational-databases/replication/troubleshoot-tran-repl-errors?view=sql-server-ver17#find-errors-with-the-merge-agent" data-linktype="relative-path">Find errors with the Merge Agent</a>.<br><br><strong>Scope</strong>: Replication Merge Agent only.</td>
</tr>
<tr>
<td><a id="tf102"></a><strong>102</strong></td>
<td>Increases the verboseness of the merge replication agent logging and directs it to the <code>&lt;Distribution server&gt;..msmerge_history</code> table.<br><br><strong>Important</strong>: Trace flag 102 can only be enabled for the <a href="../../relational-databases/replication/agents/replication-merge-agent?view=sql-server-ver17" data-linktype="relative-path">Replication Merge Agent</a> using the <code>-T</code> option when executing <strong>replmerg.exe</strong> from the command prompt.<br><br><strong>Warning</strong>: Trace flag 102 isn't meant to be enabled continuously in a production environment, but only for time-limited troubleshooting purposes. For more information, see <a href="../../relational-databases/replication/troubleshoot-tran-repl-errors?view=sql-server-ver17#find-errors-with-the-merge-agent" data-linktype="relative-path">Find errors with the Merge Agent</a>.<br><br><strong>Scope</strong>: Replication Merge Agent only.</td>
</tr>
<tr>
<td><a id="tf139"></a><strong>139</strong></td>
<td>Forces correct conversion semantics in the scope of <code>DBCC</code> check commands like <a href="dbcc-checkdb-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC CHECKDB</a>, <a href="dbcc-checktable-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC CHECKTABLE</a> and <a href="dbcc-checkconstraints-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC CHECKCONSTRAINTS</a>, when analyzing the improved precision and conversion logic introduced with compatibility level 130 for specific data types, on a database that has a lower compatibility level. For more information, see <a href="/en-us/troubleshoot/sql/database-engine/general/sql-server-azure-sql-database-improvements" data-linktype="absolute-path">SQL Server and Azure SQL Database improvements in handling some data types and uncommon operations</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) RTM CU 3, SQL Server 2016 (13.x) Service Pack 1, and later versions.<br><br><strong>Warning</strong>: Trace flag 139 isn't meant to be enabled continuously in a production environment, and should be used for the sole purpose of performing database validation checks described in <a href="/en-us/troubleshoot/sql/database-engine/general/sql-server-azure-sql-database-improvements" data-linktype="absolute-path">SQL Server and Azure SQL Database improvements in handling some data types and uncommon operations</a>. It should be immediately disabled after validation checks are completed.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf174"></a><strong>174</strong></td>
<td>Increases the SQL Server Database Engine plan cache bucket count from 40,009 to 160,001 on 64-bit systems. For more information, see <a href="https://support.microsoft.com/help/3026083" data-linktype="external">KB3026083</a>.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf176"></a><strong>176</strong></td>
<td>Addresses errors when rebuilding partitions online for tables that contain a computed partitioning column. For more information, see <a href="https://support.microsoft.com/help/3213683" data-linktype="external">KB3213683</a> and <a href="https://support.microsoft.com/help/4541096" data-linktype="external">KB4541096</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf205"></a><strong>205</strong></td>
<td>Reports to the error log when a statistics-dependent stored procedure is being recompiled as a result of autoupdate statistics. For more information, see an archived version of <a href="https://mskb.pkisolutions.com/kb/195565" data-linktype="external">KB195565</a>.<br><br><strong>Note</strong>: This trace flag requires enabling <a href="#tf3605" data-linktype="self-bookmark">trace flag 3605</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf260"></a><strong>260</strong></td>
<td>Prints versioning information about extended stored procedure dynamic-link libraries (DLLs). For more information about <code>GetXpVersion()</code>, see <a href="../../relational-databases/extended-stored-procedures-programming/database-engine-extended-stored-procedures-programming?view=sql-server-ver17" data-linktype="relative-path">Programming Database Engine extended stored procedures</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf272"></a><strong>272</strong></td>
<td>Disables identity preallocation to avoid gaps in the values of an identity column in cases where the server restarts unexpectedly or fails over to a secondary server. Identity caching is used to improve <code>INSERT</code> performance on tables with identity columns.<br><br><strong>Note</strong>: Starting with SQL Server 2017 (14.x), to accomplish this at the database level, see the <code>IDENTITY_CACHE</code> option in <a href="../statements/alter-database-scoped-configuration-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SCOPED CONFIGURATION</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf460"></a><strong>460</strong></td>
<td>Replaces data truncation message ID <a href="../../relational-databases/errors-events/database-engine-events-and-errors-8000-to-8999?view=sql-server-ver17" data-linktype="relative-path">8152</a> with message ID <a href="../../relational-databases/errors-events/database-engine-events-and-errors-2000-to-2999?view=sql-server-ver17" data-linktype="relative-path">2628</a>. For more information, see <a href="https://support.microsoft.com/help/4468101" data-linktype="external">KB4468101</a>.<br><br>Starting with SQL Server 2019 (15.x), to accomplish this at the database level, see the <code>VERBOSE_TRUNCATION_WARNINGS</code> option in <a href="../statements/alter-database-scoped-configuration-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SCOPED CONFIGURATION</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 2 CU 6, SQL Server 2017 (14.x) CU 12, and later versions.<br><br><strong>Note</strong>: Starting with database compatibility level 150, message ID 2628 is the default and this trace flag has no effect. For database compatibility level 140 or lower, message ID 2628 remains an opt-in error message that requires trace flag 460 to be enabled, and this database scoped configuration has no effect.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf610"></a><strong>610</strong></td>
<td>Controls minimally logged inserts into indexed tables. This trace flag isn't required starting with SQL Server 2016 (13.x), as minimal logging is turned on by default for indexed tables. In SQL Server 2016 (13.x), when the bulk load operation causes a new page to be allocated, all of the rows sequentially filling that new page are minimally logged if all the other prerequisites for minimal logging are met. Rows inserted into existing pages (no new page allocation) to maintain index order are still fully logged, as are rows that are moved as a result of page splits during the load.<br><br>It's also important to have <code>ALLOW_PAGE_LOCKS</code> turned ON for indexes (which is ON by default) for minimal logging operation to work as page locks are acquired during allocation and thereby only page or extent allocations are logged. For more information, see <a href="/en-us/previous-versions/sql/sql-server-2008/dd425070(v=sql.100)" data-linktype="absolute-path">Data Loading Performance Guide</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf634"></a><strong>634</strong></td>
<td>Disables the background columnstore compression task. SQL Server periodically runs the Tuple Mover background task that compresses columnstore index rowgroups with uncompressed data, one such rowgroup at a time.<br><br>Columnstore compression improves query performance but also consumes system resources. You can control the timing of columnstore compression manually, by disabling the background compression task with trace flag 634, and then explicitly invoking <code>ALTER INDEX...REORGANIZE</code> or <code>ALTER INDEX...REBUILD</code> at the time of your choice.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf652"></a><strong>652</strong></td>
<td>Disables page prefetching scans. If you turn on trace flag 652, SQL Server no longer brings database pages into the buffer pool before these database pages are consumed by the scans. As a result, queries that benefit from the page prefetching feature exhibit lower performance.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf661"></a><strong>661</strong></td>
<td>Disables the ghost record removal process. Trace flag 661 disables the ghost record removal process. A ghost record is the result of a delete operation. When you delete a record, the deleted record is kept as a ghost record. Later, the deleted record is purged by the ghost record removal process. When you disable this process, the deleted record isn't purged. Therefore, the space that the deleted record consumes isn't freed. This behavior affects space consumption and the performance of scan operations. For more information, review the <a href="../../relational-databases/ghost-record-cleanup-process-guide?view=sql-server-ver17" data-linktype="relative-path">Ghost cleanup process guide</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf692"></a><strong>692</strong></td>
<td>Disables fast inserts while bulk loading data into heap or clustered index. Starting with SQL Server 2016 (13.x), fast inserts are enabled by default, using minimal logging when database is in simple or bulk logged recovery model to optimize insert performance for records inserted into new pages. With fast inserts, each bulk load batch acquires new extents bypassing the allocation lookup for existing extent with available free space to optimize insert performance.<br><br>With fast inserts, bulk loads with small batch sizes can lead to increased unused space consumed by objects hence it's recommended to use large batchsize for each batch to fill the extent completely. If increasing batchsize isn't feasible, this trace flag can help reduce unused space reserved at the expense of performance.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) and later versions.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf715"></a><strong>715</strong></td>
<td>Enables table lock for bulk load operations into a heap with no nonclustered indexes. When this trace flag is enabled, bulk load operations acquire bulk update (BU) locks when bulk copying data into a table. Bulk update (BU) locks allow multiple threads to bulk load data concurrently into the same table, while preventing other processes that aren't bulk loading data from accessing the table.<br><br>The behavior is similar to when the user explicitly specifies <code>TABLOCK</code> hint while performing bulk load, or when the <code>sp_tableoption</code> table lock on bulk load is enabled for a given table. However, when this trace flag is enabled, this behavior becomes default without any query or database changes.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf809"></a><strong>809</strong></td>
<td>Enables what is referred to as <em>Direct Write</em> behavior for the <a href="../../database-engine/configure-windows/hybrid-buffer-pool?view=sql-server-ver17" data-linktype="relative-path">hybrid buffer pool</a>. This mode requires that <a href="../../relational-databases/databases/add-persisted-log-buffer?view=sql-server-ver17" data-linktype="relative-path">persisted log buffer</a> is enabled in the same database as hybrid buffer pool. <em>Direct Write</em> allows the hybrid buffer pool to serve as a cache for both dirty and clean pages, reducing the workload demands on the DRAM buffer pools for OLAP and OLTP style workloads. This trace flag was introduced in SQL Server 2022 (16.x) and the behavior is enabled by default in SQL Server 2022 (16.x) CU 1. If you're using SQL Server 2022 (16.x) CU 1 and later versions, the trace flag is ignored.</td>
</tr>
<tr>
<td><a id="tf818"></a><strong>818</strong></td>
<td>Enables extra I/O diagnostics to check for Lost Write or Stale Read conditions during file I/O operations. Trace flag 818 enables an in-memory ring buffer that is used for tracking the last 2,048 successful write operations that are performed by SQL Server, not including sort and workfile I/Os. When errors such as Error 605, 823, or 3448 occur, the incoming buffer's log sequence number (LSN) value is compared to the recent write list. If the LSN that is retrieved is older than the one specified during the write operation, a new error message is logged in the SQL Server error log. For more information, see <a href="/en-us/troubleshoot/sql/database-engine/database-file-operations/diagnostics-for-unreported-io-problems" data-linktype="absolute-path">SQL Server diagnostics detects unreported I/O problems due to stale reads or lost writes</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2017 (14.x), this trace flag has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf830"></a><strong>830</strong></td>
<td>Disables detection and reporting of I/O requests that take a very long time to complete. By default SQL Server uses a mechanism to detect read and write I/O requests that take a long time (typically longer than 15 seconds). This trace flag disables this detection. For more information, see <a href="../../relational-databases/errors-events/mssqlserver-833-database-engine-error?view=sql-server-ver17" data-linktype="relative-path">MSSQLSERVER_833</a>.<br><br><strong>Note</strong>: It isn't recommended that you enable this trace flag because you could decrease your ability to detect I/O issues on the system.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf834"></a><strong>834</strong></td>
<td>Uses large-page allocations for all memory allocations within the SQL Server Operating System (SQLOS) workspace. The large page size varies depending on the hardware platform and can be from 2 MB to 16 MB. Large pages are allocated at startup and are kept throughout the lifetime of the process.<br><br>In a certain narrow set of scenarios, trace flag 834 might improve performance by increasing the efficiency of the translation look-aside buffer (TLB) in the CPU. In other words, trace flag 834 increases the efficiency of managing physical to virtual memory address translation that is performed by the memory management hardware.<br><br>Before you enable trace flag 834, follow the recommendations for maximum server memory configuration in <a href="../../database-engine/configure-windows/server-memory-server-configuration-options?view=sql-server-ver17" data-linktype="relative-path">Server memory configuration options</a>.<br><br><strong>Note</strong>: Trace flag 834 applies only to 64-bit versions of SQL Server. You must have the Lock pages in memory user right to turn on trace flag 834. You can turn on trace flag 834 only at startup. Trace flag 834 can prevent the server from starting if memory is fragmented and if large pages can't be allocated. Therefore, trace flag 834 is best suited for servers that are dedicated to SQL Server.<br><br><strong>Note</strong>: When enabled, the large-page memory model preallocates all SQLOS memory at instance startup and doesn't return that memory to the OS.<br><br><strong>Warning</strong>: We don't recommend turning on trace flag 834 unless you thoroughly test it and determine that it materially benefits your workload. Enabling this trace flag can substantially increase the kernel CPU time and reduce performance. This occurs if memory becomes fragmented, requiring SQL Server to call Windows APIs to allocate and deallocate memory instead of reusing memory cached in the SQLOS workspace. Trace flag 834 can also cause unnecessary memory consumption because the unused part of committed memory blocks isn't released to the operating system.<br><br><strong>Note</strong>: If you're using columnstore indexes, don't enable trace flag 834. For more information, see <a href="/en-us/troubleshoot/sql/database-engine/performance/batch-mode-with-large-page-memory-issues" data-linktype="absolute-path">Interoperability issues between batch mode processing and large page memory model</a>. Instead, if using SQL Server 2019 (15.x) and later versions, use <a href="#tf876" data-linktype="self-bookmark">trace flag 876</a> instead.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf836"></a><strong>836</strong></td>
<td>Use the max server memory option for the buffer pool. Trace flag 836 causes SQL Server to size the buffer pool at startup based on the value of the max server memory option instead of based on the total physical memory. You can use <a href="#tf836" data-linktype="self-bookmark">trace flag 836</a> to reduce the number of buffer descriptors that are allocated at startup in 32-bit Address Windowing Extensions (AWE) mode.<br><br><strong>Note</strong>: Trace flag 836 applies only to 32-bit versions of SQL Server that have the AWE allocation enabled. You can turn on trace flag 836 only at startup.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf845"></a><strong>845</strong></td>
<td>Enables locked pages on Standard SKUs of SQL Server, when the service account for SQL Server has the Lock Pages in Memory privilege enabled. For more information, see <a href="https://support.microsoft.com/help/970070" data-linktype="external">KB970070</a> and <a href="../../database-engine/configure-windows/server-memory-server-configuration-options?view=sql-server-ver17#lock-pages-in-memory-lpim" data-linktype="relative-path">Server Memory Server Configuration Options</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2012 (11.x), this behavior is enabled by default for Standard SKUs, and trace flag 845 must not be used.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf876"></a><strong>876</strong></td>
<td>Uses large-page allocations for columnstore.<br><br><strong>Note</strong>: Unlike trace flag 834, using trace flag 876 doesn't preallocate SQLOS memory at instance startup, and unused memory can be released.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf888"></a><strong>888</strong></td>
<td>Resolves performance degradation on PMEM devices with Hybrid Buffer Pool enabled in SQL Server when PMEM devices run low on memory. For more information, see <a href="https://support.microsoft.com/help/4548103" data-linktype="external">KB4548103</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 4 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf890"></a><strong>890</strong></td>
<td>Suppress long buffer pool scan complete messages (<a href="../../relational-databases/errors-events/mssqlserver-898-database-engine-error?view=sql-server-ver17" data-linktype="relative-path">error 898</a>) in the error log. For more information on buffer pool scan and the message that is logged in the error log, see <a href="/en-us/troubleshoot/sql/performance/buffer-pool-scan-runs-slowly-large-memory-machines" data-linktype="absolute-path">Operations that trigger a buffer pool scan may run slowly on large-memory computers</a>.<br><br><strong>Applies to</strong>: SQL Server 2017 (14.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf898"></a><strong>898</strong></td>
<td>Disables the <em>Direct Write</em> behavior of the <a href="../../database-engine/configure-windows/hybrid-buffer-pool?view=sql-server-ver17" data-linktype="relative-path">hybrid buffer pool</a> for troubleshooting or debugging purposes. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2022/cumulativeupdate1" data-linktype="absolute-path">KB5022375</a>.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 1 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf902"></a><strong>902</strong></td>
<td>Bypasses execution of database upgrade script when installing a Cumulative Update or Service Pack. If you encounter an error during script upgrade mode, it's recommended to contact Microsoft SQL Customer Service and Support (CSS) for further guidance. For more information, see <a href="https://support.microsoft.com/help/2163980" data-linktype="external">KB2163980</a>.<br><br><strong>Warning</strong>: This trace flag is meant for troubleshooting of failed updates during script upgrade mode, and it isn't supported to run it continuously in a production environment. Database upgrade scripts need to execute successfully for a complete install of Cumulative Updates and Service Packs. Not doing so can cause unexpected issues with your SQL Server instance.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1117"></a><strong>1117</strong></td>
<td>When a file in the filegroup meets the autogrow threshold, all files in the filegroup grow. This trace flag affects all databases. It's recommended only if in every database it's safe to grow all files in a filegroup by the same amount.<br><br><strong>Note</strong>: Starting with SQL Server 2016 (13.x), this behavior is controlled by the <code>AUTOGROW_SINGLE_FILE</code> and <code>AUTOGROW_ALL_FILES</code> option of <code>ALTER DATABASE</code>, and trace flag 1117 has no effect. For more information, see <a href="../statements/alter-database-transact-sql-file-and-filegroup-options?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE File and Filegroup Options</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1118"></a><strong>1118</strong></td>
<td>Forces page allocations on uniform extents instead of mixed extents, reducing contention on the SGAM page. When a new object is created, by default, the first eight pages are allocated from different extents (mixed extents). Afterwards, when more pages are needed, those are allocated from that same extent (uniform extent). The SGAM page is used to track these mixed extents, so can quickly become a bottleneck when numerous mixed page allocations are occurring. This trace flag allocates all eight pages from the same extent when creating new objects, minimizing the need to scan the SGAM page. For more information, see <a href="https://support.microsoft.com/help/328551" data-linktype="external">KB328551</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2016 (13.x) this behavior is controlled by the SET MIXED_PAGE_ALLOCATION option of <code>ALTER DATABASE</code>, and trace flag 1118 has no effect. For more information, see <a href="../statements/alter-database-transact-sql-set-options?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SET options</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1204"></a><strong>1204</strong></td>
<td>Returns the resources and types of locks participating in a deadlock and also the current command affected. For more information about deadlocks, see the <a href="../../relational-databases/sql-server-deadlocks-guide?view=sql-server-ver17" data-linktype="relative-path">Deadlocks guide</a>.<br><br><strong>Note</strong>: Avoid using trace flag 1204 on workload-intensive systems causing deadlocks. For more information about other means of detecting deadlocks, see the <a href="../../relational-databases/sql-server-deadlocks-guide?view=sql-server-ver17#deadlock_detection" data-linktype="relative-path">Deadlocks guide</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1211"></a><strong>1211</strong></td>
<td>Disables lock escalation based on memory pressure, or based on number of locks. The SQL Server Database Engine doesn't escalate row or page locks to table locks.<br><br>Using this trace flag can generate excessive number of locks and if the lock memory grows large enough, attempts to allocate additional locks for any query might fail. This can slow the performance of the Database Engine, or cause error message 1204 (unable to allocate lock resource) because of insufficient memory.<br><br>If both trace flags 1211 and 1224 are set, 1211 takes precedence over 1224. However, because trace flag 1211 prevents escalation in every case, even under memory pressure, use <a href="#tf1224" data-linktype="self-bookmark">trace flag 1224</a> instead. This helps avoid "out-of-locks" errors when many locks are being used.<br><br>For more information on how to resolve blocking problems that are caused by lock escalation in SQL Server, see <a href="/en-us/troubleshoot/sql/database-engine/performance/resolve-blocking-problems-caused-lock-escalation" data-linktype="absolute-path">Resolve blocking problems caused by lock escalation in SQL Server</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf1222"></a><strong>1222</strong></td>
<td>Returns the resources and types of locks that are participating in a deadlock and also the current command affected, in an XML format that doesn't comply with any XSD schema. For more information about deadlocks, see the <a href="../../relational-databases/sql-server-deadlocks-guide?view=sql-server-ver17" data-linktype="relative-path">Deadlocks guide</a>.<br><br><strong>Note</strong>: Avoid using trace flag 1222 on workload-intensive systems causing deadlocks. For more information about other means of detecting deadlocks, see the <a href="../../relational-databases/sql-server-deadlocks-guide?view=sql-server-ver17#deadlock_detection" data-linktype="relative-path">Deadlocks guide</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1224"></a><strong>1224</strong></td>
<td>Disables lock escalation based on the number of locks. However, memory pressure can still activate lock escalation. The Database Engine escalates row or page locks to table (or partition) locks if the amount of memory used by lock objects exceeds one of the following conditions:<br><br>- 40 percent of the memory that is used by Database Engine. This is applicable only when the <strong>locks</strong> parameter of <code>sp_configure</code> is set to 0.<br>- 40 percent of the lock memory that is configured by using the <strong>locks</strong> parameter of <code>sp_configure</code>. For more information, see <a href="../../database-engine/configure-windows/server-configuration-options-sql-server?view=sql-server-ver17" data-linktype="relative-path">Server configuration options</a>.<br><br>If both trace flags 1211 and 1224 are set, 1211 takes precedence over 1224. However, because trace flag 1211 prevents escalation in every case, even under memory pressure, use <a href="#tf1224" data-linktype="self-bookmark">trace flag 1224</a> instead. This helps avoid "out-of-locks" errors when many locks are being used.<br><br><strong>Note</strong>: Lock escalation to the table-level or HoBT-level granularity can also be controlled by using the <code>LOCK_ESCALATION</code> option of the <a href="../statements/alter-table-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER TABLE</a> statement.<br><br>For more information on how to resolve blocking problems that are caused by lock escalation in SQL Server, see <a href="/en-us/troubleshoot/sql/database-engine/performance/resolve-blocking-problems-caused-lock-escalation" data-linktype="absolute-path">Resolve blocking problems caused by lock escalation in SQL Server</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf1229"></a><strong>1229</strong></td>
<td>Disables all lock partitioning regardless of the number of CPUs. By default, SQL Server enables lock partitioning when a server has 16 or more CPUs, to improve the scalability characteristics of larger systems. For more information on lock partitioning, see the <a href="../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide?view=sql-server-ver17#lock_partitioning" data-linktype="relative-path">Transaction Locking and Row Versioning Guide</a>.<br><br><strong>Warning</strong>: Trace flag 1229 can cause spinlock contention and poor performance.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1236"></a><strong>1236</strong></td>
<td>Enables database lock partitioning. For more information, see <a href="https://support.microsoft.com/help/2926217" data-linktype="external">KB2926217</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2012 (11.x) Service Pack 3 and SQL Server 2014 (12.x) Service Pack 1, this behavior is controlled by the Database Engine and trace flag 1236 has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1237"></a><strong>1237</strong></td>
<td>Allows the <code>ALTER PARTITION FUNCTION</code> statement to honor the current user-defined session deadlock priority instead of being the likely deadlock victim by default. For more information, see <a href="https://support.microsoft.com/help/4025261" data-linktype="external">KB4025261</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2017 (14.x) and database <a href="../statements/alter-database-transact-sql-compatibility-level?view=sql-server-ver17" data-linktype="relative-path">compatibility level</a> 140 this is the default behavior, and trace flag 1237 has no effect.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf1260"></a><strong>1260</strong></td>
<td>Disable scheduler monitor dumps.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1448"></a><strong>1448</strong></td>
<td>Enables the replication log reader to move forward even if the asynchronous secondaries haven't acknowledged the reception of a change. Even with this trace flag enabled the log reader always waits for the synchronous secondaries whose synchronization state is <code>SYNCHRONIZED</code>. The log reader doesn't go beyond the minimum acknowledged Log Sequence Number of the <code>SYNCHRONIZED</code> secondaries. This trace flag applies to the instance of SQL Server, not just an availability group, an availability database, or a log reader instance. This trace flag must be enabled on the publisher instance. It takes effect immediately without a restart. This trace flag can be activated ahead of time or when an asynchronous secondary replica fails.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1462"></a><strong>1462</strong></td>
<td>Disables log stream compression for asynchronous availability groups. This feature is enabled by default on asynchronous availability groups in order to optimize network bandwidth. For more information, see <a href="../../database-engine/availability-groups/windows/tune-compression-for-availability-group?view=sql-server-ver17" data-linktype="relative-path">Tune compression for availability group</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1800"></a><strong>1800</strong></td>
<td>Enables SQL Server optimization when disks of different sector sizes are used for primary and secondary replica log files, in SQL Server Always On and Log Shipping environments. This trace flag is only required to be enabled on SQL Server instances with transaction log file residing on disk with sector size of 512 bytes. Trace flag 1800 isn't required to be enabled on disk with sector sizes larger than 4 KB. For more information, see <a href="https://support.microsoft.com/help/3009974" data-linktype="external">KB3009974</a>, <a href="/en-us/troubleshoot/windows-server/backup-and-storage/support-policy-4k-sector-hard-drives" data-linktype="absolute-path">Microsoft support policy for 4K sector hard drives in Windows</a>, and <a href="/en-us/troubleshoot/sql/database-engine/database-file-operations/troubleshoot-os-4kb-disk-sector-size" data-linktype="absolute-path">Troubleshoot errors related to system disk sector size greater than 4 KB</a>.<br><br><strong>Applies to</strong>: SQL Server 2012 (11.x) Service Pack 1 CU 13, SQL Server 2012 (11.x) Service Pack 2 CU 3, SQL Server 2014 (12.x) RTM CU 5, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1802"></a><strong>1802</strong></td>
<td>Disables ACL change and impersonated access verification during database attach or detach operations. This can be useful when attaching a database and encountering access permission errors, such as error 5120.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf1819"></a><strong>1819</strong></td>
<td>Allows <a href="../../relational-databases/backup-restore/sql-server-backup-to-url?view=sql-server-ver17" data-linktype="relative-path">backup to URL</a> to use a proxy server when accessing Azure block blobs. In addition to this trace flag, you must set the WinHTTP proxy configuration on the server with the <a href="/en-us/windows/win32/winsock/netsh-exe" data-linktype="absolute-path">netsh.exe</a> utility on Windows Vista, Windows Server 2008, and later versions.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2301"></a><strong>2301</strong></td>
<td>Enable advanced decision support optimizations that are specific to decision support queries. This option applies to decision support processing of large data sets.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2312"></a><strong>2312</strong></td>
<td>Sets the Query Optimizer cardinality estimation model to SQL Server 2014 (12.x) and later versions, irrespective of the compatibility level of the database.<br><br><strong>Note</strong>: If the database compatibility level is lower than 120, enabling trace flag 2312 uses the cardinality estimation model of SQL Server 2014 (12.x) (120). For more information, see <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">Query hints</a>.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'FORCE_DEFAULT_CARDINALITY_ESTIMATION'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2335"></a><strong>2335</strong></td>
<td>Causes SQL Server to assume a fixed amount of memory is available during query optimization, for a scenario where the <a href="../../database-engine/configure-windows/server-memory-server-configuration-options?view=sql-server-ver17" data-linktype="relative-path">max server memory server configuration</a> is set too high, and causes SQL Server to generate an inefficient plan for a specific query. It doesn't limit the memory SQL Server grants to execute the query. The memory configured for SQL Server is still used by data cache, query execution, and other consumers.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2338"></a><strong>2338</strong></td>
<td>Causes SQL Server to use a narrow plan when executing an <code>UPDATE</code> statement to update indexes in a table. When you do an <code>UPDATE</code> against a clustered index column, SQL Server updates not only the clustered index itself, but also all the nonclustered indexes because the nonclustered indexes contain the cluster key. A common way that the update occurs is to update the clustered index, and then all nonclustered indexes at the same time. SQL Server would update one row, then move to next row until all is complete. This is called narrow plan update or also called Per-Row Update. In some cases, the Database Engine can choose to do a wide plan update. This trace flag forces a narrow plan update.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2340"></a><strong>2340</strong></td>
<td>Causes SQL Server not to use a sort operation (batch sort) for optimized Nested Loops joins when generating a plan. By default, SQL Server can use an optimized Nested Loops join instead of a full scan or a Nested Loops join with an explicit Sort, when the Query Optimizer concludes that a sort is most likely not required, but still a possibility if the cardinality or cost estimates are incorrect. For more information, see <a href="/en-us/troubleshoot/sql/database-engine/performance/decreased-perf-high-cpu-optimized-nested-loop" data-linktype="absolute-path">High CPU or memory grants may occur with queries that use optimized nested loop or batch sort</a>.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'DISABLE_OPTIMIZED_NESTED_LOOP'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2371"></a><strong>2371</strong></td>
<td>Changes the fixed update statistics threshold to a linear update statistics threshold. For more information, see this <a href="../../relational-databases/statistics/statistics?view=sql-server-ver17#auto_update_statistics-option" data-linktype="relative-path">AUTO_UPDATE_STATISTICS Option</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2016 (13.x) and under the <a href="../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database?view=sql-server-ver17" data-linktype="relative-path">database compatibility level</a> 130 or above, this behavior is controlled by the Database Engine and trace flag 2371 has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2389"></a><strong>2389</strong></td>
<td>Enable automatically generated quick statistics for ascending keys (histogram amendment). If trace flag 2389 is set, and a leading statistics column is marked as ascending, then the histogram used to estimate cardinality is adjusted at query compile time.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Note</strong>: This trace flag doesn't apply to CE version 120 or above. Use <a href="#tf4139" data-linktype="self-bookmark">trace flag 4139</a> instead.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2390"></a><strong>2390</strong></td>
<td>Enable automatically generated quick statistics for ascending or unknown keys (histogram amendment). If trace flag 2390 is set, and a leading statistics column is marked as ascending or unknown, then the histogram used to estimate cardinality is adjusted at query compile time. For more information, see <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">Query hints</a>.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Note</strong>: This trace flag doesn't apply to CE version 120 or above. Use <a href="#tf4139" data-linktype="self-bookmark">trace flag 4139</a> instead.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2422"></a><strong>2422</strong></td>
<td>Enables the SQL Server Database Engine to abort a request when the maximum time set by Resource Governor <code>REQUEST_MAX_CPU_TIME_SEC</code> configuration is exceeded. For more information, see <a href="https://support.microsoft.com/help/4038419" data-linktype="external">KB4038419</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 2, SQL Server 2017 (14.x) CU 3, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2430"></a><strong>2430</strong></td>
<td>Enables alternate lock class cleanup. For more information, see <a href="https://support.microsoft.com/help/2754301" data-linktype="external">KB2754301</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2446"></a><strong>2446</strong></td>
<td>Causes SQL Server to generate a Showplan XML fragment with the <code>ParameterRuntimeValue</code> when using the lightweight query execution statistics profiling infrastructure or executing the <code>sys.dm_exec_query_statistics_xml</code> DMV while troubleshooting long running queries.<br><br><strong>Applies to</strong>: SQL Server 2017 (14.x) CU 31, SQL Server 2019 (15.x) CU 19, and SQL Server 2022 (16.x) and later versions.<br><br><strong>Warning</strong>: Trace flag 2446 isn't meant to be enabled continuously in a production environment, but only for time-limited troubleshooting purposes. Using this trace flag introduces additional and possibly significant CPU and memory overhead as we create a Showplan XML fragment with runtime parameter information, whether the <code>sys.dm_exec_query_statistics_xml</code> DMV is called or not.<br><br><strong>Note</strong>: Starting with SQL Server 2022 (16.x), to accomplish this at the database level see the <code>FORCE_SHOWPLAN_RUNTIME_PARAMETER_COLLECTION</code> option in <a href="../statements/alter-database-scoped-configuration-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SCOPED CONFIGURATION</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2451"></a><strong>2451</strong></td>
<td>Enables the equivalent of the last actual execution plan in <code>sys.dm_exec_query_plan_stats</code>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions.<br><br><strong>Note</strong>: Starting with SQL Server 2019 (15.x) to accomplish this at the database level, see the LAST_QUERY_PLAN_STATS option in <a href="../statements/alter-database-scoped-configuration-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SCOPED CONFIGURATION</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2453"></a><strong>2453</strong></td>
<td>Allows a table variable to trigger recompile when enough number of rows are changed. For more information, see <a href="https://support.microsoft.com/help/2952444" data-linktype="external">KB2952444</a>.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment. Starting with SQL Server 2019 (15.x), this became <a href="../../relational-databases/performance/intelligent-query-processing-details?view=sql-server-ver17#table-variable-deferred-compilation" data-linktype="relative-path">table variable deferred compilation</a>, and trace flag 2453 has no effect.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2467"></a><strong>2467</strong></td>
<td>Enables an alternate parallel worker thread allocation policy, based on which node has the least allocated threads. For more information, see <a href="../../relational-databases/query-processing-architecture-guide?view=sql-server-ver17#parallel-query-processing" data-linktype="relative-path">Parallel Query Processing</a>. Refer to <a href="../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option?view=sql-server-ver17" data-linktype="relative-path">Server configuration: max worker threads</a> for information on configuring the max worker threads server option.<br><br><strong>Note</strong>: Query degree of parallelism (DOP) has to fit into a single node for this alternate policy to be used, or the default thread allocation policy is used instead. Using this trace flag, it isn't recommended to execute queries specifying a DOP over the number of schedulers in a single node, as this could interfere with queries specifying a DOP below or equal to the number of schedulers in a single node.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2469"></a><strong>2469</strong></td>
<td>Enables alternate exchange for <code>INSERT INTO ... SELECT</code> into a partitioned columnstore index. For more information, see <a href="https://support.microsoft.com/help/3204769" data-linktype="external">KB3204769</a>.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf2528"></a><strong>2528</strong></td>
<td>Disables parallel checking of objects by <code>DBCC CHECKDB</code>, <code>DBCC CHECKFILEGROUP</code>, and <code>DBCC CHECKTABLE</code>. By default, the degree of parallelism is automatically determined by the query processor. The maximum degree of parallelism is configured just like that of parallel queries. For more information, see <a href="../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option?view=sql-server-ver17" data-linktype="relative-path">Server configuration: max degree of parallelism</a>.<br><br><strong>Note</strong>: Parallel DBCC checks should typically be enabled (default). The query processor reevaluates and automatically adjusts parallelism for each table or batch of tables checked by <code>DBCC CHECKDB</code>.<br><br>The typical use scenario is when a system administrator knows that server load might increase before <code>DBCC CHECKDB</code> completes, and so chooses to manually decrease or disable parallelism, in order to increase concurrency with other user workload. However, disabling parallel checks in <code>DBCC CHECKDB</code> can cause it to take longer to complete.<br><br><strong>Note</strong>: If <code>DBCC CHECKDB</code> is executed using the <code>TABLOCK</code> option and parallelism is disabled, tables might be locked for longer periods of time.<br><br><strong>Note</strong>: Starting with SQL Server 2014 (12.x) Service Pack 2, a MAXDOP option is available to override the max degree of parallelism configuration option of <code>sp_configure</code> for the DBCC statements.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf2544"></a><strong>2544</strong></td>
<td>Causes a memory dump of SQL Server to become a full dump (default is mini dump). Full dumps are a complete copy of the active target process memory. That would include all thread state, all process allocated memory, and all loaded modules. Full dumps therefore have a size roughly the amount of memory used by SQL Server process, which in turn can be almost as large as total system RAM. On large servers dedicated to a single SQL Server instance, it could mean a file that's several hundreds of gigabytes or more.<br><br><strong>Warning</strong>: Generating a full memory dump can suspend the SQL Server process for an extended period of time (several seconds to several minutes) and can generate a very large dump file. Use this with caution and only rarely if the situation requires it.<br><br>For more detailed information, see <a href="/en-us/troubleshoot/sql/tools/use-sqldumper-generate-dump-file" data-linktype="absolute-path">Use the Sqldumper.exe tool to generate a dump file in SQL Server</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2549"></a><strong>2549</strong></td>
<td>Forces the <code>DBCC CHECKDB</code> command to assume each database file is on a unique disk drive but treating different physical files as one logical file. <code>DBCC CHECKDB</code> command builds an internal list of pages to read per unique disk drive across all database files. This logic determines unique disk drives based on the drive letter of the physical file name of each file.<br><br><strong>Note</strong>: Don't use this trace flag unless you know that each file is based on a unique physical disk.<br><br><strong>Note</strong>: Although this trace flag improves the performance of the <code>DBCC CHECKDB</code> commands that target usage of the <code>PHYSICAL_ONLY</code> option, some users might not see any improvement in performance. While this trace flag improves disk I/O resources usage, the underlying performance of disk resources could limit the overall performance of the <code>DBCC CHECKDB</code> command. For more information, see <a href="https://support.microsoft.com/help/2634571" data-linktype="external">KB2634571</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2551"></a><strong>2551</strong></td>
<td>Causes a memory dump of SQL Server to become a filtered dump (default is mini dump). This captures a percentage of full memory, where large areas of memory structures pertaining to SQL Server are purposefully filtered out and not serialized to disk as they bring no troubleshooting added value (typically, data/index pages, some internal caches like In-Memory OLTP data pages and Log Pool memory). This results in a file, which is smaller than a full memory dump while retaining most of its usefulness as preferred option in most situations where mini dumps aren't sufficient. For more detailed information, see <a href="/en-us/troubleshoot/sql/tools/use-sqldumper-generate-dump-file" data-linktype="absolute-path">Use the Sqldumper.exe tool to generate a dump file in SQL Server</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2562"></a><strong>2562</strong></td>
<td>Runs the <code>DBCC CHECKDB</code> command in a single "batch" regardless of the number of indexes in the database. By default, the <code>DBCC CHECKDB</code> command tries to minimize <code>tempdb</code> resources by limiting the number of indexes or "facts" that it generates by using a "batches" concept. But this trace flag forces all processing into one batch.<br><br>One effect of using this trace flag is that the space requirements for <code>tempdb</code> might increase. <code>tempdb</code> could grow to as much as 5 percent or more of the user database that's being processed by the <code>DBCC CHECKDB</code> command.<br><br><strong>Note</strong>: Although this trace flag improves the performance of the <code>DBCC CHECKDB</code> commands that target usage of the <code>PHYSICAL_ONLY</code> option, some users might not see any improvement in performance. While this trace flag improves disk I/O resources usage, the underlying performance of disk resources might limit the overall performance of the <code>DBCC CHECKDB</code> command. For more information, see <a href="https://support.microsoft.com/help/2634571" data-linktype="external">KB2634571</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf2566"></a><strong>2566</strong></td>
<td>Runs the <code>DBCC CHECKDB</code> command without data purity check unless the <code>DATA_PURITY</code> option is specified.<br><br><strong>Note</strong>: Column-value integrity checks are enabled by default and don't require the DATA_PURITY option. For databases upgraded from earlier versions of SQL Server, column-value checks aren't enabled by default until <code>DBCC CHECKDB WITH DATA_PURITY</code> has been run error free on the database at least once. After this, <code>DBCC CHECKDB</code> checks column-value integrity by default. For more information, see an archived version of <a href="https://www.betaarchive.com/wiki/index.php?title=Microsoft_KB_Archive/945770" data-linktype="external">KB945770</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf2592"></a><strong>2592</strong></td>
<td>Enables symbol resolution on stack dumps when the <em>Debugging Tools for Windows</em> are installed. For example, using trace flag 3656 requires that trace flag 2592 is enabled.<br><br><strong>Warning</strong>: This is a debugging trace flag and not meant for production environment use.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf2610"></a><strong>2610</strong></td>
<td>Enables memory dump compression and faster dump generation with <strong>SQLDumper</strong> and via <code>DBCC STACKDUMP</code>. For more information, see <a href="/en-us/troubleshoot/sql/tools/use-sqldumper-generate-dump-file#parallel-compression-of-memory-dumps" data-linktype="absolute-path">Use the Sqldumper.exe utility to generate a dump file in SQL Server</a>.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 8, SQL Server 2019 (15.x) CU 23, and later versions.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf2616"></a><strong>2616</strong></td>
<td>Enables the stack signature feature to make <strong>Sqldumper.exe</strong> generate a single dump per unique stack signature per hour, which avoids potential dump flooding problems when the same issue repeats frequently within one hour.<br><br>When this trace flag is enabled, the format of the dump file changes from <code>SQLDump&lt;xxxx&gt;.mdmp</code> or <code>SQLDmpr&lt;xxxx&gt;.mdmp</code> to <code>SQLDmpr&lt;xxxx&gt;.P&lt;xxxxx.xxxxxxxx&gt;.T&lt;xxxxxxxxxxxxxx&gt;.{&lt;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&gt;}.dmp</code> (for example, <code>SQLDmpr0024.P26900.66D498FA.T20240117034050.{eec59a9e-d615-4ac4-a46a-f650fee23787}.dmp</code>).<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 12 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3015"></a><strong>3015</strong></td>
<td>Disables <a href="../../relational-databases/backup-restore/sql-server-backup-to-url?view=sql-server-ver17#azure-immutable-storage-support" data-linktype="relative-path">writing backups to Azure immutable storage</a>.<br><br><strong>Applies to</strong>: SQL Server 2025 (17.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3023"></a><strong>3023</strong></td>
<td>Enables <code>CHECKSUM</code> option as default for <code>BACKUP</code> command.<br><br><strong>Note</strong>: Starting with SQL Server 2014 (12.x), this behavior is controlled by setting the <strong>backup checksum default</strong> configuration option. For more information, see <a href="../../database-engine/configure-windows/backup-checksum-default?view=sql-server-ver17" data-linktype="relative-path">backup checksum default</a> and <a href="../../database-engine/configure-windows/server-configuration-options-sql-server?view=sql-server-ver17" data-linktype="relative-path">Server configuration options</a>.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf3042"></a><strong>3042</strong></td>
<td>Bypasses the default backup compression preallocation algorithm to allow the backup file to grow only as needed to reach its final size. This trace flag is useful if you need to save on space by allocating only the actual size required for the compressed backup. Using this trace flag might cause a slight performance penalty (a possible increase in the duration of the backup operation). For more information about the preallocation algorithm, see <a href="../../relational-databases/backup-restore/backup-compression-sql-server?view=sql-server-ver17" data-linktype="relative-path">Backup compression (SQL Server)</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3051"></a><strong>3051</strong></td>
<td>Enables SQL Server Backup to URL logging for page blobs in Azure Storage only. Logging writes to a specific error log file. For more information, see <a href="../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting?view=sql-server-ver17#troubleshooting-backup-to-or-restore-from-url" data-linktype="relative-path">SQL Server Backup to URL Best Practices and Troubleshooting</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3205"></a><strong>3205</strong></td>
<td>By default, if a tape drive supports hardware compression, either the <code>DUMP</code> or <code>BACKUP</code> statement uses it. With this trace flag, you can disable hardware compression for tape drivers. This is useful when you want to exchange tapes with other sites or tape drives that don't support compression.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf3226"></a><strong>3226</strong></td>
<td>By default, every successful backup and restore operation adds an entry in the SQL Server error log and in the system event log. If you create frequent log backups, these success messages accumulate quickly, resulting in huge error logs in which finding other messages becomes problematic.<br><br>With this trace flag, you can suppress backup and restore log entries. This is useful if you're running frequent log backups and if none of your scripts depend on those entries.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3261"></a><strong>3261</strong></td>
<td>Disables differential database backups on secondary replica of an Always On availability group.<br><br><strong>Applies to</strong>: SQL Server 2025 (17.x)<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3262"></a><strong>3262</strong></td>
<td>Disables full database backups on secondary replica of an Always On availability group.<br><br><strong>Applies to</strong>: SQL Server 2025 (17.x)<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3427"></a><strong>3427</strong></td>
<td>Enables a fix for an issue when many consecutive transactions insert data into temp tables in SQL Server 2016 (13.x) where this operation consumes more CPU than in SQL Server 2014 (12.x). For more information, see <a href="https://support.microsoft.com/help/3216543" data-linktype="external">KB3216543</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 1 CU 2 through SQL Server 2016 (13.x) Service Pack 2 CU 2. Starting with SQL Server 2016 (13.x) Service Pack 2 CU 3 and SQL Server 2017 (14.x), this trace flag has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3428"></a><strong>3428</strong></td>
<td>The Always On Redo Thread on a secondary replica can sometimes be blocked by T-SQL queries, which can cause delays in synchronization. This trace flag terminates such blocking queries by setting their lock timeout to 60 seconds. For more information on Redo thread latency, see <a href="../../database-engine/availability-groups/windows/troubleshoot-primary-changes-not-reflected-on-secondary?view=sql-server-ver17#BKMK_REDOBEHIND" data-linktype="relative-path">Redo thread falls behind due to resource contention</a> and <a href="https://techcommunity.microsoft.com/blog/sqlserversupport/troubleshooting-redo-queue-build-up-data-latency-issues-on-alwayson-readable-sec/318488" data-linktype="external">Troubleshooting REDO queue build-up (data latency issues) on Always On Readable Secondary Replicas</a>.<br><br><strong>Warning</strong>: Be sure that you test and understand this option before deploying it in a production environment as queries might be terminated.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x)<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3459"></a><strong>3459</strong></td>
<td>Disables parallel redo. For more information, see <a href="https://support.microsoft.com/help/3200975" data-linktype="external">KB3200975</a>, <a href="https://support.microsoft.com/help/4101554" data-linktype="external">KB4101554</a> and this blog post, <a href="https://techcommunity.microsoft.com/blog/sqlserver/sql-server-20162017-availability-group-secondary-replica-redo-model-and-performa/385905" data-linktype="external">Availability group secondary replica redo model and performance</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x), SQL Server 2017 (14.x), and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3468"></a><strong>3468</strong></td>
<td>Disables <a href="../../relational-databases/logs/database-checkpoints-sql-server?view=sql-server-ver17#IndirectChkpt" data-linktype="relative-path">indirect checkpoints</a> on <code>tempdb</code>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 1 CU 5, SQL Server 2017 (14.x) CU 1, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3502"></a><strong>3502</strong></td>
<td>Used to send checkpoint state changes to the error log.<br><br><strong>Applies to</strong>: SQL Server 2012 (11.x) and later versions.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf3605"></a><strong>3605</strong></td>
<td>Redirects tracing messages to the SQL Server error log. For example, using trace flags 205 and 8721 require trace flag 3605 to be enabled.<br><br><strong>Warning</strong>: This is a debugging trace flag and not meant to be enabled continuously in a production environment.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf3608"></a><strong>3608</strong></td>
<td>Prevents SQL Server from automatically starting and recovering any database except the <code>master</code> database. If activities that require <code>tempdb</code> are initiated, then <code>model</code> is recovered and <code>tempdb</code> is created. Other databases are started and recovered when accessed. Some features, such as snapshot isolation and read committed snapshot, might not work. Use for <a href="../../relational-databases/databases/move-system-databases?view=sql-server-ver17" data-linktype="relative-path">Move system databases</a> and <a href="../../relational-databases/databases/move-user-databases?view=sql-server-ver17" data-linktype="relative-path">Move user databases</a>.<br><br><strong>Note</strong>: Don't use during normal operation.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3625"></a><strong>3625</strong></td>
<td>Limits the amount of information returned to users who aren't authenticated as members of the <strong>sysadmin</strong> fixed server role, by masking the parameters of some error messages using <code>'******'</code>. This can help prevent disclosure of sensitive information.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3656"></a><strong>3656</strong></td>
<td>Enables symbol resolution on stack dumps when the Debugging Tools for Windows are installed.<br><br><strong>Warning</strong>: This is a debugging trace flag and not meant for production environment use.<br><br><strong>Note</strong>: Starting with SQL Server 2019 (15.x), <a href="#tf2592" data-linktype="self-bookmark">trace flag 2592</a> must be enabled with trace flag 3656 to enable symbol resolution.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf3880"></a><strong>3880</strong></td>
<td>Disable the timer task that checks the state of a resumable index.<br><br><strong>Applies to</strong>: SQL Server 2017 (14.x) and later versions and is intended for high-end systems with high performance workloads.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf3924"></a><strong>3924</strong></td>
<td>Enables automatic removal of orphaned DTC transactions with <code>SPID = -2</code>, which is a problem for some third party transaction monitors. For more information, see <a href="https://support.microsoft.com/help/4519668" data-linktype="external">KB4519668</a> and <a href="https://support.microsoft.com/help/4511816" data-linktype="external">KB4511816</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf3972"></a><strong>3972</strong></td>
<td>Disables concurrent Page Free Space (PFS) updates feature. For more information on concurrent PFS updates, see <a href="../../sql-server/what-s-new-in-sql-server-2019?view=sql-server-ver17#intelligent-performance" data-linktype="relative-path">Intelligent Performance</a>. For an issue where this trace flag is useful see Non-yielding scheduler dumps during the recovery of a secondary availability database with a database snapshot <a href="https://support.microsoft.com/help/5007794" data-linktype="external">KB5007794</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf4022"></a><strong>4022</strong></td>
<td>Disables automatic execution of stored procedures when SQL Server starts. For more information about automatic execution of startup stored procedures, see <a href="../../relational-databases/system-stored-procedures/sp-procoption-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sp_procoption</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf4043"></a><strong>4043</strong></td>
<td>Fixes an error that occurs when you apply a security policy on PolyBase external table and use Row-Level Security (RLS) in SQL Server 2019 (15.x). The error message resembles the following text: "Security predicates can only be added to user tables and schema bound views" For more information, see <a href="https://support.microsoft.com/help/4552159" data-linktype="external">KB4552159</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf4136"></a><strong>4136</strong></td>
<td>Disables parameter sniffing unless <code>OPTION(RECOMPILE)</code>, <code>WITH RECOMPILE</code>, or <code>OPTIMIZE FOR &lt;value&gt;</code> is used. For more information, see <a href="https://support.microsoft.com/help/980653" data-linktype="external">KB980653</a>.<br><br>Starting with SQL Server 2016 (13.x), to accomplish this at the database level, see the <code>PARAMETER_SNIFFING</code> option in <a href="../statements/alter-database-scoped-configuration-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SCOPED CONFIGURATION</a>. To accomplish the same result at the query level, add the <code>OPTIMIZE FOR UNKNOWN</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a>. The <code>OPTIMIZE FOR UNKNOWN</code> hint doesn't disable the parameter sniffing mechanism, but effectively bypasses it to achieve the same intended result.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, a second option to accomplish this at the query level is to add the <code>USE HINT 'DISABLE_PARAMETER_SNIFFING'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf4137"></a><strong>4137</strong></td>
<td>Causes SQL Server to generate a plan using minimum selectivity when estimating AND predicates for filters to account for partial correlation instead of independence, under the query optimizer cardinality estimation (CE) model of SQL Server 2012 (11.x) and earlier (70). For more information, see <a href="https://support.microsoft.com/help/2658214" data-linktype="external">KB2658214</a>.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag when using the CE 70.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Note</strong>: This trace flag doesn't apply to CE version 120 or above. Use <a href="#tf9471" data-linktype="self-bookmark">trace flag 9471</a> instead.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf4138"></a><strong>4138</strong></td>
<td>Causes SQL Server to generate a plan that doesn't use row goal adjustments with queries that contain <code>TOP</code>, <code>OPTION (FAST &lt;n&gt;)</code>, <code>IN</code>, or <code>EXISTS</code> keywords. For more information, see <a href="https://support.microsoft.com/help/2667211" data-linktype="external">KB2667211</a>.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'DISABLE_OPTIMIZER_ROWGOAL'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf4139"></a><strong>4139</strong></td>
<td>Enable automatically generated quick statistics (histogram amendment) regardless of key column status. If trace flag 4139 is set, regardless of the leading statistics column status (ascending, descending, or stationary), the histogram used to estimate cardinality is adjusted at query compile time. For more information, see <a href="https://support.microsoft.com/help/2952101" data-linktype="external">KB2952101</a>.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Note</strong>: This trace flag doesn't apply to CE version 70. Use trace flags 2389 and 2390 instead.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf4199"></a><strong>4199</strong></td>
<td>Enables Query Optimizer (QO) fixes released in SQL Server Cumulative Updates and Service Packs.<br><br>QO changes that are made to previous releases of SQL Server are enabled by default under the latest database <a href="../statements/alter-database-transact-sql-compatibility-level?view=sql-server-ver17" data-linktype="relative-path">compatibility level</a> in a given product release, without trace flag 4199 being enabled. For more information, see <a href="https://support.microsoft.com/help/974006" data-linktype="external">KB974006</a>.<br><br><strong>QO changes from all previous database compatibility levels</strong>:<br>- If trace flag 4199 is enabled, query optimizer changes from all previous database compatibility levels are also enabled.<br>- If trace flag 4199 is disabled or not set, query optimizer changes are enabled starting with compatibility level 130. For compatibility levels below 130, query optimizer changes are disabled.<br><br><strong>QO changes for DE version post-RTM</strong>:<br>- If trace flag 4199 is enabled, query optimizer changes are enabled for the Database Engine version post-RTM.<br>- If trace flag 4199 is disabled or not set, query optimizer changes are disabled for the Database Engine version post-RTM.<br><br>Starting with SQL Server 2016 (13.x), to accomplish this at the database level, see the <code>QUERY_OPTIMIZER_HOTFIXES</code> option in <a href="../statements/alter-database-scoped-configuration-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SCOPED CONFIGURATION</a>.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'ENABLE_QUERY_OPTIMIZER_HOTFIXES'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Important</strong>: Query Optimizer fixes that address wrong results or access violation errors aren't enabled by trace flag 4199. Those fixes aren't considered optional and become enabled by default once the update package is installed.<br><br><strong>Scope</strong>: Global or session or query (<code>QUERYTRACEON</code>).</td>
</tr>
<tr>
<td><a id="tf4610"></a><strong>4610</strong></td>
<td>Increases the size of the hash table that stores the cache entries by a factor of 8. When used together with trace flag 4618, increases the number of entries in the TokenAndPermUserStore cache store to 8,192. For more information on troubleshooting TokenAndPermUserStore cache size issues, see <a href="/en-us/troubleshoot/sql/database-engine/performance/token-and-perm-user-store-perf-issue" data-linktype="absolute-path">Queries take longer to finish when the size of the TokenAndPermUserStore cache grows in SQL Server</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf4616"></a><strong>4616</strong></td>
<td>Makes server-level metadata visible to application roles. In SQL Server, an application role can't access metadata outside its own database because application roles aren't associated with a server-level principal. This is a change of behavior from earlier versions of SQL Server. Setting this global flag disables the new restrictions, and allows for application roles to access server-level metadata.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf4618"></a><strong>4618</strong></td>
<td>Limits the number of entries in the TokenAndPermUserStore cache store to 1,024. When used together with trace flag 4610, trace flag 4618 increases the number of entries in the TokenAndPermUserStore cache store to 8,192. For more information on troubleshooting TokenAndPermUserStore cache size issues, see <a href="/en-us/troubleshoot/sql/database-engine/performance/token-and-perm-user-store-perf-issue" data-linktype="absolute-path">Queries take longer to finish when the size of the TokenAndPermUserStore cache grows in SQL Server</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf4621"></a><strong>4621</strong></td>
<td>Limits the number of entries in the TokenAndPermUserStore cache store to the number specified by the user in a registry key. For more information, see <a href="../../database-engine/configure-windows/access-check-cache-server-configuration-options?view=sql-server-ver17" data-linktype="relative-path">access check cache Server Configuration Options</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf4631"></a><strong>4631</strong></td>
<td>Disables SHA2_256/AES256 for hashing passwords that generate encryption keys. Starting in SQL Server 2017 (14.x), SHA2 is used instead of SHA1. This means extra steps might be necessary to have your SQL Server 2017 (14.x) installation decrypt items that were encrypted by SQL Server 2016 (13.x), as described in <a href="../../relational-databases/security/encryption/create-identical-symmetric-keys-on-two-servers?view=sql-server-ver17#encryption-changes-in-sql-server-2017-cu2" data-linktype="relative-path">Create identical symmetric keys on two servers</a>. For more information, see <a href="https://support.microsoft.com/help/4053407" data-linktype="external">KB4053407</a>.<br><br><strong>Applies to</strong>: SQL Server 2017 (14.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf4675"></a><strong>4675</strong></td>
<td>Enable checks on <em>create credential for managed identity</em> on a SQL Server on Azure VM if Microsoft Entra authentication is enabled.<br><br>Enables diagnostics for the <code>CREATE CREDENTAIL WITH IDENTITY = 'Managed Identity'</code> statement. The trace flag provides information about the primary managed identity and its setting for SQL Server on Azure VM.<br><br><strong>Note</strong>: If the <code>CREATE CREDENTIAL</code> statement was executed without trace flag 4675 enabled, no error message is issued if the primary managed identity isn't set for the server. To troubleshoot this scenario, the credential must be deleted and recreated again once the trace flag is enabled.<br><br><strong>Warning</strong>: Trace flag 4675 isn't meant to be enabled continuously in a production environment, and only for time-limited troubleshooting sessions.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf5004"></a><strong>5004</strong></td>
<td>Pauses TDE encryption scan and causes encryption scan worker to exit without doing any work. The database continues to be in encrypting state (encryption in progress). To resume re-encryption scan, disable trace flag 5004 and run <code>ALTER DATABASE &lt;database_name&gt; SET ENCRYPTION ON</code>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf6408"></a><strong>6408</strong></td>
<td>Enables visibility of the estimated execution plan to see the remote query plan of PolyBase pushdown computation.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions. For more information, see <a href="../../relational-databases/polybase/polybase-how-to-tell-pushdown-computation?view=sql-server-ver17" data-linktype="relative-path">How to tell if external pushdown occurred</a>.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf6498"></a><strong>6498</strong></td>
<td>Enables more than one large query compilation to gain access to the large gateway when there's sufficient memory available. This trace flag can be used to keep memory usage for the compilation of incoming queries under control, avoiding compilation waits for concurrent large queries. It's based on a value of 80 percent of SQL Server Target Memory, and it allows for one large query compilation per 25 GB of memory. For more information, see <a href="https://support.microsoft.com/help/3024815" data-linktype="external">KB3024815</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2014 (12.x) Service Pack 2 and SQL Server 2016 (13.x), this behavior is controlled by the Database Engine and trace flag 6498 has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf6527"></a><strong>6527</strong></td>
<td>Disables generation of a memory dump on the first occurrence of an out-of-memory exception in CLR integration. By default, SQL Server generates a small memory dump on the first occurrence of an out-of-memory exception in the CLR. The behavior of the trace flag is as follows:<br><br>- If this is used as a startup trace flag, a memory dump is never generated. However, a memory dump might be generated if other trace flags are used.<br>- If this trace flag is enabled on a running server, a memory dump isn't automatically generated from that point on. However, if a memory dump has already been generated due to an out-of-memory exception in the CLR, this trace flag has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf6531"></a><strong>6531</strong></td>
<td>Disables preemptive scheduling protection for query operations with spatial data types. This can reduce the CPU consumption and improve the overall performance for some spatial activities. For more information, see <a href="https://support.microsoft.com/help/3005300" data-linktype="external">KB3005300</a>.<br><br><strong>Note</strong>: Only use this trace flag if the individual spatial method invocations (per row and column) take less than ~4ms and result in frequent non-yielding scheduler errors.<br><br><strong>Applies to</strong>: SQL Server 2012 (11.x) Service Pack 2 CU 4, SQL Server 2014 (12.x) CU 5, and later versions.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf6532"></a><strong>6532</strong></td>
<td>Enables performance improvement of query operations with spatial data types in SQL Server 2012 (11.x) and SQL Server 2014 (12.x). The performance gain varies, depending on the configuration, the types of queries, and the objects. For more information, see <a href="https://support.microsoft.com/help/3107399" data-linktype="external">KB3107399</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2016 (13.x), this behavior is controlled by the Database Engine and trace flag 6532 has no effect.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf6533"></a><strong>6533</strong></td>
<td>Enables performance improvement of query operations with spatial data types in SQL Server 2012 (11.x) and SQL Server 2014 (12.x). The performance gain varies, depending on the configuration, the types of queries, and the objects. For more information, see <a href="https://support.microsoft.com/help/3107399" data-linktype="external">KB3107399</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2016 (13.x), this behavior is controlled by the Database Engine and trace flag 6533 has no effect.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf6534"></a><strong>6534</strong></td>
<td>Enables performance improvement of query operations with spatial data types beginning with SQL Server 2012 (11.x). The performance gain varies, depending on the configuration, the types of queries, and the objects. For more information, see <a href="https://support.microsoft.com/help/3107399" data-linktype="external">KB3107399</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf6545"></a><strong>6545</strong></td>
<td>Enables CLR strict security. For more information, see <a href="https://support.microsoft.com/help/4018930" data-linktype="external">KB4018930</a>.<br><br><strong>Applies to</strong>: SQL Server 2012 (11.x) Service Pack 3 CU 10, SQL Server 2014 (12.x) Service Pack 2 CU 6, SQL Server 2016 (13.x) RTM CU 7, SQL Server 2016 (13.x) Service Pack 1 CU 4, and later versions. Starting with SQL Server 2017 (14.x), this feature is enabled by default and trace flag 6545 has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf6559"></a><strong>6559</strong></td>
<td>Enables fix that changes default CLR threading model logic. For more information, see <a href="https://support.microsoft.com/help/4517771" data-linktype="external">KB4517771</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 2 CU 10, SQL Server 2017 (14.x) CU 18, SQL Server 2019 (15.x) CU 1, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf7117"></a><strong>7117</strong></td>
<td>Mitigates an assertion failure that you might encounter when you have multiple nested inserts. This trace flag enables the persistent version store (PVS) cleaner thread to proceed, if the PVS bit is set for a row that might have been part of an aborted transaction. This trace flag allows the PVS cleaner to ignore the bit and continue the cleaning operation.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 9 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf7314"></a><strong>7314</strong></td>
<td>Forces <code>NUMBER</code> values with unknown precision/scale to be treated as double values with OLE DB provider. For more information, see <a href="https://support.microsoft.com/help/3051993" data-linktype="external">KB3051993</a>.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf7412"></a><strong>7412</strong></td>
<td>Enables the lightweight query execution statistics profiling infrastructure. For more information, see <a href="https://support.microsoft.com/help/3170113" data-linktype="external">KB3170113</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 1 and later versions. Starting with SQL Server 2019 (15.x), this trace flag has no effect because lightweight profiling is enabled by default.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf7470"></a><strong>7470</strong></td>
<td>Enables additional computations for memory grants required for sort operations. For more information, see <a href="https://support.microsoft.com/help/3088480" data-linktype="external">KB3088480</a>.<br><br><strong>Applies to</strong>: SQL Server 2012 (11.x) Service Pack 2 CU 8, SQL Server 2014 (12.x) RTM CU 10, SQL Server 2014 (12.x) Service Pack 1 CU 3, and later versions.<br><br><strong>Warning</strong>: Trace flag 7470 increases memory requirements for queries using sort operators, and might affect memory availability for other concurrent queries.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf7471"></a><strong>7471</strong></td>
<td>Enables running multiple <a href="../statements/update-statistics-transact-sql?view=sql-server-ver17" data-linktype="relative-path">UPDATE STATISTICS</a> for different statistics on a single table concurrently. For more information, see <a href="https://support.microsoft.com/help/3156157" data-linktype="external">KB3156157</a>.<br><br><strong>Applies to</strong>: SQL Server 2014 (12.x) Service Pack 1 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf7745"></a><strong>7745</strong></td>
<td>Forces Query Store to not flush data to disk on database shutdown.<br><br><strong>Note</strong>: Using this trace flag might cause Query Store data not previously flushed to disk to be lost if the server shuts down. For a SQL Server shutdown, the command <code>SHUTDOWN WITH NOWAIT</code> can be used instead of this trace flag to force an immediate shutdown.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf7752"></a><strong>7752</strong></td>
<td>Enables asynchronous load of Query Store.<br><br><strong>Note</strong>: Use this trace flag if SQL Server is experiencing high number of QDS_LOADDB waits related to Query Store synchronous load (default behavior during database recovery).<br><br><strong>Note</strong>: Starting with SQL Server 2019 (15.x), this behavior is controlled by the Database Engine and trace flag 7752 has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf7806"></a><strong>7806</strong></td>
<td>Enables a dedicated administrator connection (DAC) on SQL Server Express. By default, no DAC resources are reserved on SQL Server Express. For more information, see <a href="../../database-engine/configure-windows/diagnostic-connection-for-database-administrators?view=sql-server-ver17" data-linktype="relative-path">Diagnostic connection for database administrators</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8011"></a><strong>8011</strong></td>
<td>Disable the ring buffer for Resource Monitor. You can use the diagnostic information in this ring buffer to diagnose out-of-memory conditions. Therefore, if you use this trace flag, the information that's available to diagnose performance and functional problems with SQL Server is greatly reduced. Trace flag 8011 always applies across the server and has global scope. You can turn on trace flag 8011 at startup or in a user session.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8012"></a><strong>8012</strong></td>
<td>Disable the ring buffer for schedulers. SQL Server records an event in the schedule ring buffer every time that one of the following events occurs:<br><br>- A scheduler switches context to another worker<br>- A worker is suspended<br>- A worker is resumed<br>- A worker enters the preemptive mode or the non-preemptive mode.<br><br>You can use the diagnostic information in this ring buffer to analyze scheduling problems. For example, you can use the information in this ring buffer to troubleshoot problems when SQL Server stops responding. Trace flag 8012 disables recording of events for schedulers. You can turn on trace flag 8012 only at startup.<br><br><strong>Warning</strong>: When you use this trace flag, the information that's available for you to diagnose performance and functional problems with SQL Server is greatly reduced.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8015"></a><strong>8015</strong></td>
<td>Disable autodetection and NUMA setup. For more information, see <a href="https://support.microsoft.com/help/2813214" data-linktype="external">KB2813214</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8018"></a><strong>8018</strong></td>
<td>Disable the exception ring buffer. The exception ring buffer records the last 256 exceptions that are raised on a node. Each record contains some information about the error and contains a stack trace. A record is added to the ring buffer when an exception is raised. Trace flag 8018 disables the creation of the ring buffer, and no exception information is recorded. Trace flag 8019 disables stack collection during the record creation.<br><br><strong>Warning</strong>: When you use this trace flag, the information that's available for you to diagnose performance and functional problems with SQL Server is greatly reduced.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8019"></a><strong>8019</strong></td>
<td>Disable stack collection for the exception ring buffer. Trace flag 8019 has no effect if trace flag 8018 is turned on.<br><br><strong>Warning</strong>: When you use this trace flag, the information that's available for you to diagnose performance and functional problems with SQL Server is greatly reduced.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8020"></a><strong>8020</strong></td>
<td>Disable working set monitoring. SQL Server uses the size of the working set when it receives global memory state signals from the operating system. Trace flag 8020 removes the size of the working set memory from consideration when SQL Server interprets the global memory state signals. If you use this trace flag incorrectly, heavy paging might occur, and the performance might be poor. Therefore, contact Microsoft Support before you turn on trace flag 8020. You can turn on trace flag 8020 only at startup.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8026"></a><strong>8026</strong></td>
<td>SQL Server clears a dump trigger after generating the dump once. If used with trace flag 2551 or trace flag 2544, the option indicating the largest memory dump is honored. For more information, see <a href="/en-us/troubleshoot/sql/tools/use-sqldumper-generate-dump-file#filtered-dumps" data-linktype="absolute-path">Filtered dumps</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8032"></a><strong>8032</strong></td>
<td>Reverts the cache limit parameters to the SQL Server 2005 (9.x) setting, which in general allows caches to be larger. Use this setting when frequently reused cache entries don't fit into the cache and when the <a href="../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option?view=sql-server-ver17" data-linktype="relative-path">optimize for ad hoc workloads Server Configuration Option</a> has failed to resolve the problem with plan cache.<br><br><strong>Warning</strong>: Trace flag 8032 can cause poor performance if large caches make less memory available for other memory consumers, such as the buffer pool.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8048"></a><strong>8048</strong></td>
<td>Converts NUMA partitioned memory objects into CPU partitioned. For more information, see <a href="https://support.microsoft.com/help/2809338" data-linktype="external">KB2809338</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2014 (12.x) Service Pack 2 and SQL Server 2016 (13.x), this behavior is dynamic and controlled by the Database Engine.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8075"></a><strong>8075</strong></td>
<td>Reduces <a href="../../relational-databases/memory-management-architecture-guide?view=sql-server-ver17#changes-to-memory-management-starting-2012-11x-gm" data-linktype="relative-path">VAS</a> fragmentation when you receive memory page allocation errors on a 64-bit SQL Server 2012 (11.x) or SQL Server 2014 (12.x). For more information, see <a href="https://support.microsoft.com/help/3074434" data-linktype="external">KB3074434</a>.<br><br><strong>Applies to</strong>: SQL Server 2012 (11.x), SQL Server 2014 (12.x) RTM CU 10, and SQL Server 2014 (12.x) Service Pack 1 CU 3. Starting with SQL Server 2016 (13.x), this behavior is controlled by the Database Engine and trace flag 8075 has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8079"></a><strong>8079</strong></td>
<td>Allows SQL Server 2014 (12.x) Service Pack 2 to interrogate the hardware layout and automatically configure Soft-NUMA on systems reporting 8 or more CPUs per NUMA node. The automatic Soft-NUMA behavior is simultaneous multithreading (SMT/logical processor) aware. The partitioning and creation of additional nodes scales background processing by increasing the number of listeners, scaling, and network and encryption capabilities.<br><br><strong>Applies to</strong>: SQL Server 2014 (12.x) Service Pack 2. Starting with SQL Server 2016 (13.x), this behavior is controlled by the Database Engine and trace flag 8079 has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8086"></a><strong>8086</strong></td>
<td>Disable NUMA locality check for memory commits.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions.<br><br><strong>Scope</strong>: Global.</td>
</tr>
<tr>
<td><a id="tf8089"></a><strong>8089</strong></td>
<td>In SQL Server 2017 (14.x) CU 16, you can enable the bitmap filtering for reducing the size of filtered memory dumps. SQL Server allocates a bitmap that keeps track of memory pages to be excluded from a filtered dump. Sqldumper.exe reads the bitmap and filters out pages without the need to read any other memory manager metadata.<br><br><strong>Applies to</strong>: SQL Server 2017 (14.x) CU 16 through CU 19 only. Starting with SQL Server 2017 (14.x) CU 20 the bitmap filtering is enabled by default. Trace flag 8089 no longer applies, and is ignored if turned on. The bitmap filtering can be disabled via trace flag 8095. For more information, see <a href="https://support.microsoft.com/help/4488943" data-linktype="external">KB4488943</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8095"></a><strong>8095</strong></td>
<td>Disables the bitmap filtering for filtered memory dumps. SQL Server allocates a bitmap that keeps track of memory pages to be excluded from a filtered dump. Sqldumper.exe reads the bitmap and filters out pages without the need to read any other memory manager metadata. This trace flag applies to builds where bitmap filtering is enabled by default.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) CU 13 and later versions, SQL Server 2017 (14.x) CU 20 and later versions, and SQL Server 2019 (15.x).<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8099"></a><strong>8099</strong></td>
<td>Enables a spinlock contention fix for high-end systems running SQL Server 2019 (15.x) serving many concurrent users.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 2 and CU 3 only. Starting with SQL Server 2019 (15.x) CU 4, this behavior is enabled by default. For more information about spinlock contention, see <a href="#tf8101" data-linktype="self-bookmark">trace flag 8101</a>, and <a href="https://support.microsoft.com/help/4538688" data-linktype="external">KB4538688</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x)<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8101"></a><strong>8101</strong></td>
<td>Addresses high CPU usage on modern hardware, such as Intel Skylake processors, with a large number of CPUs and a high number of concurrent users. To diagnose spinlock contention, see the <a href="../../relational-databases/diagnose-resolve-spinlock-contention?view=sql-server-ver17" data-linktype="relative-path">Diagnose and resolve spinlock contention on SQL Server</a> whitepaper.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) only, starting with CU 8, with further improvements introduced in CU 14 and CU 16.<br><br>For more information, see <a href="https://support.microsoft.com/help/4538688" data-linktype="external">KB4538688</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x)<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8102"></a><strong>8102</strong></td>
<td>Addresses a high-CPU scenario caused by spinlock contention on the XVB_LIST spinlock. You can observe this most commonly on high-end systems with a large number of newer generation processors (CPUs). This trace flag can be enabled together with trace flag 8101. While trace flag 8101 changes the spin increment, trace flag 8102 staggers the spinlock backoffs. For more information on backoffs, see <a href="../../relational-databases/diagnose-resolve-spinlock-contention?view=sql-server-ver17#symptoms" data-linktype="relative-path">Diagnose and resolve spinlock contention on SQL Server</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x).<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8121"></a><strong>8121</strong></td>
<td>Fixes a system-wide low memory issue that occurs when SQL Server commits memory above the maximum server memory under the memory model with the Lock Pages In Memory security policy setting. This trace flag affords the memory that the Resource monitor system thread needs in order to reduce SQL Server memory consumption. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2019/cumulativeupdate15" data-linktype="absolute-path">KB5008996</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x). For SQL Server 2022 (16.x) and later versions, this functionality is enabled by default and this trace flag has no effect. If you'd like to disable this default behavior and revert to the older behavior, you can use trace flag 8125. However, in most cases this choice isn't recommended.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8134"></a><strong>8134</strong></td>
<td>Enables the tracking of spinlock waits with the <code>SPINLOCK_EXT</code> wait type. You can enable this trace flag when troubleshooting high CPU utilization, to confirm or rule out a <a href="../../relational-databases/diagnose-resolve-spinlock-contention?view=sql-server-ver17" data-linktype="relative-path">spinlock contention</a> problem. For more information, see <a href="../../relational-databases/system-dynamic-management-views/sys-dm-os-wait-stats-transact-sql?view=sql-server-ver17#spinlock_ext" data-linktype="relative-path">SPINLOCK_EXT</a>.<br><br><strong>Applies to</strong>: SQL Server 2025 (17.x).<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8142"></a><strong>8142</strong></td>
<td>This trace flag partitions the specific spinlock-protected list by CPU, up to 64 partitions. This should be used only on large-memory machines experiencing <code>SOS_BLOCKALLOCPARTIALLIST</code> spinlock contention with elevated CPU utilization. See also <a href="#tf8145" data-linktype="self-bookmark">trace flag 8145</a>. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2019/cumulativeupdate21#2410400" data-linktype="absolute-path">KB5025808</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 21 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8145"></a><strong>8145</strong></td>
<td>Modifies the partitioning enabled by <a href="#tf8142" data-linktype="self-bookmark">trace flag 8142</a> to be per soft-NUMA node, instead of per CPU. You must also enable <a href="#tf8142" data-linktype="self-bookmark">trace flag 8142</a> for this setting to take effect. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2019/cumulativeupdate21#2410400" data-linktype="absolute-path">KB5025808</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 21 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8207"></a><strong>8207</strong></td>
<td>Enables singleton updates for Transactional Replication and CDC. Updates to subscribers can be replicated as a <code>DELETE</code> and <code>INSERT</code> pair. This might not meet business rules, such as firing an <code>UPDATE</code> trigger. With trace flag 8207, an update to a unique column that affects only one row (a singleton update) is replicated as an <code>UPDATE</code> and not as a <code>DELETE</code> or <code>INSERT</code> pair. If the update affects a column on which a unique constraint exists, or if the update affects multiple rows, the update is still replicated as a <code>DELETE</code> or <code>INSERT</code> pair. For more information, see an archived version of <a href="https://www.betaarchive.com/wiki/index.php?title=Microsoft_KB_Archive/302341" data-linktype="external">KB302341</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8239"></a><strong>8239</strong></td>
<td>By default, <a href="../../relational-databases/system-stored-procedures/sys-sp-flush-commit-table-on-demand-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.sp_flush_commit_table_on_demand</a> computes a minimum of hardened cleanup version and safe cleanup version, and proceeds with data deletion from the commit table. When trace flag 8239 is set, a <code>safe_cleanup_version()</code> value less than the cleanup point is ignored, and cleanup runs after rerunning <code>sys.sp_flush_commit_table_on_demand</code>. Incorrect use of this trace flag can lead to data corruption. For more information, see <a href="../../relational-databases/track-changes/cleanup-and-troubleshoot-change-tracking-sql-server?view=sql-server-ver17" data-linktype="relative-path">Troubleshoot change tracking auto cleanup issues</a>.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 3 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8273"></a><strong>8273</strong></td>
<td>Enabling trace flag 8273 disables <a href="../../relational-databases/track-changes/about-change-tracking-sql-server?view=sql-server-ver17#sql-server-2025-changes" data-linktype="relative-path">adaptive shallow cleanup for change tracking</a>.<br><br><strong>Note</strong>: This trace flag applies to SQL Server 2025 (17.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8284"></a><strong>8284</strong></td>
<td>Fixes a manual cleanup issue where the repeated lock escalations on the tables cause contention and slowness in cleaning up the expired change tracking metadata.<br><br><strong>Note</strong>: This trace flag applies to SQL Server 2019 (15.x) CU 21 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8285"></a><strong>8285</strong></td>
<td>Converts an assertion failure (Expression: <code>m_versionStatus.IsVisible ()</code>) to an exception to prevent a dump issue under certain circumstances, when you enable change tracking on a database that has snapshot isolation turned on.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 6, SQL Server 2019 (15.x) CU 21, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8286"></a><strong>8286</strong></td>
<td>Forces the cleanup query to use the <code>FORCE ORDER</code> hint to improve performance. Can be used with <a href="#tf8287" data-linktype="self-bookmark">trace flag 8287</a> to use the <code>FORCESEEK</code> hint. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2022/cumulativeupdate1" data-linktype="absolute-path">KB5022375</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 19, SQL Server 2022 (16.x) CU 1, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8287"></a><strong>8287</strong></td>
<td>Forces the cleanup query to use the <code>FORCESEEK</code> hint to improve performance. Can be used with <a href="#tf8286" data-linktype="self-bookmark">trace flag 8286</a> to use the <code>FORCE ORDER</code> hint. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2022/cumulativeupdate1" data-linktype="absolute-path">KB5022375</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 19, SQL Server 2022 (16.x) CU 1, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8290"></a><strong>8290</strong></td>
<td>After this trace flag is enabled, the change tracking (CT) auto cleanup process resets any invalid cleanup version to a cleanup version based on the retention period. After you enable this trace flag, you must let the auto cleanup process run. For more information, see <a href="https://support.microsoft.com/help/4538365" data-linktype="external">KB4538365</a>.<br><br><strong>Applies to</strong>: SQL Server 2017 (14.x) CU 19, SQL Server 2019 (15.x) CU 4, SQL Server 2022 (16.x), and later versions.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf8531"></a><strong>8531</strong></td>
<td>Enables the fix for a contention issue with high <code>KTM_RECOVERY_MANAGER</code> wait times that you might encounter when running XA distributed transactions.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 29, SQL Server 2022 (16.x) CU 16, and later versions.<br><br><strong>Scope</strong>: Global and startup only.</td>
</tr>
<tr>
<td><a id="tf8558"></a><strong>8558</strong></td>
<td>Enables a fix to ensure that you don't observe edge cases where when RCSI isolation level is enabled then a transaction sometimes can't see the latest data from the tables that were modified using DTC transactions even after xa_commit returned success for a short duration of time.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 18, SQL Server 2022 (16.x), and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8721"></a><strong>8721</strong></td>
<td>Reports to the error log when autoupdate statistics executes. For more information, see an archived version of <a href="https://mskb.pkisolutions.com/kb/195565" data-linktype="external">KB195565</a>.<br><br><strong>Note</strong>: This trace flag requires enabling <a href="#tf3605" data-linktype="self-bookmark">trace flag 3605</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf8744"></a><strong>8744</strong></td>
<td>Disable prefetching for the <a href="../../relational-databases/performance/joins?view=sql-server-ver17#nested_loops" data-linktype="relative-path">Nested Loops</a> operator.<br><br><strong>Warning</strong>: Incorrect use of this trace flag might cause extra physical reads when SQL Server executes plans that contain the Nested Loops operator.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf8790"></a><strong>8790</strong></td>
<td>Causes SQL Server to use a wide query plan when executing an <code>UPDATE</code> statement to update indexes in a table. When you do an <code>UPDATE</code> against a clustered index column, SQL Server updates not only the clustered index itself, but also all the nonclustered indexes because the nonclustered indexes contain the cluster index key. To optimize performance and reduce random I/O SQL Server might choose to sort all nonclustered index data in memory, and then update all indexes by the order. This is known as a wide plan, also called Per-Index Update, and can be forced using this trace flag.<br><br><strong>Scope</strong>: Global, session, or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf8902"></a><strong>8902</strong></td>
<td>Disable locked pages for IO operations for high-end systems with high performance workloads.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions.<br><br><strong>Scope</strong>: Global.</td>
</tr>
<tr>
<td><a id="tf8904"></a><strong>8904</strong></td>
<td>Enables a fix to address a parallel redo failure on a secondary replica by disabling inlined log IO, limiting the contention possibility from many workers to the subset of background LogWriter workers. For more information, see <a href="https://support.microsoft.com/help/5004649" data-linktype="external">KB5004649</a> and <a href="https://techcommunity.microsoft.com/blog/sqlserver/trace-flag-8904---disable-inline-database-log-flushes/3695204" data-linktype="external">Trace flag 8904 - Disable Inline Database Log Flushes</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) only, starting with CU 12.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9024"></a><strong>9024</strong></td>
<td>Converts a global log pool memory object into NUMA node partitioned memory object. For more information, see <a href="https://support.microsoft.com/help/2809338" data-linktype="external">KB2809338</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2012 (11.x) Service Pack 3 and SQL Server 2014 (12.x) Service Pack 1, this behavior is controlled by the Database Engine and trace flag 9024 has no effect.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9109"></a><strong>9109</strong></td>
<td>Disables start of Query Notification functionality. For more information, see <a href="/en-us/troubleshoot/sql/admin/restore-recovery-may-fail" data-linktype="absolute-path">Restore or recovery may fail or take a long time if query notification is used in a database</a>.<br><br><strong>Warning</strong>: Use caution with this trace flag. This trace flag can be useful in a limited set of scenarios primarily for troubleshooting or isolating a problem.<br><br><strong>Scope</strong>: Global and session.</td>
</tr>
<tr>
<td><a id="tf9135"></a><strong>9135</strong></td>
<td>Prevents the usage of indexed views. To accomplish this at the query level, add the <code>USE HINT 'EXPAND VIEWS'</code> query hint instead of using this trace flag. For more information, see <a href="../queries/hints-transact-sql-table?view=sql-server-ver17#remarks" data-linktype="relative-path">Table Hints</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 23, SQL Server 2022 (16.x) CU 19, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9347"></a><strong>9347</strong></td>
<td>Disables batch mode for sort operator. SQL Server 2016 (13.x) introduced a new batch mode sort operator that boosts performance for many analytical queries. For more information, see <a href="https://support.microsoft.com/help/3172787" data-linktype="external">KB3172787</a>.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9348"></a><strong>9348</strong></td>
<td>Enables the use of Query Optimizer cardinality estimates to decide whether BULK INSERT for a clustered columnstore index should be initiated or not. If the estimated number of rows to insert is less than 102,400, the Database Engine doesn't use <code>BULK INSERT</code>. If more than 102,400 rows are estimated, a <code>BULK INSERT</code> is initiated. For more information, see <a href="https://support.microsoft.com/help/2998301" data-linktype="external">KB2998301</a>.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9349"></a><strong>9349</strong></td>
<td>Disables batch mode for top N sort operator. SQL Server 2016 (13.x) introduced a new batch mode top sort operator that boosts performance for many analytical queries.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9358"></a><strong>9358</strong></td>
<td>Disables batch mode for sort operator. For more information, see <a href="https://support.microsoft.com/help/3171555" data-linktype="external">KB3171555</a>.<br><br><strong>Note</strong>: Starting with SQL Server 2017 (14.x), this behavior is enabled by default and this trace flag has no effect.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9389"></a><strong>9389</strong></td>
<td>Enables additional dynamic memory grant for batch mode operators. If a query doesn't get the memory it needs, it spills data to <code>tempdb</code>, incurring additional I/O and potentially affecting query performance. If the dynamic memory grant trace flag is enabled, a batch mode operator might ask for additional memory and avoid spilling to <code>tempdb</code> if additional memory is available. For more information, see the <em>Effects of min memory per query</em> section of the <a href="../../relational-databases/memory-management-architecture-guide?view=sql-server-ver17#effects-of-min-memory-per-query" data-linktype="relative-path">Memory Management Architecture Guide</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf9398"></a><strong>9398</strong></td>
<td>Disables <a href="../../relational-databases/performance/intelligent-query-processing-details?view=sql-server-ver17#batch-mode-adaptive-joins" data-linktype="relative-path">Adaptive Join</a> operator that enables the choice of a <a href="../../relational-databases/performance/joins?view=sql-server-ver17" data-linktype="relative-path">hash join or nested loops join</a> method to be deferred until after the first input has been scanned, as introduced in SQL Server 2017 (14.x). For more information, see <a href="https://support.microsoft.com/help/4099126" data-linktype="external">KB4099126</a>.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9410"></a><strong>9410</strong></td>
<td>Enables a non-default fix for a query that uses a hash aggregate operator and spills. Enabling this trace flag increases the available memory for distinct hash operations. For more information, see <a href="https://support.microsoft.com/help/3167159" data-linktype="external">KB3167159</a>.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9440"></a><strong>9440</strong></td>
<td>Disables the fix for bug <a href="/en-us/troubleshoot/sql/releases/sqlserver-2019/cumulativeupdate20#2112485" data-linktype="absolute-path">2112485</a> and bug <a href="/en-us/troubleshoot/sql/releases/sqlserver-2022/cumulativeupdate9#2636294" data-linktype="absolute-path">2636294</a>. The bug fix doesn't apply when using the legacy Cardinality Estimation (CE) model. When a database uses the default CE model, outer join cardinality estimates might increase higher than the cardinality of the tables involved in the join when the join predicates consist of primary keys from the tables (for example, primary key to foreign key joins). A cap is applied that limits the amount of cardinality overestimation similar to the overestimation limit that exists in the legacy CE for this scenario.<br><br><strong>Note</strong>: This trace flag only applies to databases with a compatibility level of 160 and lower.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 20, SQL Server 2022 (16.x) CU 9, and later versions.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9453"></a><strong>9453</strong></td>
<td>Disables batch mode execution. For more information, see <a href="https://support.microsoft.com/help/4016902" data-linktype="external">KB4016902</a>.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9471"></a><strong>9471</strong></td>
<td>Causes SQL Server to generate a plan using minimum selectivity for single-table filters, under the query optimizer cardinality estimation model of SQL Server 2014 (12.x) and later versions.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Note</strong>: This trace flag doesn't apply to CE version 70. Use <a href="#tf4137" data-linktype="self-bookmark">trace flag 4137</a> instead.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9476"></a><strong>9476</strong></td>
<td>Causes SQL Server to generate a plan using the Simple Containment assumption instead of the default Base Containment assumption, under the query optimizer cardinality estimation model of SQL Server 2014 (12.x) and later versions. For more information, see <a href="/en-us/troubleshoot/sql/database-engine/performance/cardinality-estimator-degrades-query-performance" data-linktype="absolute-path">Join containment assumption in the New Cardinality Estimator degrades query performance</a>.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9481"></a><strong>9481</strong></td>
<td>Sets the Query Optimizer cardinality estimation (CE) model to SQL Server 2012 (11.x) and earlier (version 70), irrespective of the compatibility level of the database. For more information, see <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">Query hints</a>.<br><br>Starting with SQL Server 2016 (13.x), to accomplish this at the database level, see the <code>LEGACY_CARDINALITY_ESTIMATION</code> option in <a href="../statements/alter-database-scoped-configuration-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SCOPED CONFIGURATION</a>.<br><br>Starting with SQL Server 2016 (13.x) Service Pack 1, to accomplish this at the query level, add the <code>USE HINT 'FORCE_LEGACY_CARDINALITY_ESTIMATION'</code> <a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">query hint</a> instead of using this trace flag.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9485"></a><strong>9485</strong></td>
<td>Disables SELECT permission for <code>DBCC SHOW_STATISTICS</code>. For more information, see <a href="https://support.microsoft.com/help/2683304" data-linktype="external">KB2683304</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9488"></a><strong>9488</strong></td>
<td>Sets the fixed estimation for Table Valued Functions to the default of 1 (corresponding to the default under the Query Optimizer cardinality estimation model of SQL Server 2008 R2 (10.50.x) and earlier), when using the Query Optimizer cardinality estimation model of SQL Server 2012 (11.x) and later versions.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9495"></a><strong>9495</strong></td>
<td>Disables parallelism during insertion for <code>INSERT...SELECT</code> operations and it applies to both user and temporary tables. For more information, see <a href="https://support.microsoft.com/help/3180087" data-linktype="external">KB3180087</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf9567"></a><strong>9567</strong></td>
<td>Enables compression of the data stream for Always On Availability Groups during automatic seeding. Compression can significantly reduce the transfer time during automatic seeding, and increases the load on the processor. For more information, see <a href="../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group?view=sql-server-ver17" data-linktype="relative-path">Use automatic seeding to initialize an Always On availability group</a> and <a href="../../database-engine/availability-groups/windows/tune-compression-for-availability-group?view=sql-server-ver17" data-linktype="relative-path">Tune compression for availability group</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf9571"></a><strong>9571</strong></td>
<td>Disables Availability Groups Auto seeding to the default database path. For more information, see <a href="../../database-engine/availability-groups/windows/automatic-seeding-secondary-replicas?view=sql-server-ver17#disklayout" data-linktype="relative-path">Disk layout</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf9576"></a><strong>9576</strong></td>
<td>Disables the enhanced error collection for Availability Group failovers introduced in SQL Server 2016 (13.x) Service Pack 1 CU 10, SQL Server 2016 (13.x) Service Pack 2 CU 2, and SQL Server 2017 (14.x) CU 9. For more information, see <a href="/en-us/archive/blogs/sql_server_team/sql-server-availability-groups-enhanced-database-level-failover" data-linktype="absolute-path">SQL Server Availability Groups â Enhanced Database Level Failover</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9591"></a><strong>9591</strong></td>
<td>Disables log block compression in Always On Availability Groups. Log block compression is the default behavior used with both synchronous and asynchronous replicas in SQL Server 2012 (11.x) and SQL Server 2014 (12.x). In SQL Server 2016 (13.x), compression is only used with asynchronous replica.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf9592"></a><strong>9592</strong></td>
<td>Enables log stream compression for synchronous availability groups. This feature is disabled by default on synchronous availability groups because compression adds latency. For more information, see <a href="../../database-engine/availability-groups/windows/tune-compression-for-availability-group?view=sql-server-ver17" data-linktype="relative-path">Tune compression for availability group</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf9708"></a><strong>9708</strong></td>
<td>Enables collection of event publishing metrics for extended event sessions. For more information, see <a href="../../relational-databases/system-dynamic-management-views/sys-dm-xe-session-events-transact-sql?view=sql-server-ver17" data-linktype="relative-path">sys.dm_xe_session_events</a>.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9714"></a><strong>9714</strong></td>
<td>Enables the SQL Server error log to record the start or stop of Extended Events (XEvents) sessions.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 15 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9810"></a><strong>9810</strong></td>
<td>Disables the In-Memory OLTP engine from reclaiming Thread Local Storage (TLS) memory. In SQL Server 2019 (15.x) and earlier versions, not reclaiming TLS memory is the default behavior. In SQL Server 2022 (16.x), a new memory optimization was introduced that causes the In-Memory OLTP engine to reclaim TLS memory, and to reduce the possibility of out-of-memory issues. This trace flag reverts to the behavior before SQL Server 2022 (16.x).<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9898"></a><strong>9898</strong></td>
<td>Changes the memory partitioning scheme for the In-Memory OLTP engine from per-CPU to per-NUMA node. For existing In-Memory OLTP objects in a database, takes effect only after the server is restarted or when a database is brought online. For more information, see <a href="../../relational-databases/in-memory-oltp/estimate-memory-requirements-for-memory-optimized-tables?view=sql-server-ver17#memory-fragmentation" data-linktype="relative-path">Memory fragmentation</a><br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9929"></a><strong>9929</strong></td>
<td>Reduces the In-Memory checkpoint files to 1 MB each. For more information, see <a href="https://support.microsoft.com/help/3147012" data-linktype="external">KB3147012</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9939"></a><strong>9939</strong></td>
<td>Enables parallel plans and parallel scan of memory-optimized tables and table variables in DML operations that reference memory-optimized tables or table variables, as long as they aren't the target of the DML operation in SQL Server 2016 (13.x). For more information, see <a href="https://support.microsoft.com/help/4013877" data-linktype="external">KB4013877</a>.<br><br><strong>Note</strong>: Trace flag 9939 isn't needed if trace flag 4199 is also explicitly enabled.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf9944"></a><strong>9944</strong></td>
<td>Enables a non-default fix for slow database recovery time when a database has a large number of memory optimized tables or memory optimized table types, and blocking with <code>PREMPTIVE_OS_FINDFILE</code> or <code>PREEMPTIVE_OS_CREATEDIRECTORY</code> wait types might be observed. For more information, see <a href="https://support.microsoft.com/help/4090789" data-linktype="external">KB4090789</a> and <a href="https://support.microsoft.com/help/4052338" data-linktype="external">KB4052338</a>.<br><br>For SQL Server on Linux, this trace flag only applies to SQL Server 2022 (16.x) CU 13 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf9953"></a><strong>9953</strong></td>
<td>Reuses the hidden schedulers used by the Memory Optimized tables.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 20 and later versions, and SQL Server 2022 (16.x) CU 3 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf10054"></a><strong>10054</strong></td>
<td>Disables the SQL Server Query Optimizer rule that decorrelates subqueries in OR predicates into outer joins.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions.<br><br><strong>Note</strong>: Ensure that you thoroughly test this option, before rolling it into a production environment.<br><br><strong>Scope</strong>: Global or session or query (QUERYTRACEON).</td>
</tr>
<tr>
<td><a id="tf10204"></a><strong>10204</strong></td>
<td>Disables merge/recompress during columnstore index reorganization. In SQL Server 2016 (13.x), when a columnstore index is reorganized, there's new functionality to automatically merge any small compressed rowgroups into larger compressed rowgroups, and recompressing any rowgroups that have a large number of deleted rows.<br><br><strong>Note</strong>: Trace flag 10204 doesn't apply to columnstore indexes that are created on memory-optimized tables.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf10207"></a><strong>10207</strong></td>
<td>Allows clustered columnstore index (CCI) scans to skip corrupt segments or metadata, allowing data retrieval from a corrupt CCI. For more information, see <a href="https://support.microsoft.com/help/3067257" data-linktype="external">KB3067257</a>.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf10316"></a><strong>10316</strong></td>
<td>Enables creation of additional indexes on <a href="../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables?view=sql-server-ver17" data-linktype="relative-path">internal memory-optimized staging temporal table</a>, beside the default one. If you have specific query pattern that includes columns that aren't covered by the default index, you might consider adding additional indexes.<br><br><strong>Note</strong>: System-versioned temporal tables for Memory-Optimized Tables are designed to provide high transactional throughput. Creating additional indexes might introduce overhead for DML operations that update or delete rows in the current table. With the additional indexes, you should aim to find the right balance between performance of temporal queries and additional DML overhead.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf10460"></a><strong>10460</strong></td>
<td>Causes the SQL Server Stretch Database feature to provision a stretched table within the Azure SQL Database Hyperscale service tier.<br><br><strong>Applies to</strong>: SQL Server 2017 (14.x) CU 31, SQL Server 2019 (15.x) CU 18, and SQL Server 2022 (16.x) and later versions.<br><br>Starting with SQL Server 2017 (14.x) CU 31, SQL Server 2019 (15.x) CU 18, and SQL Server 2022 (16.x), the default behavior of the Stretch Database feature provisions a stretched table within an Azure SQL Database Standard service tier (S3).<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf11023"></a><strong>11023</strong></td>
<td>Disables the use of the last persisted sample rate for all subsequent statistics update, where a sample rate isn't specified explicitly as part of the <a href="../statements/update-statistics-transact-sql?view=sql-server-ver17" data-linktype="relative-path">UPDATE STATISTICS</a> statement. For more information, see <a href="https://support.microsoft.com/help/4039284" data-linktype="external">KB4039284</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf11024"></a><strong>11024</strong></td>
<td>Enables triggering the auto update of statistics when the modification count of any partition exceeds the local <a href="../../relational-databases/statistics/statistics?view=sql-server-ver17#auto_update_statistics-option" data-linktype="relative-path">threshold</a>. For more information, see <a href="https://support.microsoft.com/help/4041811" data-linktype="external">KB4041811</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 2, SQL Server 2017 (14.x) CU 3, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf11047"></a><strong>11047</strong></td>
<td>Applies the default timeout set by <code>query wait (s)</code> or the Resource Governor <code>REQUEST_MEMORY_GRANT_TIMEOUT_SEC</code> configuration to columnstore index build operations. For more information, see <a href="https://support.microsoft.com/help/4480641" data-linktype="external">KB4480641</a>.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 2 CU 5, SQL Server 2017 (14.x) CU 14, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf11064"></a><strong>11064</strong></td>
<td>Improves the scalability of data loading operations into columnstore indexes, by optimizing memory distribution between the <code>SELECT</code> and <code>INSERT</code> statements. For more information on loading data into a columnstore index, see <a href="../../relational-databases/indexes/columnstore-indexes-data-loading-guidance?view=sql-server-ver17" data-linktype="relative-path">Columnstore indexes - data loading guidance</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf11068"></a><strong>11068</strong></td>
<td>Uses the server, database, or resource pool configured max degree of parallelism (MAXDOP) value for columnstore index insert operations. For more information on overriding degrees of parallelism, see the <a href="../../relational-databases/query-processing-architecture-guide?view=sql-server-ver17#overriding-degrees-of-parallelism" data-linktype="relative-path">Query Processing Architecture Guide</a>.<br><br><strong>Important</strong>: This trace flag is only effective if trace flag 11064 is also enabled.<br><br><strong>Important</strong>: Use this trace flag when faster data loads are preferred over maintaining <a href="../../relational-databases/indexes/columnstore-indexes-overview?view=sql-server-ver17#column-segment" data-linktype="relative-path">columnstore segment</a> quality. For example, using this trace flag when loading 1,048,577 rows into a columnstore might result in more than one compressed rowgroup, if the insert operation is executing in parallel mode. Without this trace flag, the insert operation would result in one compressed rowgroup.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf11561"></a><strong>11561</strong></td>
<td>Disables Microsoft Entra authentication for replication.<br><br><strong>Note</strong>: This trace flag applies to SQL Server 2022 (16.x) CU 6 and later versions.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf11631"></a><strong>11631</strong></td>
<td>An <code>ALTER INDEX ... REORGANIZE</code> and the <a href="../../relational-databases/indexes/columnstore-indexes-overview?view=sql-server-ver17#bckmergetsk" data-linktype="relative-path">background merge task</a> only clean up the deleted rows in a columnstore index rowgroup when a certain threshold of rows has been deleted from that rowgroup. The default threshold is 10 percent of the maximum row limit (1 million), or of 100,000 rows.<br><br>This trace flag changes the threshold to 10 percent of the total current rows in a columnstore rowgroup. For example, if a rowgroup contains 20,000 rows, the threshold is 2,000 deleted rows before this rowgroup is considered for cleanup. For more information, see <a href="https://support.microsoft.com/help/5000895" data-linktype="external">KB5000895</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 9 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf11634"></a><strong>11634</strong></td>
<td>An <code>ALTER INDEX ... REORGANIZE</code> and the <a href="../../relational-databases/indexes/columnstore-indexes-overview?view=sql-server-ver17#bckmergetsk" data-linktype="relative-path">background merge task</a> clean up the deleted rows in a columnstore index rowgroup only when a certain threshold of rows has been deleted from that rowgroup. The default threshold is 10 percent of the maximum row limit (1 million), or of 100,000 rows.<br><br>This trace flag changes the threshold to 1 percent of the total current rows in a columnstore rowgroup. If enabled together with trace flag 11631, then it's 1 percent of the current number of rows in a rowgroup, instead of 1 percent of 1 million rows. For more information, see <a href="https://support.microsoft.com/help/5000895" data-linktype="external">KB5000895</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 9 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf11953"></a><strong>11953</strong></td>
<td>Enables you to add Microsoft Entra ID users via the <code>WITH SID = &lt;sid&gt;, TYPE = [E|X]</code> syntax in the <code>CREATE USER</code> statement.<br><br><strong>Note</strong>: Customers must validate Microsoft Entra ID users, because SQL Server doesn't perform this validation. So, SQL Server doesn't require any <a href="/en-us/azure/azure-sql/virtual-machines/windows/configure-azure-ad-authentication-for-sql-vm#grant-permissions" data-linktype="absolute-path">Microsoft Graph permissions</a>. For more information, see <a href="../statements/create-user-transact-sql?view=sql-server-ver17#syntax" data-linktype="relative-path">CREATE USER</a>.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 20 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf12310"></a><strong>12310</strong></td>
<td>Increases the flow control limits for the number of messages that each availability group gate allows. These limits are the new default values in SQL Server 2022 (16.x) and therefore the trace flag has no effect in this version. For more information, see <a href="../../database-engine/availability-groups/windows/monitor-performance-for-always-on-availability-groups?view=sql-server-ver17#flow-control-gates" data-linktype="relative-path">Flow control gates</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 9, SQL Server 2017 (14.x) CU 18, SQL Server 2016 (13.x) SP 1 CU 16, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf12324"></a><strong>12324</strong></td>
<td>Resolves an issue introduced with changes to the link feature for Azure SQL Managed Instance, which prevents availability groups from synchronizing when replicas are running on different cumulative updates. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2019/cumulativeupdate20" data-linktype="absolute-path">KB5024276</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 20 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf12348"></a><strong>12348</strong></td>
<td>Disables the <a href="../../database-engine/availability-groups/windows/failover-and-failover-modes-always-on-availability-groups?view=sql-server-ver17#asynchronous-page-request-dispatching-improvement" data-linktype="relative-path">asynchronous page request dispatching feature</a> that improves failover when encountering undo-of-redo delays from network latency. Enabling the trace flag reverts the mechanism to the default behavior.<br><br><strong>Applies to</strong>: SQL Server 2025 (17.x)<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf12481"></a><strong>12481</strong></td>
<td>Disables logging auditing information for external permissions in the <code>external_policy_permission_checked</code> field of audit records. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2022/cumulativeupdate1" data-linktype="absolute-path">KB5022375</a>.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 1 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf12502"></a><strong>12502</strong></td>
<td>Disables external authorization policies for on-premises SQL Server instances.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 5 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf12618"></a><strong>12618</strong></td>
<td>Enables the automatic plan correction (APC) model of the automatic tuning feature to perform multiple consecutive plan regression checks over the same plan, which allows for the accumulation of additional statistics for evaluation by the new model. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2022/cumulativeupdate4" data-linktype="absolute-path">KB5026717</a>.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 4 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf12656"></a><strong>12656</strong></td>
<td>Enables the automatic plan correction (APC) model of the automatic tuning feature to use a time-based plan regression check that occurs five minutes after a plan change is detected, which avoids biasing the regression checks by queries that execute quickly. This allows APC to take into account query executions that might run longer, or are prone to timing out because of a plan change. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2022/cumulativeupdate4" data-linktype="absolute-path">KB5026717</a>.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 4 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf13116"></a><strong>13116</strong></td>
<td>Disables the fix for bug <a href="/en-us/troubleshoot/sql/releases/sqlserver-2016/servicepack2-cumulativeupdate16" data-linktype="absolute-path">13685819</a>. Use this trace flag if after you apply SQL Server 2016 (13.x) Service Pack 2 CU 16, you encounter an issue in which DML (insert/update/delete) queries that use parallel plans can't complete any execution and encounter HP_SPOOL_BARRIER waits.<br><br><strong>Applies to</strong>: SQL Server 2016 (13.x) Service Pack 2 CU 16.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf13127"></a><strong>13127</strong></td>
<td>Enables additional string pattern matching optimizations.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) and later versions and is intended for high-end systems with high performance workloads.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf13156"></a><strong>13156</strong></td>
<td>Disables the fix for the "UDF invocation with a large number of scalar expression re-evaluations can cause a non-yielding scheduler error" issue. This original fix might sometimes cause a performance regression. For more information, see <a href="https://support.microsoft.com/help/4538581" data-linktype="external">KB4538581</a>.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf13702"></a><strong>13702</strong></td>
<td>Enables PolyBase capabilities for SQL Server on Linux. This trace flag also enables other trace flags required to support the PolyBase feature.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) on Linux.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf15005"></a><strong>15005</strong></td>
<td>Enables a replication subscriber to use a nondefault port for transactional replication in an availability group or other scenarios.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) CU 20 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf15025"></a><strong>15025</strong></td>
<td>Disables the Azure Key Vault access that is required for a newly created Virtual Log File (VLF), which allows high-volume customer workloads to continue without interruption. Once this trace flag is enabled, SQL Server uses Extensible Key Management for encryption and key generation, and doesn't contact Azure Key Vault during the creation of the VLF. For more information, see <a href="/en-us/troubleshoot/sql/releases/sqlserver-2022/database-accessibility-issues-high-volume-customer-workloads" data-linktype="absolute-path">FIX: Database accessibility issues with high-volume customer workloads that use EKM for encryption and key generation</a>.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 19, SQL Server 2022 (16.x) CU 1, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf15096"></a><strong>15096</strong></td>
<td>Disable population count (popcnt) operations with AVX-512 instruction sets.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) and later versions.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf15097"></a><strong>15097</strong></td>
<td>Enables AVX-512 support for SQL Server 2022 (16.x) and later versions.<br><br><strong>Important</strong>: Enable AVX-512 support for the following CPUs:<br><br>- Intel Ice Lake and later<br>- AMD EYPC Genoa and later<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) and later versions.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
<tr>
<td><a id="tf15212"></a><strong>15212</strong></td>
<td>Disables Service Broker timer messages that are acting as a verbose notification on the timeout event. Messages affected with this trace flag are: <code>SSBDT: Dialog timer delete during registration</code> in Service Broker Dialog Cleanup sequence, and <code>SSBDT: Dialog timer delete during dispatch</code> in Service Broker Dialog Close sequence. Once this trace flag is enabled, the print-out of these informal messages is skipped.<br><br><strong>Applies to</strong>: SQL Server 2022 (16.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf15608"></a><strong>15608</strong></td>
<td>Disables <a href="../../relational-databases/performance/persisted-stats-secondary-replicas?view=sql-server-ver17" data-linktype="relative-path">Persisted statistics for readable secondary replicas</a> feature. To fully disable the feature, apply this trace flag to the primary replica and all secondary replicas.<br><br><strong>Applies to</strong>: SQL Server 2025 (17.x) and later versions.<br><br><strong>Scope</strong>: Startup only.</td>
</tr>
<tr>
<td><a id="tf15915"></a><strong>15915</strong></td>
<td>Enables a fix for a performance issue that you might encounter when <code>sp_lock</code> is called frequently from multiple connections, which could cause a memory leak. The memory isn't cleaned up until you restart the SQL Server service.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 29 and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf16268"></a><strong>16268</strong></td>
<td>Disables automatic feedback behavior for cardinality estimation (CE) feedback when you use <a href="../functions/regexp-like-transact-sql?view=sql-server-ver17" data-linktype="relative-path">REGEXP_LIKE</a>.<br><br><strong>Applies to</strong>: SQL Server 2025 (17.x) and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf16301"></a><strong>16301</strong></td>
<td>Skips the blocking I/O operation in the <code>sp_server_diagnostics</code> stored procedure. After you turn on this trace flag, the <code>sp_server_diagnostics</code> stored procedure limits I/O statistics collection, which helps the availability group avoid restart and failover when there's a long delay in the I/O system.<br><br><strong>Applies to</strong>: SQL Server 2019 (15.x) CU 26, SQL Server 2022 (16.x) CU 12, and later versions.<br><br><strong>Scope</strong>: Global only.</td>
</tr>
<tr>
<td><a id="tf17600"></a><strong>17600</strong></td>
<td>Changes the default driver version of the MSOLEDBSQL provider used by linked servers from v19 to v18. This trace flag provides an alternative for environments that don't support the new <code>Encrypt</code> options of the OLE DB 19 driver. In SQL Server 2025 (17.x), MSOLEDBSQL is set to OLE DB v19. Using this trace flag sets MSOLEDBSQL to OLE DB v18. For information, see <a href="../../connect/oledb/release-notes-for-oledb-driver-for-sql-server?view=sql-server-ver17" data-linktype="relative-path">Release notes for the Microsoft OLE DB Driver for SQL Server</a>.<br><br><strong>Applies to</strong>: SQL Server 2025 (17.x) and later versions.<br><br><strong>Scope</strong>: Global or session.</td>
</tr>
</tbody>
</table>
<h2 id="related-content">Related content</h2>
<ul>
<li><a href="../data-types/data-types-transact-sql?view=sql-server-ver17" data-linktype="relative-path">Data types (Transact-SQL)</a></li>
<li><a href="dbcc-traceoff-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC TRACEOFF (Transact-SQL)</a></li>
<li><a href="dbcc-traceon-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC TRACEON (Transact-SQL)</a></li>
<li><a href="dbcc-tracestatus-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC TRACESTATUS (Transact-SQL)</a></li>
<li><a href="dbcc-inputbuffer-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC INPUTBUFFER (Transact-SQL)</a></li>
<li><a href="dbcc-outputbuffer-transact-sql?view=sql-server-ver17" data-linktype="relative-path">DBCC OUTPUTBUFFER (Transact-SQL)</a></li>
<li><a href="../language-elements/execute-transact-sql?view=sql-server-ver17" data-linktype="relative-path">EXECUTE (Transact-SQL)</a></li>
<li><a href="../queries/select-transact-sql?view=sql-server-ver17" data-linktype="relative-path">SELECT (Transact-SQL)</a></li>
<li><a href="../statements/set-nocount-transact-sql?view=sql-server-ver17" data-linktype="relative-path">SET NOCOUNT (Transact-SQL)</a></li>
<li><a href="../queries/hints-transact-sql-query?view=sql-server-ver17" data-linktype="relative-path">Query hints (Transact-SQL)</a></li>
<li><a href="/en-us/troubleshoot/sql/database-engine/database-file-operations/diagnostics-for-unreported-io-problems" data-linktype="absolute-path">SQL Server diagnostics detects unreported I/O problems due to stale reads or lost writes</a></li>
<li><a href="../statements/alter-database-transact-sql-set-options?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SET options (Transact-SQL)</a></li>
<li><a href="../statements/alter-database-scoped-configuration-transact-sql?view=sql-server-ver17" data-linktype="relative-path">ALTER DATABASE SCOPED CONFIGURATION (Transact-SQL)</a></li>
</ul>
</div>
					
		<div
			id="ms--inline-notifications"
			class="margin-block-xs"
			data-bi-name="inline-notification"
		></div>
	 
		<div
			id="assertive-live-region"
			role="alert"
			aria-live="assertive"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
		<div
			id="polite-live-region"
			role="status"
			aria-live="polite"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
	
					
		<!-- feedback section -->
		<section
			id="site-user-feedback-footer"
			class="font-size-sm margin-top-md display-none-print display-none-desktop"
			data-test-id="site-user-feedback-footer"
			data-bi-name="site-feedback-section"
		>
			<hr class="hr" />
			<h2 id="ms--feedback" class="title is-3">Feedback</h2>
			<div class="display-flex flex-wrap-wrap align-items-center">
				<p class="font-weight-semibold margin-xxs margin-left-none">
					Was this page helpful?
				</p>
				<div class="buttons">
					<button
						class="thumb-rating-button like button button-primary button-sm"
						data-test-id="footer-rating-yes"
						data-binary-rating-response="rating-yes"
						type="button"
						title="This article is helpful"
						data-bi-name="button-rating-yes"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-like"></span>
						</span>
						<span>Yes</span>
					</button>
					<button
						class="thumb-rating-button dislike button button-primary button-sm"
						id="standard-rating-no-button"
						hidden
						data-test-id="footer-rating-no"
						data-binary-rating-response="rating-no"
						type="button"
						title="This article is not helpful"
						data-bi-name="button-rating-no"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-dislike"></span>
						</span>
						<span>No</span>
					</button>
					<details
						class="popover popover-top"
						id="mobile-help-popover"
						data-test-id="footer-feedback-popover"
					>
						<summary
							class="thumb-rating-button dislike button button-primary button-sm"
							data-test-id="details-footer-rating-no"
							data-binary-rating-response="rating-no"
							title="This article is not helpful"
							data-bi-name="button-rating-no"
							aria-pressed="false"
							data-bi-an="feedback-unhelpful-popover"
						>
							<span class="icon" aria-hidden="true">
								<span class="docon docon-dislike"></span>
							</span>
							<span>No</span>
						</summary>
						<div
							class="popover-content width-200 width-300-tablet"
							role="dialog"
							aria-labelledby="popover-heading"
							aria-describedby="popover-description"
						>
							<p id="popover-heading" class="font-size-lg margin-bottom-xxs font-weight-semibold">
								Need help with this topic?
							</p>
							<p id="popover-description" class="font-size-sm margin-bottom-xs">
								Want to try using Ask Learn to clarify or guide you through this topic?
							</p>
							
		<div class="buttons flex-direction-row flex-wrap justify-content-center gap-xxs">
			<div>
		<button
			class="button button-sm border inner-focus display-none margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-test-id="ask-learn-assistant-modal-entry-mobile-feedback"
			data-ask-learn-modal-entry-feedback
			data-bi-an=feedback-unhelpful-popover
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-inline-flex display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-modal-entry-tablet-feedback"
			data-ask-learn-modal-entry-feedback
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-flyout-entry-feedback"
			data-ask-learn-flyout-entry-show-only
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	</div>
			<button
				type="button"
				class="button button-sm margin-right-xxs"
				data-help-option="suggest-fix"
				data-bi-name="feedback-suggest"
				data-bi-an="feedback-unhelpful-popover"
				data-test-id="suggest-fix"
			>
				<span class="icon" aria-hidden="true">
					<span class="docon docon-feedback"></span>
				</span>
				<span> Suggest a fix? </span>
			</button>
		</div>
	
						</div>
					</details>
				</div>
			</div>
		</section>
		<!-- end feedback section -->
	
				</div>
				
		<div id="ms--additional-resources-mobile" class="display-none-print">
			<hr class="hr" hidden />
			<h2 id="ms--additional-resources-mobile-heading" class="title is-3" hidden>
				Additional resources
			</h2>
			 
		<section
			id="right-rail-training-mobile"
			class=""
			data-bi-name="learning-resource-card"
			hidden
		></section>
	 
		<section
			id="right-rail-events-mobile"
			class=""
			data-bi-name="events-card"
			hidden
		></section>
	 
		<section
			id="right-rail-qna-mobile"
			class="margin-top-xxs"
			data-bi-name="qna-link-card"
			hidden
		></section>
	
		</div>
	 
		<div
			id="article-metadata-footer"
			data-bi-name="article-metadata-footer"
			data-test-id="article-metadata-footer"
			class="page-metadata-container"
		>
			<hr class="hr" />
			<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
				<li class="visibility-hidden-visual-diff">
			<span class="badge badge-sm text-wrap-pretty">
				<span>Last updated on <local-time format="twoDigitNumeric"
		datetime="2026-02-18T08:00:00.000Z"
		data-article-date-source="calculated"
		class="is-invisible"
	>
		2026-02-18
	</local-time></span>
			</span>
		</li>
			</ul>
		</div>
	
			</div>
			
		<div
			id="action-panel"
			role="region"
			aria-label="Action Panel"
			class="action-panel"
			tabindex="-1"
		></div>
	
		
				</main>
				<aside
					id="layout-body-aside"
					class="layout-body-aside "
					data-bi-name="aside"
			  >
					
		<div
			id="ms--additional-resources"
			class="right-container padding-sm display-none display-block-desktop height-full"
			data-bi-name="pageactions"
			role="complementary"
			aria-label="Additional resources"
		>
			<div id="affixed-right-container" data-bi-name="right-column">
				
		<nav
			id="side-doc-outline"
			class="doc-outline border-bottom padding-bottom-xs margin-bottom-xs"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h3>In this article</h3>
		</nav>
	
				<!-- Feedback -->
				
		<section
			id="ms--site-user-feedback-right-rail"
			class="font-size-sm display-none-print"
			data-test-id="site-user-feedback-right-rail"
			data-bi-name="site-feedback-right-rail"
		>
			<p class="font-weight-semibold margin-bottom-xs">Was this page helpful?</p>
			<div class="buttons">
				<button
					class="thumb-rating-button like button button-primary button-sm"
					data-test-id="right-rail-rating-yes"
					data-binary-rating-response="rating-yes"
					type="button"
					title="This article is helpful"
					data-bi-name="button-rating-yes"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-like"></span>
					</span>
					<span>Yes</span>
				</button>
				<button
					class="thumb-rating-button dislike button button-primary button-sm"
					id="right-rail-no-button"
					hidden
					data-test-id="right-rail-rating-no"
					data-binary-rating-response="rating-no"
					type="button"
					title="This article is not helpful"
					data-bi-name="button-rating-no"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-dislike"></span>
					</span>
					<span>No</span>
				</button>
				<details class="popover popover-right" id="help-popover" data-test-id="feedback-popover">
					<summary
						tabindex="0"
						class="thumb-rating-button dislike button button-primary button-sm"
						data-test-id="details-right-rail-rating-no"
						data-binary-rating-response="rating-no"
						title="This article is not helpful"
						data-bi-name="button-rating-no"
						aria-pressed="false"
						data-bi-an="feedback-unhelpful-popover"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-dislike"></span>
						</span>
						<span>No</span>
					</summary>
					<div
						class="popover-content width-200 width-300-tablet"
						role="dialog"
						aria-labelledby="popover-heading"
						aria-describedby="popover-description"
					>
						<p
							id="popover-heading-right-rail"
							class="font-size-lg margin-bottom-xxs font-weight-semibold"
						>
							Need help with this topic?
						</p>
						<p id="popover-description-right-rail" class="font-size-sm margin-bottom-xs">
							Want to try using Ask Learn to clarify or guide you through this topic?
						</p>
						
		<div class="buttons flex-direction-row flex-wrap justify-content-center gap-xxs">
			<div>
		<button
			class="button button-sm border inner-focus display-none margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-test-id="ask-learn-assistant-modal-entry-mobile-feedback"
			data-ask-learn-modal-entry-feedback
			data-bi-an=feedback-unhelpful-popover
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-inline-flex display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-modal-entry-tablet-feedback"
			data-ask-learn-modal-entry-feedback
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-flyout-entry-feedback"
			data-ask-learn-flyout-entry-show-only
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	</div>
			<button
				type="button"
				class="button button-sm margin-right-xxs"
				data-help-option="suggest-fix"
				data-bi-name="feedback-suggest"
				data-bi-an="feedback-unhelpful-popover"
				data-test-id="suggest-fix"
			>
				<span class="icon" aria-hidden="true">
					<span class="docon docon-feedback"></span>
				</span>
				<span> Suggest a fix? </span>
			</button>
		</div>
	
					</div>
				</details>
			</div>
		</section>
	
			</div>
		</div>
	
			  </aside> <section
					id="layout-body-flyout"
					class="layout-body-flyout "
					data-bi-name="flyout"
			  >
					 <div
	class="height-full border-left background-color-body-medium"
	id="ask-learn-flyout"
></div>
			  </section> <div class="layout-body-footer " data-bi-name="layout-footer">
		<footer
			id="footer"
			data-test-id="footer"
			data-bi-name="footer"
			class="footer-layout has-padding has-default-focus border-top  uhf-container"
			role="contentinfo"
		>
			<div class="display-flex gap-xs flex-wrap-wrap is-full-height padding-right-lg-desktop">
				
		<a
			data-mscc-ic="false"
			href="#"
			data-bi-name="select-locale"
			class="locale-selector-link flex-shrink-0 button button-sm button-clear external-link-indicator"
			id=""
			title=""
			><span class="icon" aria-hidden="true"
				><span class="docon docon-world"></span></span
			><span class="local-selector-link-text">en-us</span></a
		>
	 <div class="ccpa-privacy-link" data-ccpa-privacy-link hidden>
		
		<a
			data-mscc-ic="false"
			href="https://aka.ms/yourcaliforniaprivacychoices"
			data-bi-name="your-privacy-choices"
			class="button button-sm button-clear flex-shrink-0 external-link-indicator"
			id=""
			title=""
			>
		<svg
			xmlns="http://www.w3.org/2000/svg"
			viewBox="0 0 30 14"
			xml:space="preserve"
			height="16"
			width="43"
			aria-hidden="true"
			focusable="false"
		>
			<path
				d="M7.4 12.8h6.8l3.1-11.6H7.4C4.2 1.2 1.6 3.8 1.6 7s2.6 5.8 5.8 5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#fff"
			></path>
			<path
				d="M22.6 0H7.4c-3.9 0-7 3.1-7 7s3.1 7 7 7h15.2c3.9 0 7-3.1 7-7s-3.2-7-7-7zm-21 7c0-3.2 2.6-5.8 5.8-5.8h9.9l-3.1 11.6H7.4c-3.2 0-5.8-2.6-5.8-5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#06f"
			></path>
			<path
				d="M24.6 4c.2.2.2.6 0 .8L22.5 7l2.2 2.2c.2.2.2.6 0 .8-.2.2-.6.2-.8 0l-2.2-2.2-2.2 2.2c-.2.2-.6.2-.8 0-.2-.2-.2-.6 0-.8L20.8 7l-2.2-2.2c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0l2.2 2.2L23.8 4c.2-.2.6-.2.8 0z"
				style="fill:#fff"
			></path>
			<path
				d="M12.7 4.1c.2.2.3.6.1.8L8.6 9.8c-.1.1-.2.2-.3.2-.2.1-.5.1-.7-.1L5.4 7.7c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0L8 8.6l3.8-4.5c.2-.2.6-.2.9 0z"
				style="fill:#06f"
			></path>
		</svg>
	
			<span>Your Privacy Choices</span></a
		>
	
	</div>
				<div class="flex-shrink-0">
		<div class="dropdown has-caret-up">
			<button
				data-test-id="theme-selector-button"
				class="dropdown-trigger button button-clear button-sm inner-focus theme-dropdown-trigger"
				aria-controls="{{ themeMenuId }}"
				aria-expanded="false"
				title="Theme"
				data-bi-name="theme"
			>
				<span class="icon">
					<span class="docon docon-sun" aria-hidden="true"></span>
				</span>
				<span>Theme</span>
				<span class="icon expanded-indicator" aria-hidden="true">
					<span class="docon docon-chevron-down-light"></span>
				</span>
			</button>
			<div class="dropdown-menu" id="{{ themeMenuId }}" role="menu">
				<ul class="theme-selector padding-xxs" data-test-id="theme-dropdown-menu">
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="light"
						>
							<span class="theme-light margin-right-xxs">
								<span
									class="theme-selector-icon border display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Light </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="dark"
						>
							<span class="theme-dark margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Dark </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="high-contrast"
						>
							<span class="theme-high-contrast margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> High contrast </span>
						</button>
					</li>
				</ul>
			</div>
		</div>
	</div>
			</div>
			<ul class="links" data-bi-name="footerlinks">
				<li class="manage-cookies-holder" hidden=""></li>
				<li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/principles-for-ai-generated-content"
			data-bi-name="aiDisclaimer"
			class=" external-link-indicator"
			id=""
			title=""
			>AI Disclaimer</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/previous-versions/"
			data-bi-name="archivelink"
			class=" external-link-indicator"
			id=""
			title=""
			>Previous Versions</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://techcommunity.microsoft.com/t5/microsoft-learn-blog/bg-p/MicrosoftLearnBlog"
			data-bi-name="bloglink"
			class=" external-link-indicator"
			id=""
			title=""
			>Blog</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/contribute"
			data-bi-name="contributorGuide"
			class=" external-link-indicator"
			id=""
			title=""
			>Contribute</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://go.microsoft.com/fwlink/?LinkId=521839"
			data-bi-name="privacy"
			class=" external-link-indicator"
			id=""
			title=""
			>Privacy</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/legal/termsofuse"
			data-bi-name="termsofuse"
			class=" external-link-indicator"
			id=""
			title=""
			>Terms of Use</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://www.microsoft.com/legal/intellectualproperty/Trademarks/"
			data-bi-name="trademarks"
			class=" external-link-indicator"
			id=""
			title=""
			>Trademarks</a
		>
	
	</li>
				<li>&copy; Microsoft 2026</li>
			</ul>
		</footer>
	</footer>
			</body>
		</html>