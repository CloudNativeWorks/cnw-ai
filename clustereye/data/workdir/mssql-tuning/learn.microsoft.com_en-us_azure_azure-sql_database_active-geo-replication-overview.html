 <!DOCTYPE html>
		<html
			class="layout layout-holy-grail   show-table-of-contents conceptual show-breadcrumb default-focus"
			lang="en-us"
			dir="ltr"
			data-authenticated="false"
			data-auth-status-determined="false"
			data-target="docs"
			x-ms-format-detection="none"
		>
			
		<head>
			<title>Active Geo-Replication - Azure SQL Database | Microsoft Learn</title>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1.0" />
			<meta name="color-scheme" content="light dark" />

			<meta name="description" content="Use active geo-replication to create readable secondary databases of individual databases in Azure SQL Database in the same or different regions." />
			<link rel="canonical" href="https://learn.microsoft.com/en-us/azure/azure-sql/database/active-geo-replication-overview?view=azuresql" /> 

			<!-- Non-customizable open graph and sharing-related metadata -->
			<meta name="twitter:card" content="summary_large_image" />
			<meta name="twitter:site" content="@MicrosoftLearn" />
			<meta property="og:type" content="website" />
			<meta property="og:image:alt" content="Microsoft Learn" />
			<meta property="og:image" content="https://learn.microsoft.com/en-us/media/open-graph-image.png" />
			<!-- Page specific open graph and sharing-related metadata -->
			<meta property="og:title" content="Active Geo-Replication - Azure SQL Database" />
			<meta property="og:url" content="https://learn.microsoft.com/en-us/azure/azure-sql/database/active-geo-replication-overview?view=azuresql" />
			<meta property="og:description" content="Use active geo-replication to create readable secondary databases of individual databases in Azure SQL Database in the same or different regions." />
			<meta name="platform_id" content="177d2c3c-dbe9-b7d4-002d-0667dd386f32" /> <meta name="scope" content="azure sql" />
			<meta name="locale" content="en-us" />
			 <meta name="adobe-target" content="true" /> 
			<meta name="uhfHeaderId" content="Azure" />

			<meta name="page_type" content="conceptual" />

			<!--page specific meta tags-->
			

			<!-- custom meta tags -->
			
		<meta name="feedback_system" content="Standard" />
	
		<meta name="feedback_product_url" content="https://aka.ms/sqlfeedback" />
	
		<meta name="toc_preview" content="true" />
	
		<meta name="manager" content="[object Object]" />
	
		<meta name="recommendations" content="true" />
	
		<meta name="breadcrumb_path" content="/azure/azure-sql/breadcrumb/toc.json" />
	
		<meta name="monikerRange" content="= azuresql || = azuresql-db " />
	
		<meta name="author" content="rajeshsetlem" />
	
		<meta name="ms.author" content="rsetlem" />
	
		<meta name="ms.reviewer" content="wiassaf, mathoma, arvindsh" />
	
		<meta name="ms.date" content="2025-08-07T00:00:00Z" />
	
		<meta name="ms.service" content="azure-sql-database" />
	
		<meta name="ms.subservice" content="high-availability" />
	
		<meta name="ms.topic" content="overview" />
	
		<meta name="ms.custom" content="sqldbrb=1" />
	
		<meta name="ms.custom" content="ignite-2023" />
	
		<meta name="document_id" content="4f4aa774-bf47-33e1-2056-66d23158245a" />
	
		<meta name="document_version_independent_id" content="5e10f032-a1ba-5505-90ab-52a6a797fbb7" />
	
		<meta name="updated_at" content="2026-01-09T18:34:00Z" />
	
		<meta name="original_content_git_url" content="https://github.com/MicrosoftDocs/sql-docs-pr/blob/live/azure-sql/database/active-geo-replication-overview.md" />
	
		<meta name="gitcommit" content="https://github.com/MicrosoftDocs/sql-docs-pr/blob/b9c9bfa0d7331142fc86ac0f00285a6deea4ac3e/azure-sql/database/active-geo-replication-overview.md" />
	
		<meta name="git_commit_id" content="b9c9bfa0d7331142fc86ac0f00285a6deea4ac3e" />
	
		<meta name="monikers" content="azuresql" />
	
		<meta name="monikers" content="azuresql-db" />
	
		<meta name="default_moniker" content="azuresql" />
	
		<meta name="site_name" content="Docs" />
	
		<meta name="depot_name" content="MSDN.azure-sql" />
	
		<meta name="schema" content="Conceptual" />
	
		<meta name="toc_rel" content="../toc.json" />
	
		<meta name="pdf_url_template" content="https://learn.microsoft.com/pdfstore/en-us/MSDN.azure-sql/{branchName}{pdfName}" />
	
		<meta name="feedback_help_link_type" content="" />
	
		<meta name="feedback_help_link_url" content="" />
	
		<meta name="word_count" content="3579" />
	
		<meta name="config_moniker_range" content="= azuresql|| azuresql-db || azuresql-mi || azuresql-vm || fabricsql" />
	
		<meta name="asset_id" content="database/active-geo-replication-overview" />
	
		<meta name="moniker_range_name" content="20c6b21388b1b370f3184d3d3e1f476d" />
	
		<meta name="item_type" content="Content" />
	
		<meta name="source_path" content="azure-sql/database/active-geo-replication-overview.md" />
	
		<meta name="previous_tlsh_hash" content="DFA403B2502CD302FBAB9957249257262AF0C1C5BDF67685045964A0A81F1D3B9760DAFB7B0FB3445F7202EB11DBA81DE2D1EB2AF05C76394D52AC1DC2882215DBCB37FAC4" />
	
		<meta name="github_feedback_content_git_url" content="https://github.com/MicrosoftDocs/sql-docs/blob/live/azure-sql/database/active-geo-replication-overview.md" />
	
		<meta name="markdown_url" content="https://learn.microsoft.com/en-us/azure/azure-sql/database/active-geo-replication-overview?view=azuresql&amp;accept=text/markdown" />
	 
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/6ab7faaf-d791-4a26-96a2-3b11738538e7" data-source="generated" />
	
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/68ec7f3a-2bc6-459f-b959-19beb729907d" data-source="generated" />
	
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/aebdc4a3-c54b-4eea-94e3-663d5e166f57" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/302e28b0-1f09-4811-9a9b-2a72e0770581" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/90370425-aca4-4a39-9533-d52e5e002a5d" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/1baec8e6-ab38-4b56-bb59-f6282d94f311" data-source="generated" />
	

			<!-- assets and js globals -->
			
			<link rel="stylesheet" href="/static/assets/0.4.03336.7510-899cc417/styles/site-ltr.css" />
			
			<link rel="preconnect" href="//mscom.demdex.net" crossorigin />
						<link rel="dns-prefetch" href="//target.microsoft.com" />
						<link rel="dns-prefetch" href="//microsoftmscompoc.tt.omtrdc.net" />
						<link
							rel="preload"
							as="script"
							href="/static/third-party/adobe-target/at-js/2.9.0/at.js"
							integrity="sha384-l4AKhsU8cUWSht4SaJU5JWcHEWh1m4UTqL08s6b/hqBLAeIDxTNl+AMSxTLx6YMI"
							crossorigin="anonymous"
							id="adobe-target-script"
							type="application/javascript"
						/>
			<script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
			<script src="https://js.monitor.azure.com/scripts/c/ms.jsll-4.min.js"></script>
			<script src="/_themes/docs.theme/master/en-us/_themes/global/deprecation.js"></script>

			<!-- msdocs global object -->
			<script id="msdocs-script">
		var msDocs = {
  "environment": {
    "accessLevel": "online",
    "azurePortalHostname": "portal.azure.com",
    "reviewFeatures": false,
    "supportLevel": "production",
    "systemContent": true,
    "siteName": "learn",
    "legacyHosting": false
  },
  "data": {
    "contentLocale": "en-us",
    "contentDir": "ltr",
    "userLocale": "en-us",
    "userDir": "ltr",
    "pageTemplate": "Conceptual",
    "brand": "azure",
    "context": {},
    "standardFeedback": true,
    "showFeedbackReport": false,
    "feedbackHelpLinkType": "",
    "feedbackHelpLinkUrl": "",
    "feedbackSystem": "Standard",
    "feedbackGitHubRepo": "MicrosoftDocs/azure-docs",
    "feedbackProductUrl": "https://aka.ms/sqlfeedback",
    "extendBreadcrumb": false,
    "isEditDisplayable": true,
    "isPrivateUnauthorized": false,
    "hideViewSource": false,
    "isPermissioned": false,
    "hasRecommendations": true,
    "contributors": [
      {
        "name": "rajeshsetlem",
        "url": "https://github.com/rajeshsetlem"
      },
      {
        "name": "MeeraDi",
        "url": "https://github.com/MeeraDi"
      },
      {
        "name": "mhyon",
        "url": "https://github.com/mhyon"
      },
      {
        "name": "4sterm",
        "url": "https://github.com/4sterm"
      },
      {
        "name": "WilliamDAssafMSFT",
        "url": "https://github.com/WilliamDAssafMSFT"
      },
      {
        "name": "rwestMSFT",
        "url": "https://github.com/rwestMSFT"
      },
      {
        "name": "MashaMSFT",
        "url": "https://github.com/MashaMSFT"
      },
      {
        "name": "Stacyrch140",
        "url": "https://github.com/Stacyrch140"
      },
      {
        "name": "MikeRayMSFT",
        "url": "https://github.com/MikeRayMSFT"
      },
      {
        "name": "twright-msft",
        "url": "https://github.com/twright-msft"
      },
      {
        "name": "alexbuckgit",
        "url": "https://github.com/alexbuckgit"
      },
      {
        "name": "v-regandowner",
        "url": "https://github.com/v-regandowner"
      },
      {
        "name": "arvindshmicrosoft",
        "url": "https://github.com/arvindshmicrosoft"
      },
      {
        "name": "rothja",
        "url": "https://github.com/rothja"
      },
      {
        "name": "jborsecnik",
        "url": "https://github.com/jborsecnik"
      },
      {
        "name": "emlisa",
        "url": "https://github.com/emlisa"
      },
      {
        "name": "PRMerger-2",
        "url": "https://github.com/PRMerger-2"
      },
      {
        "name": "PRMerger20",
        "url": "https://github.com/PRMerger20"
      },
      {
        "name": "dimitri-furman",
        "url": "https://github.com/dimitri-furman"
      },
      {
        "name": "laurabren",
        "url": "https://github.com/laurabren"
      },
      {
        "name": "LitKnd",
        "url": "https://github.com/LitKnd"
      },
      {
        "name": "v-andreaco",
        "url": "https://github.com/v-andreaco"
      },
      {
        "name": "denrea",
        "url": "https://github.com/denrea"
      },
      {
        "name": "JasonWHowell",
        "url": "https://github.com/JasonWHowell"
      },
      {
        "name": "BustosMSFT",
        "url": "https://github.com/BustosMSFT"
      },
      {
        "name": "v-albemi",
        "url": "https://github.com/v-albemi"
      },
      {
        "name": "rolyon",
        "url": "https://github.com/rolyon"
      },
      {
        "name": "shkale-msft",
        "url": "https://github.com/shkale-msft"
      },
      {
        "name": "DCtheGeek",
        "url": "https://github.com/DCtheGeek"
      },
      {
        "name": "GitHubber17",
        "url": "https://github.com/GitHubber17"
      },
      {
        "name": "VanMSFT",
        "url": "https://github.com/VanMSFT"
      },
      {
        "name": "v-kents",
        "url": "https://github.com/v-kents"
      },
      {
        "name": "CarlRabeler",
        "url": "https://github.com/CarlRabeler"
      },
      {
        "name": "paulth1",
        "url": "https://github.com/paulth1"
      }
    ]
  },
  "functions": {}
};;
	</script>

			<!-- base scripts, msdocs global should be before this -->
			<script src="/static/assets/0.4.03336.7510-899cc417/scripts/en-us/index-docs.js"></script>
			

			<!-- json-ld -->
			
		</head>
	
			<body
				id="body"
				data-bi-name="body"
				class="layout-body "
				lang="en-us"
				dir="ltr"
			>
				<header class="layout-body-header">
		<div class="header-holder has-default-focus">
			
		<a
			href="#main"
			
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			
		>
			Skip to main content
		</a>
	
		<a
			href="#"
			data-skip-to-ask-learn
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			hidden
		>
			Skip to Ask Learn chat experience
		</a>
	

			<div hidden id="cookie-consent-holder" data-test-id="cookie-consent-container"></div>
			<!-- Unsupported browser warning -->
			<div
				id="unsupported-browser"
				style="background-color: white; color: black; padding: 16px; border-bottom: 1px solid grey;"
				hidden
			>
				<div style="max-width: 800px; margin: 0 auto;">
					<p style="font-size: 24px">This browser is no longer supported.</p>
					<p style="font-size: 16px; margin-top: 16px;">
						Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.
					</p>
					<div style="margin-top: 12px;">
						<a
							href="https://go.microsoft.com/fwlink/p/?LinkID=2092881 "
							style="background-color: #0078d4; border: 1px solid #0078d4; color: white; padding: 6px 12px; border-radius: 2px; display: inline-block;"
						>
							Download Microsoft Edge
						</a>
						<a
							href="https://learn.microsoft.com/en-us/lifecycle/faq/internet-explorer-microsoft-edge"
							style="background-color: white; padding: 6px 12px; border: 1px solid #505050; color: #171717; border-radius: 2px; display: inline-block;"
						>
							More info about Internet Explorer and Microsoft Edge
						</a>
					</div>
				</div>
			</div>
			<!-- site header -->
			<header
				id="ms--site-header"
				data-test-id="site-header-wrapper"
				role="banner"
				itemscope="itemscope"
				itemtype="http://schema.org/Organization"
			>
				<div
					id="ms--mobile-nav"
					class="site-header display-none-tablet padding-inline-none gap-none"
					data-bi-name="mobile-header"
					data-test-id="mobile-header"
				></div>
				<div
					id="ms--primary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L1-header"
					data-test-id="primary-header"
				></div>
				<div
					id="ms--secondary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L2-header"
					data-test-id="secondary-header"
					
				></div>
			</header>
			
		<!-- banner -->
		<div data-banner>
			<div id="disclaimer-holder"></div>
			
		</div>
		<!-- banner end -->
	
		</div>
	</header>
				 <section
					id="layout-body-menu"
					class="layout-body-menu display-flex"
					data-bi-name="menu"
			  >
					
		<div
			id="left-container"
			class="left-container display-none display-block-tablet padding-inline-sm padding-bottom-sm width-full"
			data-toc-container="true"
		>
			<!-- Regular TOC content (default) -->
			<div id="ms--toc-content" class="height-full">
				<nav
					id="affixed-left-container"
					class="margin-top-sm-tablet position-sticky display-flex flex-direction-column"
					aria-label="Primary"
					data-bi-name="left-toc"
					role="navigation"
				></nav>
			</div>
			<!-- Collapsible TOC content (hidden by default) -->
			<div id="ms--toc-content-collapsible" class="height-full" hidden>
				<nav
					id="affixed-left-container"
					class="margin-top-sm-tablet position-sticky display-flex flex-direction-column"
					aria-label="Primary"
					data-bi-name="left-toc"
					role="navigation"
				>
					<div
						id="ms--collapsible-toc-header"
						class="display-flex flex-direction-row-reverse justify-content-space-between align-items-center margin-bottom-xxs"
					>
						<button
							type="button"
							class="button button-clear inner-focus"
							data-collapsible-toc-toggle
							aria-expanded="true"
							aria-controls="ms--collapsible-toc-content"
							aria-label="Table of contents"
						>
							<span class="icon font-size-h4" aria-hidden="true">
								<span class="docon docon-panel-left-contract"></span>
							</span>
						</button>
						<div id="ms--collapsible-toc-moniker-slot" class="flex-grow-1"></div>
					</div>
				</nav>
			</div>
		</div>
	
			  </section>

				<main
					id="main"
					role="main"
					class="layout-body-main "
					data-bi-name="content"
					lang="en-us"
					dir="ltr"
				>
					
			<div
		id="ms--content-header"
		class="content-header default-focus border-bottom-none"
		data-bi-name="content-header"
	>
		<div class="content-header-controls margin-xxs margin-inline-sm-tablet">
			<button
				type="button"
				class="contents-button button button-sm margin-right-xxs"
				data-bi-name="contents-expand"
				aria-haspopup="true"
				data-contents-button
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-menu"></span></span>
				<span class="contents-expand-title"> Table of contents </span>
			</button>
			<button
				type="button"
				class="ap-collapse-behavior ap-expanded button button-sm"
				data-bi-name="ap-collapse"
				aria-controls="action-panel"
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-exit-mode"></span></span>
				<span>Exit editor mode</span>
			</button>
		</div>
	</div>
			<div data-main-column class="padding-sm padding-top-none padding-top-sm-tablet">
				<div>
					
		<div id="article-header" class="background-color-body margin-bottom-xs display-none-print">
			<div class="display-flex align-items-center justify-content-space-between">
				
		<details
			id="article-header-breadcrumbs-overflow-popover"
			class="popover"
			data-for="article-header-breadcrumbs"
		>
			<summary
				class="button button-clear button-primary button-sm inner-focus"
				aria-label="All breadcrumbs"
			>
				<span class="icon">
					<span class="docon docon-more"></span>
				</span>
			</summary>
			<div id="article-header-breadcrumbs-overflow" class="popover-content padding-none"></div>
		</details>

		<bread-crumbs
			id="article-header-breadcrumbs"
			role="group"
			aria-label="Breadcrumbs"
			data-test-id="article-header-breadcrumbs"
			class="overflow-hidden flex-grow-1 margin-right-sm margin-right-md-tablet margin-right-lg-desktop margin-left-negative-xxs padding-left-xxs"
		></bread-crumbs>
	 
		<div
			id="article-header-page-actions"
			class="opacity-none margin-left-auto display-flex flex-wrap-no-wrap align-items-stretch"
		>
			
		<button
			class="button button-sm border-none inner-focus display-none-tablet flex-shrink-0 "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-modal-entry-mobile"
			data-ask-learn-modal-entry
			
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-none display-inline-flex-tablet display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			
			data-test-id="ask-learn-assistant-modal-entry-tablet"
			data-ask-learn-modal-entry
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			
			data-test-id="ask-learn-assistant-flyout-entry"
			data-ask-learn-flyout-entry
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	 
		<button
			type="button"
			id="ms--focus-mode-button"
			data-focus-mode
			data-bi-name="focus-mode-entry"
			class="button button-sm flex-shrink-0 margin-right-xxs display-none display-inline-flex-desktop"
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-glasses"></span>
			</span>
			<span>Focus mode</span>
		</button>
	 

			<details class="popover popover-right" id="article-header-page-actions-overflow">
				<summary
					class="justify-content-flex-start button button-clear button-sm button-primary inner-focus"
					aria-label="More actions"
					title="More actions"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-more-vertical"></span>
					</span>
				</summary>
				<div class="popover-content">
					
		<button
			data-page-action-item="overflow-mobile"
			type="button"
			class="button-block button-sm inner-focus button button-clear display-none-tablet justify-content-flex-start text-align-left"
			data-bi-name="contents-expand"
			data-contents-button
			data-popover-close
		>
			<span class="icon">
				<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
			</span>
			<span class="contents-expand-title">Table of contents</span>
		</button>
	 
		<a
			id="lang-link-overflow"
			class="button-sm inner-focus button button-clear button-block justify-content-flex-start text-align-left"
			data-bi-name="language-toggle"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-read-in-link
			href="#"
			hidden
		>
			<span class="icon" aria-hidden="true" data-read-in-link-icon>
				<span class="docon docon-locale-globe"></span>
			</span>
			<span data-read-in-link-text>Read in English</span>
		</a>
	 
		<button
			type="button"
			class="collection button button-clear button-sm button-block justify-content-flex-start text-align-left inner-focus"
			data-list-type="collection"
			data-bi-name="collection"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="collection-status">Add</span>
		</button>
	
					
		<button
			type="button"
			class="collection button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
			data-list-type="plan"
			data-bi-name="plan"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="plan-status">Add to plan</span>
		</button>
	  
		<a
			data-contenteditbtn
			class="button button-clear button-block button-sm inner-focus justify-content-flex-start text-align-left text-decoration-none"
			data-bi-name="edit"
			
			href="https://github.com/MicrosoftDocs/sql-docs/blob/live/azure-sql/database/active-geo-replication-overview.md"
			data-original_content_git_url="https://github.com/MicrosoftDocs/sql-docs-pr/blob/live/azure-sql/database/active-geo-replication-overview.md"
			data-original_content_git_url_template="{repo}/blob/{branch}/azure-sql/database/active-geo-replication-overview.md"
			data-pr_repo=""
			data-pr_branch=""
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-edit-outline"></span>
			</span>
			<span>Edit</span>
		</a>
	
					
		<hr class="margin-block-xxs" />
		<h4 class="font-size-sm padding-left-xxs">Share via</h4>
		
					<a
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-facebook"
						data-bi-name="facebook"
						data-page-action-item="overflow-all"
						href="#"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-facebook-share"></span>
						</span>
						<span>Facebook</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-twitter"
						data-bi-name="twitter"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-text" aria-hidden="true">
							<span class="docon docon-xlogo-share"></span>
						</span>
						<span>x.com</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-linkedin"
						data-bi-name="linkedin"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-linked-in-logo"></span>
						</span>
						<span>LinkedIn</span>
					</a>
					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-email"
						data-bi-name="email"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-mail-message"></span>
						</span>
						<span>Email</span>
					</a>
			  
	 
		<hr class="margin-block-xxs" />
		
				<button
					class="button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
					type="button"
					data-bi-name="copy-markdown"
					data-page-action-item="overflow-all"
					data-copy-markdown
					data-copy-state="idle"
					data-check-hidden="true"
				>
					<span class="icon color-primary" aria-hidden="true">
						<span data-show-when="idle" class="docon docon-code-lang"></span>
						<span data-show-when="loading" class="loader" hidden></span>
						<span data-show-when="success" class="docon docon-check-mark" hidden></span>
					</span>
					<span>Copy Markdown</span>
				</button>
		   
				<button
					class="button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
					type="button"
					data-bi-name="print"
					data-page-action-item="overflow-all"
					data-popover-close
					data-print-page
					data-check-hidden="true"
				>
					<span class="icon color-primary" aria-hidden="true">
						<span class="docon docon-print"></span>
					</span>
					<span>Print</span>
				</button>
		  
	
				</div>
			</details>
		</div>
	
			</div>
		</div>
	  
		<!-- privateUnauthorizedTemplate is hidden by default -->
		<div unauthorized-private-section data-bi-name="permission-content-unauthorized-private" hidden>
			<hr class="hr margin-top-xs margin-bottom-sm" />
			<div class="notification notification-info">
				<div class="notification-content">
					<p class="margin-top-none notification-title">
						<span class="icon">
							<span class="docon docon-exclamation-circle-solid" aria-hidden="true"></span>
						</span>
						<span>Note</span>
					</p>
					<p class="margin-top-none authentication-determined not-authenticated">
						Access to this page requires authorization. You can try <a class="docs-sign-in" href="#" data-bi-name="permission-content-sign-in">signing in</a> or <a  class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
					<p class="margin-top-none authentication-determined authenticated">
						Access to this page requires authorization. You can try <a class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
				</div>
			</div>
		</div>
	
					<div class="content"><h1 id="active-geo-replication">Active geo-replication</h1></div>
					
		<div
			id="article-metadata"
			data-bi-name="article-metadata"
			data-test-id="article-metadata"
			class="page-metadata-container display-flex gap-xxs justify-content-space-between align-items-center flex-wrap-wrap"
		>
			 
				<div
					id="user-feedback"
					class="margin-block-xxs display-none display-none-print"
					hidden
					data-hide-on-archived
				>
					
		<button
			id="user-feedback-button"
			data-test-id="conceptual-feedback-button"
			class="button button-sm button-clear button-primary display-none"
			type="button"
			data-bi-name="user-feedback-button"
			data-user-feedback-button
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-like"></span>
			</span>
			<span>Feedback</span>
		</button>
	
				</div>
		  
		</div>
	 
		<div data-id="ai-summary" hidden>
			<div id="ms--ai-summary-cta" class="margin-top-xs display-flex align-items-center">
				<span class="icon" aria-hidden="true">
					<span class="docon docon-sparkle-fill gradient-text-vivid"></span>
				</span>
				<button
					id="ms--ai-summary"
					type="button"
					class="tag tag-sm tag-suggestion margin-left-xxs"
					data-test-id="ai-summary-cta"
					data-bi-name="ai-summary-cta"
					data-an="ai-summary"
				>
					<span class="ai-summary-cta-text">
						Summarize this article for me
					</span>
				</button>
			</div>
			<!-- Slot where the client will render the summary card after the user clicks the CTA -->
			<div id="ms--ai-summary-header" class="margin-top-xs"></div>
		</div>
	 
		<nav
			id="center-doc-outline"
			class="doc-outline is-hidden-desktop display-none-print margin-bottom-sm"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h2 id="ms--in-this-article" class="title is-6 margin-block-xs">
				In this article
			</h2>
		</nav>
	
					<div class="content"><p><strong>Applies to:</strong> <img src="../media/applies-to/yes-icon.svg?view=azuresql" role="presentation" data-linktype="relative-path">
 <a href="/en-us/sql/sql-server/sql-docs-navigation-guide#applies-to" data-linktype="absolute-path">Azure SQL Database</a></p>
<p>This article provides an overview of the active geo-replication feature for <a href="sql-database-paas-overview?view=azuresql" data-linktype="relative-path">Azure SQL Database</a>, which lets you continuously replicate data from a primary database to a readable secondary database. The readable secondary database might be in the same Azure region as the primary, or, more commonly, in a different region. This kind of readable secondary database is also known as a geo-secondary or geo-replica.</p>
<p>Active geo-replication is configured per database. To fail over a group of databases, or if your application requires a stable connection endpoint, consider <a href="failover-group-sql-db?view=azuresql" data-linktype="relative-path">Failover groups</a> instead.</p>
<p>You can also <a href="/en-us/azure/germany/germany-migration-databases#migrate-sql-database-using-active-geo-replication" data-linktype="absolute-path">migrate a SQL database with active geo-replication</a>.</p>
<h2 id="overview">Overview</h2>
<p>Active geo-replication is designed as a business continuity solution. Active geo-replication lets you perform quick disaster recovery of individual databases if there's a regional disaster or a large scale outage. Once geo-replication is set up, you can initiate a geo-failover to a geo-secondary in a different Azure region. The geo-failover is initiated programmatically by the application or manually by the user.</p>
<p>The following diagram illustrates a typical configuration of a geo-redundant cloud application using Active geo-replication.</p>
<p><span class="mx-imgBorder">
<img src="media/active-geo-replication-overview/geo-replication-updated.png?view=azuresql" alt="Diagram of active geo-replication." data-linktype="relative-path">
</span>
</p>
<p>If for any reason your primary database fails, you can initiate a geo-failover to any of your secondary databases. When a secondary is promoted to the primary role, all other secondaries are automatically linked to the new primary.</p>
<p>You can manage geo-replication and initiate a geo-failover using any of the following methods:</p>
<ul>
<li>The <a href="active-geo-replication-configure-portal?view=azuresql" data-linktype="relative-path">Azure portal</a></li>
<li><a href="scripts/setup-geodr-and-failover-database-powershell?view=azuresql" data-linktype="relative-path">PowerShell: Single database</a></li>
<li><a href="scripts/setup-geodr-and-failover-elastic-pool-powershell?view=azuresql" data-linktype="relative-path">PowerShell: Elastic pool</a></li>
<li><a href="/en-us/sql/t-sql/statements/alter-database-azure-sql-database" data-linktype="absolute-path">Transact-SQL: Single database or elastic pool</a></li>
<li><a href="/en-us/rest/api/sql/replication-links" data-linktype="absolute-path">REST API: Single database</a></li>
</ul>
<p>Active geo-replication uses the <a href="/en-us/sql/database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server" data-linktype="absolute-path">Always On availability group</a> technology to asynchronously replicate the transaction log generated on the primary replica to all geo-replicas. While at any given point, a secondary database might be slightly behind the primary database, the data on a secondary is guaranteed to be transactionally consistent. In other words, changes made by uncommitted transactions aren't visible.</p>
<div class="NOTE">
<p>Note</p>
<p>Active geo-replication replicates changes by streaming database transaction log from the primary replica to secondary replicas. It is unrelated to <a href="/en-us/sql/relational-databases/replication/transactional/transactional-replication" data-linktype="absolute-path">transactional replication</a>, which replicates changes by executing DML (<code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>) commands on subscribers.</p>
</div>
<p>Geo-replication provides regional redundancy. Regional redundancy enables applications to quickly recover from a permanent loss of an entire Azure region or parts of a region, caused by natural disasters, catastrophic human errors, or malicious acts. Geo-replication RPO can be found in <a href="business-continuity-high-availability-disaster-recover-hadr-overview?view=azuresql" data-linktype="relative-path">Business continuity in Azure SQL Database</a>.</p>
<p>The following figure shows an example of active geo-replication configured with a primary in the West US 2 region and a geo-secondary in the East US region.</p>
<p><span class="mx-imgBorder">
<a href="media/active-geo-replication-overview/geo-replication-relationship.png?view=azuresql#lightbox" data-linktype="relative-path">
<img src="media/active-geo-replication-overview/geo-replication-relationship.png?view=azuresql" alt="Screenshot of the Azure portal showing a SQL DB geo-replication relationship." data-linktype="relative-path">
</a>
</span>
</p>
<p>In addition to disaster recovery, active geo-replication can be used in the following scenarios:</p>
<ul>
<li><strong>Database migration</strong>: You can use active geo-replication to migrate a database from one server to another with minimum downtime.</li>
<li><strong>Application upgrades</strong>: You can create an extra secondary as a fail back copy during application upgrades.</li>
</ul>
<p>To achieve full business continuity, adding database regional redundancy is only a part of the solution. Recovering an application (service) end-to-end after a catastrophic failure requires recovery of all components that constitute the service and any dependent services. Examples of these components include the client software (for example, a browser with a custom JavaScript), web front ends, storage, and DNS. It's critical that all components are resilient to the same failures and become available within the recovery time objective (RTO) of your application. Therefore, you need to identify all dependent services and understand the guarantees and capabilities they provide. Then, you must take adequate steps to ensure that your service functions during the failover of the services on which it depends. For more information about designing solutions for disaster recovery, see <a href="designing-cloud-solutions-for-disaster-recovery?view=azuresql" data-linktype="relative-path">Designing globally available services using Azure SQL Database</a>.</p>
<h2 id="terminology-and-capabilities">Terminology and capabilities</h2>
<ul>
<li><p><strong>Automatic asynchronous replication</strong>: You can only create a geo-secondary for an existing database. The geo-secondary can be created on any logical server, other than the server with the primary database. Once created, the geo-secondary replica is populated with the data of the primary database. This process is known as seeding. After a geo-secondary has been created and seeded, updates to the primary database are automatically and asynchronously replicated to the geo-secondary replica. Asynchronous replication means that transactions are committed on the primary database before they're replicated.</p>
</li>
<li><p><strong>Readable geo-secondary replicas</strong>: An application can access a geo-secondary replica to execute read-only queries using the same or different security principals used for accessing the primary database. For more information, see <a href="read-scale-out?view=azuresql" data-linktype="relative-path">Use read-only replicas to offload read-only query workloads</a>.</p>
</li>
</ul>
<div class="IMPORTANT">
<p>Important</p>
<p>You can use geo-replication to create secondary replicas in the same region as the primary. You can use these secondaries to satisfy read scale-out scenarios in the same region. However, a secondary replica in the same region does not provide additional resilience to catastrophic failures or large scale outages, and therefore is not a suitable failover target for disaster recovery purposes. It also does not guarantee availability zone isolation. Use Business Critical or Premium service tiers <a href="high-availability-sla-local-zone-redundancy?view=azuresql#zone-redundant-availability" data-linktype="relative-path">zone redundant configuration</a> or General Purpose service tier <a href="high-availability-sla-local-zone-redundancy?view=azuresql#zone-redundant-availability" data-linktype="relative-path">zone redundant configuration</a> to achieve availability zone isolation.</p>
</div>
<ul>
<li><p><strong>Failover (no data loss)</strong>: When a Failover (no data loss) is initiated, a full data synchronization step is completed before switching the roles of the primary and geo-secondary databases.  This ensures there is no data loss. Duration of the failover depends on the size of the transaction log on the primary that needs to be synchronized to the geo-secondary. Failover is designed for the following scenarios:</p>
<ul>
<li>Perform DR drills in production when the data loss isn't acceptable</li>
<li>Relocate the database to a different region</li>
<li>Return the database to the primary region after the outage has been mitigated (known as failback).</li>
</ul>
</li>
<li><p><strong>Forced failover (potential data loss)</strong>: Forced failover immediately switches the geo-secondary to the primary role without waiting for synchronization with the primary. Any transactions committed on the primary but not yet replicated to the secondary are lost. This operation is designed as a recovery method during outages when the primary isn't accessible, but database availability must be quickly restored. When the original primary is back online, it's automatically reconnected, reseeded using current data from the primary, and become the new geo-secondary.</p>
</li>
</ul>
<div class="IMPORTANT">
<p>Important</p>
<p>After either failover or forced failover, the connection endpoint for the new primary changes because the new primary is now located on a different logical server.</p>
</div>
<ul>
<li><strong>Multiple readable geo-secondaries</strong>: Up to four geo-secondaries can be created for a primary. If there's only one secondary, and it fails, the application is exposed to higher risk until a new secondary is created. If multiple secondaries exist, the application remains protected even if one of the secondaries fails. Additional secondaries can also be used to scale out read-only workloads.</li>
</ul>
<div class="TIP">
<p>Tip</p>
<p>If you are using active geo-replication to build a globally distributed application and need to provide read-only access to data in more than four regions, you can create a secondary of a secondary (a process known as chaining) to create additional geo-replicas. Replication lag on chained geo-replicas might be higher than on geo-replicas connected directly to the primary. Setting up chained geo-replication topologies is only supported programmatically, and not from Azure portal.</p>
</div>
<ul>
<li><p><strong>Geo-replication of databases in an elastic pool</strong>: Each geo-secondary can be a single database or a database in an elastic pool. The elastic pool choice for each geo-secondary database is separate and doesn't depend on the configuration of any other replica in the topology (either primary or secondary). Each elastic pool is contained within a single logical server. Because database names on a logical server must be unique, multiple geo-secondaries of the same primary can never share an elastic pool.</p>
</li>
<li><p><strong>User-controlled geo-failover and failback</strong>: A geo-secondary that has finished initial seeding can be explicitly switched to the primary role (failed over) at any time by the application or the user. During an outage where the primary is inaccessible, only forced failover can be used, which immediately promotes a geo-secondary to be the new primary. When the outage is mitigated, the system automatically makes the recovered primary a geo-secondary, and brings it up-to-date with the new primary. Due to the asynchronous nature of geo-replication, recent transactions might be lost during forced failovers if the primary fails before these transactions are replicated to a geo-secondary. When a primary with multiple geo-secondaries fails over, the system automatically reconfigures replication relationships and links the remaining geo-secondaries to the newly promoted primary, without requiring any user intervention. After the outage that caused the geo-failover is mitigated, it might be desirable to return the primary to its original region. To do that, perform a manual failover.</p>
</li>
<li><p><strong>Standby replica</strong>: If your secondary replica is used <em>only</em> for disaster recovery (DR) and doesn't have any read or write workloads, you can designate the replica as <a href="standby-replica-how-to-configure?view=azuresql" data-linktype="relative-path">standby</a> to save on licensing costs.</p>
</li>
</ul>
<p><a id="preparing-secondary-database-for-failover"></a></p>
<h2 id="prepare-for-geo-failover">Prepare for geo-failover</h2>
<p>To ensure that your application can immediately access the new primary after geo-failover, validate that authentication and network access for your secondary server are properly configured. For details, see <a href="active-geo-replication-security-configure?view=azuresql" data-linktype="relative-path">Configure and manage Azure SQL Database security for geo-restore or failover</a>. Also validate that backup retention policy on the secondary database matches that of the primary. This setting isn't a part of the database and isn't replicated from the primary. By default, the geo-secondary is configured with a default PITR retention period of seven days. For more information, see <a href="automated-backups-overview?view=azuresql" data-linktype="relative-path">Automated backups in Azure SQL Database</a>.</p>
<div class="IMPORTANT">
<p>Important</p>
<p>If your database is a member of a failover group, you cannot initiate its failover using the geo-replication failover command. Use the failover command for the group. If you need to failover an individual database, you must remove it from the failover group first. See <a href="failover-group-sql-db?view=azuresql" data-linktype="relative-path">Failover groups overview &amp; best practices (Azure SQL Database)</a> for details.</p>
</div>
<p><a id="configuring-secondary-database"></a></p>
<h2 id="configure-geo-secondary">Configure geo-secondary</h2>
<p>Both the primary and geo-secondary are required to have the same service tier. It's also strongly recommended that the geo-secondary is configured with the same backup storage redundancy, <a href="service-tiers-sql-database-vcore?view=azuresql#compute" data-linktype="relative-path">compute tier</a> (provisioned or serverless) and compute size (DTUs or vCores) as the primary. If the primary is experiencing a heavy write workload, a geo-secondary with a lower compute size might not be able to keep up. That causes replication lag on the geo-secondary, and might eventually cause unavailability of the geo-secondary. To mitigate these risks, active geo-replication reduces (throttles) the primary's transaction log rate if necessary to allow its secondaries to catch up.</p>
<p>Another consequence of an imbalanced geo-secondary configuration is that after failover, application performance can suffer due to insufficient compute capacity of the new primary. In that case, it's necessary to scale up the database to have sufficient resources, which might take significant time, and requires a <a href="high-availability-sla-local-zone-redundancy?view=azuresql" data-linktype="relative-path">high availability</a> failover at the end of the scale up process, which can interrupt application workloads.</p>
<p>If you decide to create the geo-secondary with a different configuration, you should monitor log I/O rate on the primary over time. This lets you estimate the minimal compute size of the geo-secondary required to sustain the replication load. For example, if your primary database is P6 (1000 DTU) and its log I/O is sustained at 50%, the geo-secondary needs to be at least P4 (500 DTU). To retrieve historical log I/O data, use the <a href="/en-us/sql/relational-databases/system-catalog-views/sys-resource-stats-azure-sql-database" data-linktype="absolute-path">sys.resource_stats</a> view. To retrieve recent log I/O data with higher granularity that better reflects short-term spikes, use the <a href="/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-db-resource-stats-azure-sql-database" data-linktype="absolute-path">sys.dm_db_resource_stats</a> view.</p>
<div class="TIP">
<p>Tip</p>
<p>Transaction log I/O throttling can occur in the following scenarios:</p>
<ul>
<li>If the geo-secondary is at a lower compute size than the primary. Look for the <code>HADR_THROTTLE_LOG_RATE_MISMATCHED_SLO</code> wait type in <a href="/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-requests-transact-sql" data-linktype="absolute-path">sys.dm_exec_requests</a> and <a href="/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-os-wait-stats-transact-sql" data-linktype="absolute-path">sys.dm_os_wait_stats</a> database views.</li>
<li>Throttling can also occur for reasons unrelated to compute size, for example in heavy workloads for bulk insert, <code>SELECT INTO</code>, and index builds. For more information on wait types for different kinds of log I/O throttling, see <a href="resource-limits-logical-server?view=azuresql#transaction-log-rate-governance" data-linktype="relative-path">Transaction log rate governance</a>.</li>
</ul>
</div>
<p>By default, backup storage redundancy of the geo-secondary is same as for the primary database. You can choose to configure a geo-secondary with a different backup storage redundancy. Backups are always taken on the primary database. If the secondary is configured with a different backup storage redundancy, then after a geo-failover, when the geo-secondary is promoted to the primary, new backups will be stored and billed according to the type of storage (RA-GRS, ZRS, LRS) selected on the new primary (previous secondary).</p>
<h2 id="save-on-costs-with-the-standby-replica">Save on costs with the standby replica</h2>
<p>If your secondary replica is used <em>only</em> for disaster recovery (DR) and doesn't have any read or write workloads, you can save on licensing costs by designating the database for standby when you configure a new active geo-replication relationship.</p>
<p>Review <a href="standby-replica-how-to-configure?view=azuresql" data-linktype="relative-path">license-free standby replica</a> to learn more.</p>
<h2 id="cross-subscription-geo-replication">Cross-subscription geo-replication</h2>
<ul>
<li><p>You can use the Azure portal to set up Active geo replication across subscriptions as long as both the subscriptions are in the same Microsoft Entra tenant.</p>
<ul>
<li>To create a geo-secondary replica in a subscription <em>different</em> from the subscription of the primary in a different Microsoft Entra tenant, use <a href="active-geo-replication-configure-portal?view=azuresql#cross-subscription-geo-replication" data-linktype="relative-path">SQL authentication and T-SQL</a>. <a href="authentication-aad-overview?view=azuresql" data-linktype="relative-path">Microsoft Entra authentication for Azure SQL</a> for cross-subscription geo-replication is not supported when a logical server is in a different Azure tenant</li>
<li>Cross-subscription geo-replication operations including setup and geo-failover are also supported using <a href="/en-us/rest/api/sql/databases/create-or-update" data-linktype="absolute-path">Databases Create or Update REST API</a>.</li>
</ul>
</li>
<li><p>Creating a cross-subscription geo-secondary on a logical server in the same or different Microsoft Entra tenant is not supported when <a href="authentication-azure-ad-only-authentication?view=azuresql" data-linktype="relative-path">Microsoft Entra-only authentication with Azure SQL</a> is enabled on either primary or secondary logical server and the creation is attempted using a Microsoft Entra ID user.</p>
</li>
</ul>
<p>For methods and step-by-step instructions, see <a href="active-geo-replication-configure-portal?view=azuresql" data-linktype="relative-path">Tutorial: Configure active geo-replication and failover (Azure SQL Database)</a>.</p>
<h2 id="private-endpoints">Private endpoints</h2>
<p>Adding a geo-secondary using T-SQL is not supported when connecting to the primary server over a <a href="private-endpoint-overview?view=azuresql" data-linktype="relative-path">private endpoint</a>.</p>
<p>If a private endpoint is configured but public network access is allowed, adding a geo-secondary is supported when connected to the primary server from a public IP address.</p>
<p>Once a geo-secondary is added, <a href="connectivity-settings?view=azuresql#deny-public-network-access" data-linktype="relative-path">public network access can be denied</a>.</p>
<p><a id="keeping-credentials-and-firewall-rules-in-sync"></a></p>
<h2 id="keep-credentials-and-firewall-rules-in-sync">Keep credentials and firewall rules in sync</h2>
<p>When using public network access for connecting to the database, we recommend using <a href="firewall-configure?view=azuresql" data-linktype="relative-path">database-level IP firewall rules</a> for geo-replicated databases. These rules are replicated with the database, which ensures that all geo-secondaries have the same IP firewall rules as the primary. This approach eliminates the need for customers to manually configure and maintain firewall rules on servers hosting the primary and secondary databases. Similarly, using <a href="logins-create-manage?view=azuresql" data-linktype="relative-path">contained database users</a> for data access ensures both primary and secondary databases always have the same authentication credentials. This way, after a geo-failover, there are no disruptions due to authentication credential mismatches. If you're using logins and users (rather than contained users), you must take extra steps to ensure that the same logins exist for your secondary database. For configuration details, see <a href="active-geo-replication-security-configure?view=azuresql" data-linktype="relative-path">Configure and manage Azure SQL Database security for geo-restore or failover</a>.</p>
<p><a id="upgrading-or-downgrading-primary-database"></a></p>
<h2 id="scale-primary-database">Scale primary database</h2>
<p>You can scale up or scale down the primary database to a different compute size (within the same service tier) without disconnecting any geo-secondaries. When scaling up, we recommend that you scale up the geo-secondary first, and then scale up the primary. When scaling down, reverse the order: scale down the primary first, and then scale down the secondary.</p>
<p>For information about failover groups, review <a href="failover-group-configure-sql-db?view=azuresql#upgrading-or-downgrading-primary-database" data-linktype="relative-path">scale a replica in a failover group</a>.</p>
<p><a id="preventing-the-loss-of-critical-data"></a></p>
<h2 id="prevent-loss-of-critical-data">Prevent loss of critical data</h2>
<p>Due to the high latency of wide area networks, geo-replication uses an asynchronous replication mechanism. Asynchronous replication makes the possibility of data loss unavoidable if the primary fails. To protect critical transactions from data loss, an application developer can call the <a href="/en-us/sql/relational-databases/system-stored-procedures/sp-wait-for-database-copy-sync-transact-sql" data-linktype="absolute-path">sp_wait_for_database_copy_sync</a> stored procedure immediately after committing the transaction. Calling <code>sp_wait_for_database_copy_sync</code> blocks the calling thread until the last committed transaction has been transmitted and hardened in the transaction log of the secondary database. It also waits for the transmitted transactions to be replayed (redone) on the secondary. The <code>sp_wait_for_database_copy_sync</code> system stored procedure is scoped to a specific geo-replication link. Any user with the connection rights to the primary database can call this procedure.</p>
<div class="NOTE">
<p>Note</p>
<p><code>sp_wait_for_database_copy_sync</code> prevents data loss after geo-failover for specific transactions, but does not guarantee full synchronization for read access. The delay caused by a <code>sp_wait_for_database_copy_sync</code> procedure call can be significant and depends on the size of the not yet transmitted transaction log on the primary at the time of the call.</p>
</div>
<p><a id="monitoring-geo-replication-lag"></a></p>
<h2 id="monitor-geo-replication-lag">Monitor geo-replication lag</h2>
<p>To monitor lag with respect to RPO, use the <code>replication_lag_sec</code> column of <a href="/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-geo-replication-link-status-azure-sql-database" data-linktype="absolute-path">sys.dm_geo_replication_link_status</a> on the primary database. It shows lag in seconds between the transactions committed on the primary, and hardened to the transaction log on the secondary. For example, if the lag is one second, it means that if the primary is affected by an outage at this moment and a geo-failover is initiated, transactions committed in the last second will be lost.</p>
<p>To measure lag with respect to changes on the primary database that have been hardened on the geo-secondary, compare <code>last_commit</code> time on the geo-secondary with the same value on the primary.</p>
<div class="TIP">
<p>Tip</p>
<p>If <code>replication_lag_sec</code> on the primary is <code>NULL</code>, it means that the primary does not currently know how far behind a geo-secondary is. This typically happens after process restarts and should be a transient condition. Consider sending an alert if <code>replication_lag_sec</code> returns <code>NULL</code> for an extended period of time. It might indicate that the geo-secondary cannot communicate with the primary due to a connectivity failure.</p>
<p>There are also conditions that could cause the difference between <code>last_commit</code> time on the geo-secondary and on the primary to become large. For example, if a commit is made on the primary after a long period of no changes, the difference will jump up to a large value before quickly returning to zero. Consider sending an alert if the difference between these two values remains large for a long time.</p>
</div>
<p><a id="programmatically-managing-active-geo-replication"></a></p>
<h2 id="programmatically-manage-active-geo-replication">Programmatically manage active geo-replication</h2>
<p>Active geo-replication can also be managed programmatically using T-SQL, Azure PowerShell, and REST API. The following tables describe the set of commands available. Active geo-replication includes a set of Azure Resource Manager APIs for management, including the <a href="/en-us/rest/api/sql/" data-linktype="absolute-path">Azure SQL Database REST API</a> and <a href="/en-us/powershell/azure/" data-linktype="absolute-path">Azure PowerShell cmdlets</a>. These APIs support Azure role-based access control (Azure RBAC). For more information on how to implement access roles, see <a href="/en-us/azure/role-based-access-control/overview" data-linktype="absolute-path">Azure role-based access control (Azure RBAC)</a>.</p>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_tsql" role="tab" aria-controls="tabpanel_1_tsql" data-tab="tsql" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Transact-SQL (T-SQL)</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_powershell" role="tab" aria-controls="tabpanel_1_powershell" data-tab="powershell" tabindex="-1" data-linktype="self-bookmark">PowerShell</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_azure-cli" role="tab" aria-controls="tabpanel_1_azure-cli" data-tab="azure-cli" tabindex="-1" data-linktype="self-bookmark">Azure CLI</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_restapi" role="tab" aria-controls="tabpanel_1_restapi" data-tab="restapi" tabindex="-1" data-linktype="self-bookmark">REST API</a>
</li>
</ul>
<section id="tabpanel_1_tsql" role="tabpanel" data-tab="tsql">

<p><a id="t-sql-manage-failover-of-single-and-pooled-databases"></a></p>
<div class="IMPORTANT">
<p>Important</p>
<p>These T-SQL commands only apply to active geo-replication and do not apply to failover groups.</p>
</div>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/en-us/sql/t-sql/statements/alter-database-transact-sql?preserve-view=true&amp;view=azuresqldb-current" data-linktype="absolute-path">ALTER DATABASE</a></td>
<td>Use <code>ADD SECONDARY ON SERVER</code> argument to create a secondary database for an existing database and starts data replication</td>
</tr>
<tr>
<td><a href="/en-us/sql/t-sql/statements/alter-database-transact-sql?preserve-view=true&amp;view=azuresqldb-current" data-linktype="absolute-path">ALTER DATABASE</a></td>
<td>Use <code>FAILOVER</code> or <code>FORCE_FAILOVER_ALLOW_DATA_LOSS</code> to switch a secondary database to be primary to initiate failover</td>
</tr>
<tr>
<td><a href="/en-us/sql/t-sql/statements/alter-database-transact-sql?preserve-view=true&amp;view=azuresqldb-current" data-linktype="absolute-path">ALTER DATABASE</a></td>
<td>Use <code>REMOVE SECONDARY ON SERVER</code> to terminate a data replication between a SQL Database and the specified secondary database.</td>
</tr>
<tr>
<td><a href="/en-us/sql/relational-databases/system-dynamic-management-views/sys-geo-replication-links-azure-sql-database" data-linktype="absolute-path">sys.geo_replication_links</a></td>
<td>Returns information about all existing replication links for each database on a server.</td>
</tr>
<tr>
<td><a href="/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-geo-replication-link-status-azure-sql-database" data-linktype="absolute-path">sys.dm_geo_replication_link_status</a></td>
<td>Gets the last replication time, last replication lag, and other information about the replication link for a given database.</td>
</tr>
<tr>
<td><a href="/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-operation-status-azure-sql-database" data-linktype="absolute-path">sys.dm_operation_status</a></td>
<td>Shows the status for all database operations including changes to replication links.</td>
</tr>
<tr>
<td><a href="/en-us/sql/relational-databases/system-stored-procedures/sp-wait-for-database-copy-sync-transact-sql" data-linktype="absolute-path">sys.sp_wait_for_database_copy_sync</a></td>
<td>Causes the application to wait until all committed transactions are hardened to the transaction log of a geo-secondary.</td>
</tr>
</tbody>
</table>
</section>
<section id="tabpanel_1_powershell" role="tabpanel" data-tab="powershell" aria-hidden="true" hidden="hidden">

<p><a id="powershell-manage-failover-of-single-and-pooled-databases"></a></p>
<div class="NOTE">
<p>Note</p>
<p>This article uses the Azure Az PowerShell module, which is the recommended PowerShell module for interacting with Azure. To get started with the Az PowerShell module, see <a href="/en-us/powershell/azure/install-az-ps" data-linktype="absolute-path">Install Azure PowerShell</a>. To learn how to migrate to the Az PowerShell module, see <a href="/en-us/powershell/azure/migrate-from-azurerm-to-az" data-linktype="absolute-path">Migrate Azure PowerShell from AzureRM to Az</a>.</p>
</div>
<div class="IMPORTANT">
<p>Important</p>
<p>The <code>Az</code> module replaces <code>AzureRM</code>. All future development is for the <code>Az.Sql</code> module.</p>
</div>
<table>
<thead>
<tr>
<th>Cmdlet</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/en-us/powershell/module/az.sql/get-azsqldatabase" data-linktype="absolute-path">Get-AzSqlDatabase</a></td>
<td>Gets one or more databases.</td>
</tr>
<tr>
<td><a href="/en-us/powershell/module/az.sql/new-azsqldatabasesecondary" data-linktype="absolute-path">New-AzSqlDatabaseSecondary</a></td>
<td>Creates a secondary database for an existing database and starts data replication.</td>
</tr>
<tr>
<td><a href="/en-us/powershell/module/az.sql/set-azsqldatabasesecondary" data-linktype="absolute-path">Set-AzSqlDatabaseSecondary</a></td>
<td>Switches a secondary database to be primary to initiate failover.</td>
</tr>
<tr>
<td><a href="/en-us/powershell/module/az.sql/remove-azsqldatabasesecondary" data-linktype="absolute-path">Remove-AzSqlDatabaseSecondary</a></td>
<td>Terminates data replication between a SQL Database and the specified secondary database.</td>
</tr>
<tr>
<td><a href="/en-us/powershell/module/az.sql/get-azsqldatabasereplicationlink" data-linktype="absolute-path">Get-AzSqlDatabaseReplicationLink</a></td>
<td>Gets the geo-replication links for a database.</td>
</tr>
</tbody>
</table>
<div class="TIP">
<p>Tip</p>
<p>For sample scripts, see <a href="scripts/setup-geodr-and-failover-database-powershell?view=azuresql" data-linktype="relative-path">Configure and failover a single database using active geo-replication</a> and <a href="scripts/setup-geodr-and-failover-elastic-pool-powershell?view=azuresql" data-linktype="relative-path">Configure and failover a pooled database using active geo-replication</a>.</p>
</div>
</section>
<section id="tabpanel_1_azure-cli" role="tabpanel" data-tab="azure-cli" aria-hidden="true" hidden="hidden">

<table>
<thead>
<tr>
<th style="text-align: left;">CLI command</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a href="/en-us/cli/azure/sql/db/replica?view=azure-cli-latest&amp;preserve-view=true#az-sql-db-replica-create" data-linktype="absolute-path">az sql db replica create</a></td>
<td style="text-align: left;">Create a database as a readable secondary replica of an existing database.</td>
</tr>
<tr>
<td style="text-align: left;"><a href="/en-us/cli/azure/sql/db/replica?view=azure-cli-latest&amp;preserve-view=true#az-sql-db-replica-delete-link" data-linktype="absolute-path">az sql db replica delete-link</a></td>
<td style="text-align: left;">Permanently stop data replication between two database replicas.</td>
</tr>
<tr>
<td style="text-align: left;"><a href="/en-us/cli/azure/sql/db/replica?view=azure-cli-latest&amp;preserve-view=true#az-sql-db-replica-list-links" data-linktype="absolute-path">az sql db replica list-links</a></td>
<td style="text-align: left;">List the replicas of a database and their replication status.</td>
</tr>
<tr>
<td style="text-align: left;"><a href="/en-us/cli/azure/sql/db/replica?view=azure-cli-latest&amp;preserve-view=true#az-sql-db-replica-set-primary" data-linktype="absolute-path">az sql db replica set-primary</a></td>
<td style="text-align: left;">Set the primary replica database by failing over from the current primary replica.</td>
</tr>
</tbody>
</table>
</section>
<section id="tabpanel_1_restapi" role="tabpanel" data-tab="restapi" aria-hidden="true" hidden="hidden">

<p><a id="rest-api-manage-failover-of-single-and-pooled-databases"></a></p>
<table>
<thead>
<tr>
<th>API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/en-us/rest/api/sql/databases/create-or-update" data-linktype="absolute-path">Create or Update Database (createMode=Restore)</a></td>
<td>Creates, updates, or restores a primary or a secondary database.</td>
</tr>
<tr>
<td><a href="/en-us/rest/api/sql/databases/create-or-update" data-linktype="absolute-path">Get Create or Update Database Status</a></td>
<td>Returns the status during a create operation.</td>
</tr>
<tr>
<td><a href="/en-us/rest/api/sql/replication-links/failover" data-linktype="absolute-path">Set Secondary Database as Primary (Planned Failover)</a></td>
<td>Sets which secondary database is primary by failing over from the current primary database. <strong>This option is not supported for SQL Managed Instance.</strong></td>
</tr>
<tr>
<td><a href="/en-us/rest/api/sql/replication-links/failover-allow-data-loss" data-linktype="absolute-path">Set Secondary Database as Primary (Unplanned Failover)</a></td>
<td>Sets which secondary database is primary by failing over from the current primary database. This operation might result in data loss. <strong>This option is not supported for SQL Managed Instance.</strong></td>
</tr>
<tr>
<td><a href="/en-us/rest/api/sql/replication-links/get" data-linktype="absolute-path">Get Replication Link</a></td>
<td>Gets a specific replication link for a given database in a geo-replication partnership. It retrieves the information visible in the <code>sys.geo_replication_links</code> catalog view. <strong>This option is not supported for SQL Managed Instance.</strong></td>
</tr>
<tr>
<td><a href="/en-us/rest/api/sql/replication-links/list-by-database" data-linktype="absolute-path">Replication Links - List By Database</a></td>
<td>Gets all replication links for a given database in a geo-replication partnership. It retrieves the information visible in the <code>sys.geo_replication_links</code> catalog view.</td>
</tr>
<tr>
<td><a href="/en-us/rest/api/sql/replication-links/delete" data-linktype="absolute-path">Delete Replication Link</a></td>
<td>Deletes a database replication link. Can't be done during failover.</td>
</tr>
</tbody>
</table>
</section>
</div>
<h2 id="related-content">Related content</h2>
<p>Configure active geo-replication:</p>
<ul>
<li><a href="active-geo-replication-configure-portal?view=azuresql&amp;tabs=portal" data-linktype="relative-path">For a database using the Azure portal</a>
<ul>
<li><a href="scripts/setup-geodr-and-failover-database-powershell?view=azuresql" data-linktype="relative-path">For a single database using PowerShell</a></li>
<li><a href="scripts/setup-geodr-and-failover-elastic-pool-powershell?view=azuresql" data-linktype="relative-path">For a pooled database using PowerShell</a></li>
</ul>
</li>
</ul>
<p>Other business continuity content:</p>
<ul>
<li><a href="business-continuity-high-availability-disaster-recover-hadr-overview?view=azuresql" data-linktype="relative-path">Overview of business continuity with Azure SQL Database</a>
<ul>
<li><a href="failover-group-sql-db?view=azuresql" data-linktype="relative-path">Failover groups</a></li>
<li><a href="standby-replica-how-to-configure?view=azuresql" data-linktype="relative-path">Free standby replica</a></li>
</ul>
</li>
<li><a href="service-tier-hyperscale-replicas?view=azuresql#geo-replica" data-linktype="relative-path">Hyperscale Geo-replica</a></li>
<li><a href="automated-backups-overview?view=azuresql" data-linktype="relative-path">Automated backups in Azure SQL Database</a></li>
<li><a href="recovery-using-backups?view=azuresql" data-linktype="relative-path">Restore a database from a backup in Azure SQL Database</a></li>
</ul>
</div>
					
		<div
			id="ms--inline-notifications"
			class="margin-block-xs"
			data-bi-name="inline-notification"
		></div>
	 
		<div
			id="assertive-live-region"
			role="alert"
			aria-live="assertive"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
		<div
			id="polite-live-region"
			role="status"
			aria-live="polite"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
	
					
		<!-- feedback section -->
		<section
			id="site-user-feedback-footer"
			class="font-size-sm margin-top-md display-none-print display-none-desktop"
			data-test-id="site-user-feedback-footer"
			data-bi-name="site-feedback-section"
		>
			<hr class="hr" />
			<h2 id="ms--feedback" class="title is-3">Feedback</h2>
			<div class="display-flex flex-wrap-wrap align-items-center">
				<p class="font-weight-semibold margin-xxs margin-left-none">
					Was this page helpful?
				</p>
				<div class="buttons">
					<button
						class="thumb-rating-button like button button-primary button-sm"
						data-test-id="footer-rating-yes"
						data-binary-rating-response="rating-yes"
						type="button"
						title="This article is helpful"
						data-bi-name="button-rating-yes"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-like"></span>
						</span>
						<span>Yes</span>
					</button>
					<button
						class="thumb-rating-button dislike button button-primary button-sm"
						id="standard-rating-no-button"
						hidden
						data-test-id="footer-rating-no"
						data-binary-rating-response="rating-no"
						type="button"
						title="This article is not helpful"
						data-bi-name="button-rating-no"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-dislike"></span>
						</span>
						<span>No</span>
					</button>
					<details
						class="popover popover-top"
						id="mobile-help-popover"
						data-test-id="footer-feedback-popover"
					>
						<summary
							class="thumb-rating-button dislike button button-primary button-sm"
							data-test-id="details-footer-rating-no"
							data-binary-rating-response="rating-no"
							title="This article is not helpful"
							data-bi-name="button-rating-no"
							aria-pressed="false"
							data-bi-an="feedback-unhelpful-popover"
						>
							<span class="icon" aria-hidden="true">
								<span class="docon docon-dislike"></span>
							</span>
							<span>No</span>
						</summary>
						<div
							class="popover-content width-200 width-300-tablet"
							role="dialog"
							aria-labelledby="popover-heading"
							aria-describedby="popover-description"
						>
							<p id="popover-heading" class="font-size-lg margin-bottom-xxs font-weight-semibold">
								Need help with this topic?
							</p>
							<p id="popover-description" class="font-size-sm margin-bottom-xs">
								Want to try using Ask Learn to clarify or guide you through this topic?
							</p>
							
		<div class="buttons flex-direction-row flex-wrap justify-content-center gap-xxs">
			<div>
		<button
			class="button button-sm border inner-focus display-none margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-test-id="ask-learn-assistant-modal-entry-mobile-feedback"
			data-ask-learn-modal-entry-feedback
			data-bi-an=feedback-unhelpful-popover
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-inline-flex display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-modal-entry-tablet-feedback"
			data-ask-learn-modal-entry-feedback
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-flyout-entry-feedback"
			data-ask-learn-flyout-entry-show-only
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	</div>
			<button
				type="button"
				class="button button-sm margin-right-xxs"
				data-help-option="suggest-fix"
				data-bi-name="feedback-suggest"
				data-bi-an="feedback-unhelpful-popover"
				data-test-id="suggest-fix"
			>
				<span class="icon" aria-hidden="true">
					<span class="docon docon-feedback"></span>
				</span>
				<span> Suggest a fix? </span>
			</button>
		</div>
	
						</div>
					</details>
				</div>
			</div>
		</section>
		<!-- end feedback section -->
	
				</div>
				
		<div id="ms--additional-resources-mobile" class="display-none-print">
			<hr class="hr" hidden />
			<h2 id="ms--additional-resources-mobile-heading" class="title is-3" hidden>
				Additional resources
			</h2>
			
		<section
			id="right-rail-recommendations-mobile"
			class=""
			data-bi-name="recommendations"
			hidden
		></section>
	 
		<section
			id="right-rail-training-mobile"
			class=""
			data-bi-name="learning-resource-card"
			hidden
		></section>
	 
		<section
			id="right-rail-events-mobile"
			class=""
			data-bi-name="events-card"
			hidden
		></section>
	 
		<section
			id="right-rail-qna-mobile"
			class="margin-top-xxs"
			data-bi-name="qna-link-card"
			hidden
		></section>
	
		</div>
	 
		<div
			id="article-metadata-footer"
			data-bi-name="article-metadata-footer"
			data-test-id="article-metadata-footer"
			class="page-metadata-container"
		>
			<hr class="hr" />
			<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
				<li class="visibility-hidden-visual-diff">
			<span class="badge badge-sm text-wrap-pretty">
				<span>Last updated on <local-time format="twoDigitNumeric"
		datetime="2025-08-07T08:00:00.000Z"
		data-article-date-source="calculated"
		class="is-invisible"
	>
		2025-08-07
	</local-time></span>
			</span>
		</li>
			</ul>
		</div>
	
			</div>
			
		<div
			id="action-panel"
			role="region"
			aria-label="Action Panel"
			class="action-panel"
			tabindex="-1"
		></div>
	
		
				</main>
				<aside
					id="layout-body-aside"
					class="layout-body-aside "
					data-bi-name="aside"
			  >
					
		<div
			id="ms--additional-resources"
			class="right-container padding-sm display-none display-block-desktop height-full"
			data-bi-name="pageactions"
			role="complementary"
			aria-label="Additional resources"
		>
			<div id="affixed-right-container" data-bi-name="right-column">
				
		<nav
			id="side-doc-outline"
			class="doc-outline border-bottom padding-bottom-xs margin-bottom-xs"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h3>In this article</h3>
		</nav>
	
				<!-- Feedback -->
				
		<section
			id="ms--site-user-feedback-right-rail"
			class="font-size-sm display-none-print"
			data-test-id="site-user-feedback-right-rail"
			data-bi-name="site-feedback-right-rail"
		>
			<p class="font-weight-semibold margin-bottom-xs">Was this page helpful?</p>
			<div class="buttons">
				<button
					class="thumb-rating-button like button button-primary button-sm"
					data-test-id="right-rail-rating-yes"
					data-binary-rating-response="rating-yes"
					type="button"
					title="This article is helpful"
					data-bi-name="button-rating-yes"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-like"></span>
					</span>
					<span>Yes</span>
				</button>
				<button
					class="thumb-rating-button dislike button button-primary button-sm"
					id="right-rail-no-button"
					hidden
					data-test-id="right-rail-rating-no"
					data-binary-rating-response="rating-no"
					type="button"
					title="This article is not helpful"
					data-bi-name="button-rating-no"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-dislike"></span>
					</span>
					<span>No</span>
				</button>
				<details class="popover popover-right" id="help-popover" data-test-id="feedback-popover">
					<summary
						tabindex="0"
						class="thumb-rating-button dislike button button-primary button-sm"
						data-test-id="details-right-rail-rating-no"
						data-binary-rating-response="rating-no"
						title="This article is not helpful"
						data-bi-name="button-rating-no"
						aria-pressed="false"
						data-bi-an="feedback-unhelpful-popover"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-dislike"></span>
						</span>
						<span>No</span>
					</summary>
					<div
						class="popover-content width-200 width-300-tablet"
						role="dialog"
						aria-labelledby="popover-heading"
						aria-describedby="popover-description"
					>
						<p
							id="popover-heading-right-rail"
							class="font-size-lg margin-bottom-xxs font-weight-semibold"
						>
							Need help with this topic?
						</p>
						<p id="popover-description-right-rail" class="font-size-sm margin-bottom-xs">
							Want to try using Ask Learn to clarify or guide you through this topic?
						</p>
						
		<div class="buttons flex-direction-row flex-wrap justify-content-center gap-xxs">
			<div>
		<button
			class="button button-sm border inner-focus display-none margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-test-id="ask-learn-assistant-modal-entry-mobile-feedback"
			data-ask-learn-modal-entry-feedback
			data-bi-an=feedback-unhelpful-popover
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-inline-flex display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-modal-entry-tablet-feedback"
			data-ask-learn-modal-entry-feedback
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs border-color-ask-learn margin-right-xxs"
			data-bi-name="ask-learn-assistant-entry-troubleshoot"
			data-bi-an=feedback-unhelpful-popover
			data-test-id="ask-learn-assistant-flyout-entry-feedback"
			data-ask-learn-flyout-entry-show-only
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	</div>
			<button
				type="button"
				class="button button-sm margin-right-xxs"
				data-help-option="suggest-fix"
				data-bi-name="feedback-suggest"
				data-bi-an="feedback-unhelpful-popover"
				data-test-id="suggest-fix"
			>
				<span class="icon" aria-hidden="true">
					<span class="docon docon-feedback"></span>
				</span>
				<span> Suggest a fix? </span>
			</button>
		</div>
	
					</div>
				</details>
			</div>
		</section>
	
			</div>
		</div>
	
			  </aside> <section
					id="layout-body-flyout"
					class="layout-body-flyout "
					data-bi-name="flyout"
			  >
					 <div
	class="height-full border-left background-color-body-medium"
	id="ask-learn-flyout"
></div>
			  </section> <div class="layout-body-footer " data-bi-name="layout-footer">
		<footer
			id="footer"
			data-test-id="footer"
			data-bi-name="footer"
			class="footer-layout has-padding has-default-focus border-top  uhf-container"
			role="contentinfo"
		>
			<div class="display-flex gap-xs flex-wrap-wrap is-full-height padding-right-lg-desktop">
				
		<a
			data-mscc-ic="false"
			href="#"
			data-bi-name="select-locale"
			class="locale-selector-link flex-shrink-0 button button-sm button-clear external-link-indicator"
			id=""
			title=""
			><span class="icon" aria-hidden="true"
				><span class="docon docon-world"></span></span
			><span class="local-selector-link-text">en-us</span></a
		>
	 <div class="ccpa-privacy-link" data-ccpa-privacy-link hidden>
		
		<a
			data-mscc-ic="false"
			href="https://aka.ms/yourcaliforniaprivacychoices"
			data-bi-name="your-privacy-choices"
			class="button button-sm button-clear flex-shrink-0 external-link-indicator"
			id=""
			title=""
			>
		<svg
			xmlns="http://www.w3.org/2000/svg"
			viewBox="0 0 30 14"
			xml:space="preserve"
			height="16"
			width="43"
			aria-hidden="true"
			focusable="false"
		>
			<path
				d="M7.4 12.8h6.8l3.1-11.6H7.4C4.2 1.2 1.6 3.8 1.6 7s2.6 5.8 5.8 5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#fff"
			></path>
			<path
				d="M22.6 0H7.4c-3.9 0-7 3.1-7 7s3.1 7 7 7h15.2c3.9 0 7-3.1 7-7s-3.2-7-7-7zm-21 7c0-3.2 2.6-5.8 5.8-5.8h9.9l-3.1 11.6H7.4c-3.2 0-5.8-2.6-5.8-5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#06f"
			></path>
			<path
				d="M24.6 4c.2.2.2.6 0 .8L22.5 7l2.2 2.2c.2.2.2.6 0 .8-.2.2-.6.2-.8 0l-2.2-2.2-2.2 2.2c-.2.2-.6.2-.8 0-.2-.2-.2-.6 0-.8L20.8 7l-2.2-2.2c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0l2.2 2.2L23.8 4c.2-.2.6-.2.8 0z"
				style="fill:#fff"
			></path>
			<path
				d="M12.7 4.1c.2.2.3.6.1.8L8.6 9.8c-.1.1-.2.2-.3.2-.2.1-.5.1-.7-.1L5.4 7.7c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0L8 8.6l3.8-4.5c.2-.2.6-.2.9 0z"
				style="fill:#06f"
			></path>
		</svg>
	
			<span>Your Privacy Choices</span></a
		>
	
	</div>
				<div class="flex-shrink-0">
		<div class="dropdown has-caret-up">
			<button
				data-test-id="theme-selector-button"
				class="dropdown-trigger button button-clear button-sm inner-focus theme-dropdown-trigger"
				aria-controls="{{ themeMenuId }}"
				aria-expanded="false"
				title="Theme"
				data-bi-name="theme"
			>
				<span class="icon">
					<span class="docon docon-sun" aria-hidden="true"></span>
				</span>
				<span>Theme</span>
				<span class="icon expanded-indicator" aria-hidden="true">
					<span class="docon docon-chevron-down-light"></span>
				</span>
			</button>
			<div class="dropdown-menu" id="{{ themeMenuId }}" role="menu">
				<ul class="theme-selector padding-xxs" data-test-id="theme-dropdown-menu">
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="light"
						>
							<span class="theme-light margin-right-xxs">
								<span
									class="theme-selector-icon border display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Light </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="dark"
						>
							<span class="theme-dark margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Dark </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="high-contrast"
						>
							<span class="theme-high-contrast margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> High contrast </span>
						</button>
					</li>
				</ul>
			</div>
		</div>
	</div>
			</div>
			<ul class="links" data-bi-name="footerlinks">
				<li class="manage-cookies-holder" hidden=""></li>
				<li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/principles-for-ai-generated-content"
			data-bi-name="aiDisclaimer"
			class=" external-link-indicator"
			id=""
			title=""
			>AI Disclaimer</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/previous-versions/"
			data-bi-name="archivelink"
			class=" external-link-indicator"
			id=""
			title=""
			>Previous Versions</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://techcommunity.microsoft.com/t5/microsoft-learn-blog/bg-p/MicrosoftLearnBlog"
			data-bi-name="bloglink"
			class=" external-link-indicator"
			id=""
			title=""
			>Blog</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/contribute"
			data-bi-name="contributorGuide"
			class=" external-link-indicator"
			id=""
			title=""
			>Contribute</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://go.microsoft.com/fwlink/?LinkId=521839"
			data-bi-name="privacy"
			class=" external-link-indicator"
			id=""
			title=""
			>Privacy</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/legal/termsofuse"
			data-bi-name="termsofuse"
			class=" external-link-indicator"
			id=""
			title=""
			>Terms of Use</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://www.microsoft.com/legal/intellectualproperty/Trademarks/"
			data-bi-name="trademarks"
			class=" external-link-indicator"
			id=""
			title=""
			>Trademarks</a
		>
	
	</li>
				<li>&copy; Microsoft 2026</li>
			</ul>
		</footer>
	</footer>
			</body>
		</html>